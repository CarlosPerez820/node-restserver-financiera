"use strict";(self.webpackChunkfinanciera_v3=self.webpackChunkfinanciera_v3||[]).push([[913],{913:(ln,ge,h)=>{h.r(ge),h.d(ge,{DashboardModule:()=>an});var q=h(6814),b=h(4828),De=h(6666),e=h(5879);function se(o){this.message=o}(se.prototype=new Error).name="InvalidCharacterError";var fe=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(o){var a=String(o).replace(/=+$/,"");if(a.length%4==1)throw new se("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,i,n=0,s=0,l="";i=a.charAt(s++);~i&&(t=n%4?64*t+i:i,n++%4)?l+=String.fromCharCode(255&t>>(-2*n&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return l};function ie(o){this.message=o}(ie.prototype=new Error).name="InvalidTokenError";var Ye=h(185);let T=(()=>{class o{constructor(t){this.authService=t}decodificar(){const t=this.authService.getToken();if(t){const i=function Re(o,a){if("string"!=typeof o)throw new ie("Invalid token specified");var t=!0===(a=a||{}).header?0:1;try{return JSON.parse(function Ee(o){var a=o.replace(/-/g,"+").replace(/_/g,"/");switch(a.length%4){case 0:break;case 2:a+="==";break;case 3:a+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(fe(a).replace(/(.)/g,function(i,n){var s=n.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}catch{return fe(a)}}(o.split(".")[t]))}catch(i){throw new ie("Invalid token specified: "+i.message)}}(t);this.correo=i.usuario,this.financiera=i.sucursal,this._idUsuario=i.uid,this.nombre=i.nombre}else console.log("No existe JWT")}getCorreo(){return this.correo}getNombre(){return this.nombre}getFinanciera(){return this.financiera}getID(){return this._idUsuario}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(Ye.u))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var x=h(2296),A=h(1274),E=h(617);let Oe=(()=>{class o{constructor(t){this.sharedService=t,this.nombreFinanciera="",this.isMenuOpen=!1}ngOnInit(){this.nombreFinanciera=this.sharedService.getFinanciera()??"FN"}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}cerrarSesion(){localStorage.removeItem("token")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-navbar"]],decls:46,vars:3,consts:[["color","primary",1,"navbar"],["mat-icon-button","",1,"hamburger",3,"click"],[1,"example-spacer"],[1,"navbar-desktop"],["mat-button","","routerLink","/dashboard/clientes"],["mat-button","","routerLink","/dashboard/renovaciones"],["mat-button","","routerLink","/dashboard/solicitudes"],["mat-button","","routerLink","/dashboard/prestamos"],["mat-button","","routerLink","/dashboard/informe-rutas"],["mat-button","","routerLink","/dashboard/informe-general"],["mat-button","","routerLink","/dashboard/ajustes"],["mat-button","","routerLink","/dashboard/tabulador"],["mat-icon-button","","routerLink","/logout",3,"click"],[1,"navbar-mobile"],[1,"navbar-links"],["mat-button","","routerLink","/dashboard/clientes",3,"click"],["mat-button","","routerLink","/dashboard/renovaciones",3,"click"],["mat-button","","routerLink","/dashboard/solicitudes",3,"click"],["mat-button","","routerLink","/dashboard/prestamos",3,"click"],["mat-button","","routerLink","/dashboard/informe-rutas",3,"click"],["mat-button","","routerLink","/dashboard/informe-general",3,"click"],["mat-button","","routerLink","/dashboard/ajustes",3,"click"],["mat-button","","routerLink","/dashboard/tabulador",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"button",1),e.NdJ("click",function(){return i.toggleMenu()}),e.TgZ(2,"mat-icon"),e._uU(3,"menu"),e.qZA()(),e.TgZ(4,"span"),e._uU(5),e.qZA(),e._UZ(6,"span",2),e.TgZ(7,"div",3)(8,"a",4),e._uU(9,"Clientes"),e.qZA(),e.TgZ(10,"a",5),e._uU(11,"Renovaciones"),e.qZA(),e.TgZ(12,"a",6),e._uU(13,"Solicitudes"),e.qZA(),e.TgZ(14,"a",7),e._uU(15,"Prestamos"),e.qZA(),e.TgZ(16,"a",8),e._uU(17,"Rutas"),e.qZA(),e.TgZ(18,"a",9),e._uU(19,"Informe"),e.qZA(),e.TgZ(20,"a",10),e._uU(21,"Configuracion"),e.qZA(),e.TgZ(22,"a",11),e._uU(23,"Herramientas"),e.qZA()(),e._UZ(24,"span",2),e.TgZ(25,"button",12),e.NdJ("click",function(){return i.cerrarSesion()}),e.TgZ(26,"mat-icon"),e._uU(27,"logout"),e.qZA()(),e.TgZ(28,"div",13)(29,"div",14)(30,"a",15),e.NdJ("click",function(){return i.toggleMenu()}),e._uU(31,"Clientes"),e.qZA(),e.TgZ(32,"a",16),e.NdJ("click",function(){return i.toggleMenu()}),e._uU(33,"Renovaciones"),e.qZA(),e.TgZ(34,"a",17),e.NdJ("click",function(){return i.toggleMenu()}),e._uU(35,"Solicitudes"),e.qZA(),e.TgZ(36,"a",18),e.NdJ("click",function(){return i.toggleMenu()}),e._uU(37,"Prestamos"),e.qZA(),e.TgZ(38,"a",19),e.NdJ("click",function(){return i.toggleMenu()}),e._uU(39,"Rutas"),e.qZA(),e.TgZ(40,"a",20),e.NdJ("click",function(){return i.toggleMenu()}),e._uU(41,"Informe"),e.qZA(),e.TgZ(42,"a",21),e.NdJ("click",function(){return i.toggleMenu()}),e._uU(43,"Configuracion"),e.qZA(),e.TgZ(44,"a",22),e.NdJ("click",function(){return i.toggleMenu()}),e._uU(45,"Herramientas"),e.qZA()()()()),2&t&&(e.xp6(5),e.Oqu(i.nombreFinanciera),e.xp6(23),e.ekj("active",i.isMenuOpen))},dependencies:[b.rH,x.zs,x.RK,A.Ye,E.Hw],styles:[".navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:auto}.navbar-desktop[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.navbar-desktop[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:16px}.navbar-mobile[_ngcontent-%COMP%]{display:none}.navbar-links[_ngcontent-%COMP%]{display:flex;flex-direction:column}.navbar-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-bottom:8px}@media (max-width: 1000px){.navbar-desktop[_ngcontent-%COMP%]{display:none}.hamburger[_ngcontent-%COMP%]{display:block}.navbar-mobile[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:55px;left:0;width:60%;background-color:#3f51b5;padding:16px;box-shadow:0 35px 35px #0000004d;transform:translate(-100%);transition:transform .3s ease-out;z-index:1000}.navbar-mobile.active[_ngcontent-%COMP%]{transform:translate(0)}}@media (min-width: 1001px){.hamburger[_ngcontent-%COMP%]{display:none}}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),o})(),Ge=(()=>{class o{constructor(t){this.sharedService=t}ngOnInit(){console.log(" Hola mundo Dashboard"),this.sharedService.decodificar(),console.log(this.sharedService.getFinanciera())}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(t,i){1&t&&e._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[b.lC,Oe]}),o})(),je=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-inicio"]],decls:10,vars:0,consts:[[1,"container"],[1,"body"],[1,"login"],["src","assets\\img\\sistem.png","alt","","width","50%"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Bienvenido a tu Panel de control"),e.qZA()(),e.TgZ(4,"div",1)(5,"h3"),e._uU(6,'"Nuestro sistema web de gesti\xf3n financiera es una poderosa herramienta dise\xf1ada para ayudar a las instituciones financieras a optimizar y simplificar sus operaciones. Desde la gesti\xf3n de pr\xe9stamos hasta el seguimiento de inversiones, ofrece una soluci\xf3n integral para el control y la administraci\xf3n eficiente de una financiera. Con una interfaz intuitiva y funciones personalizables, permite tomar decisiones informadas y mejorar la eficiencia operativa, brindando un servicio excepcional a los clientes."'),e.qZA(),e._UZ(7,"br"),e.TgZ(8,"div",2),e._UZ(9,"img",3),e.qZA()()())},dependencies:[A.Ye],styles:[".body[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%;align-items:center}.login[_ngcontent-%COMP%]{width:100%;max-width:330px;text-align:center}"]}),o})();var S=h(1476),_=h(3566),c=h(5313),P=h(553),k=h(9862);const R=P.N.url+"/api";let M=(()=>{class o{constructor(t){this.http=t}busquedaCliente(t){return this.http.get(`${R}/buscar/${t}`)}getBuroClientes(){return this.http.get(`${R}/clientes/buro`)}getClientesFinanciera(t){return this.http.get(`${R}/clientes/${t}`)}getClientesPorNumeroFinanciera(t,i){return this.http.get(`${R}/clientes/numero/${t}/${i}`)}getClienteEspecifico(t){return this.http.get(`${R}/clientes/especifico/${t}`)}guardarCliente(t){return this.http.post(`${R}/clientes/`,t)}PutClienteFinanciera(t,i){return this.http.put(`${R}/clientes/${t}`,i)}DeleteClienteFinanciera(t){return this.http.delete(`${R}/clientes/${t}`)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(k.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var p=h(9157),U=h(2032),ae=h(2596);function $e(o,a){1&o&&(e.TgZ(0,"th",19),e._uU(1," Nombre "),e.qZA())}function He(o,a){if(1&o&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.nombre," ")}}function Ve(o,a){1&o&&(e.TgZ(0,"th",19),e._uU(1," Direccion "),e.qZA())}function ze(o,a){if(1&o&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.direccion," ")}}function Le(o,a){1&o&&(e.TgZ(0,"th",21),e._uU(1," Gestor "),e.qZA())}function Be(o,a){if(1&o&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.gestorAsignado," ")}}function Xe(o,a){1&o&&(e.TgZ(0,"th",21),e._uU(1," clasificacion "),e.qZA())}function Ke(o,a){if(1&o&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.clasificacion," ")}}function We(o,a){1&o&&e._UZ(0,"th",21)}const et=function(o){return["/dashboard/expediente",o]},tt=function(o){return["/dashboard/editar-cliente",o]},ot=function(o){return["/dashboard/nueva-renovacion",o]};function it(o,a){if(1&o&&(e.TgZ(0,"td",22)(1,"a",23)(2,"mat-icon"),e._uU(3,"file_open"),e.qZA()(),e.TgZ(4,"a",24)(5,"mat-icon"),e._uU(6,"edit"),e.qZA()(),e.TgZ(7,"a",25)(8,"mat-icon"),e._uU(9,"add"),e.qZA()()()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,et,t._id)),e.xp6(3),e.Q6J("routerLink",e.VKq(5,tt,t._id)),e.xp6(3),e.Q6J("routerLink",e.VKq(7,ot,t._id))}}function at(o,a){1&o&&e._UZ(0,"tr",26)}function nt(o,a){1&o&&e._UZ(0,"tr",27)}const rt=function(){return[5,10,25,100]};let st=(()=>{class o{constructor(t,i){this.clienteService=t,this.sharedService=i,this.listaClientes=[],this.lista=[],this.displayedColumns=["nombre","direccion","gestorAsignado","clasificacion","acciones"],this.dataSource=new c.by(this.listaClientes)}ngOnInit(){this.obtenerClientes()}obtenerClientes(){this.clienteService.getClientesFinanciera(this.sharedService.getFinanciera()).subscribe(t=>{console.log(t),this.lista=t,this.listaClientes=this.lista.clientes,console.log(this.listaClientes),this.dataSource=new c.by(this.listaClientes)})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(M),e.Y36(T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-clientes"]],viewQuery:function(t,i){if(1&t&&(e.Gf(S.NW,5),e.Gf(_.YE,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.paginator=n.first),e.iGM(n=e.CRH())&&(i.sort=n.first)}},decls:32,vars:5,consts:[[1,"container"],[1,"example-spacer"],["mat-raised-button","","color","primary","routerLink","/dashboard/agregar-cliente"],["matInput","","placeholder","Nombre","autocomplete","off",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","direccion"],["matColumnDef","gestorAsignado"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","clasificacion"],["matColumnDef","acciones"],["mat-cell","","style","text-align: right;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",2,"text-align","right"],["matTooltip","Expediente",1,"pointer",2,"color","cornflowerblue",3,"routerLink"],["matTooltip","Editar Cliente",1,"pointer",2,"color","cornflowerblue",3,"routerLink"],["matTooltip","Generar Renovacion",1,"pointer",2,"color","cornflowerblue",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Clientes"),e.qZA(),e._UZ(4,"div",1),e.TgZ(5,"button",2),e._uU(6,"Agregar"),e.qZA()(),e.TgZ(7,"mat-form-field")(8,"mat-label"),e._uU(9,"Busqueda"),e.qZA(),e.TgZ(10,"input",3,4),e.NdJ("keyup",function(s){return i.applyFilter(s)}),e.qZA()(),e.TgZ(12,"div",5)(13,"table",6),e.ynx(14,7),e.YNc(15,$e,2,0,"th",8),e.YNc(16,He,2,1,"td",9),e.BQk(),e.ynx(17,10),e.YNc(18,Ve,2,0,"th",8),e.YNc(19,ze,2,1,"td",9),e.BQk(),e.ynx(20,11),e.YNc(21,Le,2,0,"th",12),e.YNc(22,Be,2,1,"td",9),e.BQk(),e.ynx(23,13),e.YNc(24,Xe,2,0,"th",12),e.YNc(25,Ke,2,1,"td",9),e.BQk(),e.ynx(26,14),e.YNc(27,We,1,0,"th",12),e.YNc(28,it,10,9,"td",15),e.BQk(),e.YNc(29,at,1,0,"tr",16),e.YNc(30,nt,1,0,"tr",17),e.qZA(),e._UZ(31,"mat-paginator",18),e.qZA()()),2&t&&(e.xp6(13),e.Q6J("dataSource",i.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,rt)))},dependencies:[b.rH,p.KE,p.hX,U.Nt,x.lW,A.Ye,E.Hw,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,ae.gM,S.NW,_.YE,_.nU],styles:["table[_ngcontent-%COMP%]{width:100%}.pointer[_ngcontent-%COMP%]{cursor:pointer}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),o})();var r=h(6223),C=h(3176),F=h(8525),Q=h(3680),G=h(8034),he=h(7466);function lt(o,a){if(1&o&&(e.TgZ(0,"div",7)(1,"mat-form-field",8),e._UZ(2,"input",9)(3,"mat-datepicker-toggle",10)(4,"mat-datepicker",11,12),e.qZA()()),2&o){const t=e.MAs(5);e.xp6(2),e.Q6J("matDatepicker",t),e.xp6(1),e.Q6J("for",t)}}function ct(o,a){if(1&o&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.viewValue," ")}}function mt(o,a){if(1&o&&(e.TgZ(0,"div")(1,"mat-grid-list",13)(2,"mat-grid-tile",14)(3,"mat-form-field"),e._UZ(4,"input",15)(5,"mat-datepicker-toggle",10)(6,"mat-datepicker",null,12),e.qZA()(),e.TgZ(8,"mat-grid-tile",14)(9,"mat-form-field",16)(10,"mat-label"),e._uU(11,"Gestor"),e.qZA(),e.TgZ(12,"mat-select"),e.YNc(13,ct,2,2,"mat-option",17),e.qZA()()()(),e.TgZ(14,"h2",18)(15,"button",19),e._uU(16,"Buscar"),e.qZA()()()),2&o){const t=e.MAs(7),i=e.oxw();e.xp6(2),e.Q6J("colspan",1)("rowspan",1),e.xp6(2),e.Q6J("matDatepicker",t),e.xp6(1),e.Q6J("for",t),e.xp6(3),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("ngForOf",i.gestores)}}let ut=(()=>{class o{constructor(){this.gestores=[{value:"gestor1",viewValue:"gestor1"},{value:"gestor2",viewValue:"gestor2"},{value:"gestor3",viewValue:"gestor3"}],this.selectedOption="option1"}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-informe-general"]],decls:12,vars:3,consts:[[1,"container"],[1,"example-spacer"],[3,"ngModel","ngModelChange"],["value","option1"],["value","option2"],["class","center",4,"ngIf"],[4,"ngIf"],[1,"center"],[1,"example-full-width"],["matInput","","placeholder","Selecciona la fecha",3,"matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["picker",""],["cols","2","rowHeight","70px"],[3,"colspan","rowspan"],["matInput","","placeholder","Choose a date",3,"matDatepicker"],[1,"ancho"],[3,"value",4,"ngFor","ngForOf"],[2,"text-align","center"],["mat-raised-button","","color","primary"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Informe de Financiera"),e.qZA(),e._UZ(4,"div",1),e.TgZ(5,"mat-radio-group",2),e.NdJ("ngModelChange",function(s){return i.selectedOption=s}),e.TgZ(6,"mat-radio-button",3),e._uU(7,"General"),e.qZA(),e.TgZ(8,"mat-radio-button",4),e._uU(9,"Por Ruta"),e.qZA()()(),e.YNc(10,lt,6,2,"div",5),e.YNc(11,mt,17,7,"div",6),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngModel",i.selectedOption),e.xp6(5),e.Q6J("ngIf","option1"===i.selectedOption),e.xp6(1),e.Q6J("ngIf","option2"===i.selectedOption))},dependencies:[q.sg,q.O5,p.KE,p.hX,p.R9,U.Nt,x.lW,r.JJ,A.Ye,C.Il,C.DX,F.gD,Q.ey,G.Mq,G.hl,G.nW,he.VQ,he.U0,r.On],styles:[".example-h2[_ngcontent-%COMP%]{margin:10px}.example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}.example-margin[_ngcontent-%COMP%]{margin:0 10px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.center[_ngcontent-%COMP%]{align-content:center;align-items:center;text-align:center}"]}),o})();const ne=P.N.url+"/api";let N=(()=>{class o{constructor(t){this.http=t}guardarGestor(t){return this.http.post(`${ne}/gestores/`,t)}getGestorFinanciera(t){return this.http.get(`${ne}/gestores/${t}`)}PutGestorFinanciera(t,i){return this.http.put(`${ne}/gestores/${t}`,i)}DeleteGestorFinanciera(t){return this.http.delete(`${ne}/gestores/${t}`)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(k.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const _e=P.N.url+"/api";let pt=(()=>{class o{constructor(t){this.http=t}getRegistroFinancieraGestor(t,i){return this.http.get(`${_e}/seguimientos/${t}/${i}`)}getRegistroFinancieraFecha(t,i,n){return this.http.get(`${_e}/seguimientos/${t}/${i}/${n}`)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(k.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function dt(o,a){if(1&o&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.usuario),e.xp6(1),e.hij(" ",t.nombre," ")}}function gt(o,a){1&o&&(e.TgZ(0,"th",30),e._uU(1," Gestor "),e.qZA())}function ft(o,a){if(1&o&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.gestor," ")}}function ht(o,a){1&o&&(e.TgZ(0,"th",32),e._uU(1," Fecha "),e.qZA())}function _t(o,a){if(1&o&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.fecha," ")}}function Zt(o,a){1&o&&(e.TgZ(0,"th",32),e._uU(1," Hora "),e.qZA())}function Ct(o,a){if(1&o&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.hora," ")}}function vt(o,a){1&o&&(e.TgZ(0,"th",32),e._uU(1," Actividad "),e.qZA())}function bt(o,a){if(1&o&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.actividad," ")}}function At(o,a){1&o&&e._UZ(0,"th",32)}function Tt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"td",33)(1,"a",34),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.abrirUbicacion(s.latitud,s.longitud))}),e.TgZ(2,"mat-icon"),e._uU(3,"travel_explore"),e.qZA()()()}}function qt(o,a){1&o&&e._UZ(0,"tr",35)}function xt(o,a){1&o&&e._UZ(0,"tr",36)}function Ut(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"mat-form-field")(2,"mat-label"),e._uU(3,"Busqueda"),e.qZA(),e.TgZ(4,"input",15,16),e.NdJ("keyup",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.applyFilter(n))}),e.qZA()(),e.TgZ(6,"div",17)(7,"table",18),e.ynx(8,19),e.YNc(9,gt,2,0,"th",20),e.YNc(10,ft,2,1,"td",21),e.BQk(),e.ynx(11,22),e.YNc(12,ht,2,0,"th",23),e.YNc(13,_t,2,1,"td",21),e.BQk(),e.ynx(14,24),e.YNc(15,Zt,2,0,"th",23),e.YNc(16,Ct,2,1,"td",21),e.BQk(),e.ynx(17,25),e.YNc(18,vt,2,0,"th",23),e.YNc(19,bt,2,1,"td",21),e.BQk(),e.ynx(20,26),e.YNc(21,At,1,0,"th",23),e.YNc(22,Tt,4,0,"td",27),e.BQk(),e.YNc(23,qt,1,0,"tr",28),e.YNc(24,xt,1,0,"tr",29),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(7),e.Q6J("dataSource",t.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}let It=(()=>{class o{constructor(t,i,n){this.gestorService=t,this.sharedService=i,this.registroActividad=n,this.cargar=!1,this.lista=[],this.listaGestores=[],this.valorSeleccionado=null,this.lista2=[],this.listaSeguimiento=[],this.displayedColumns=["gestor","fecha","hora","actividad","acciones"],this.dataSource=new c.by(this.listaSeguimiento)}ngOnInit(){this.obtenerGestores()}obtenerGestores(){this.gestorService.getGestorFinanciera(this.sharedService.getFinanciera()).subscribe(t=>{console.log(t),this.lista=t,this.listaGestores=this.lista.gestores,console.log(this.listaGestores)})}obtenerRegistros(t,i){this.registroActividad.getRegistroFinancieraFecha(this.sharedService.getFinanciera(),t,i).subscribe(n=>{this.lista2=n,this.listaSeguimiento=this.lista2.seguimientos,this.dataSource=new c.by(this.listaSeguimiento)})}onDateChange(t){const i=new q.uU("en-US");this.valorDeFecha=i.transform(t.value,"d-M-yyyy")}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}buscar(){this.cargar=!0,console.log(this.valorSeleccionado),console.log(this.valorDeFecha),this.obtenerRegistros(this.valorSeleccionado,this.valorDeFecha)}abrirUbicacion(t,i){window.open(`https://www.google.com/maps/search/?api=1&query=${t},${i}&zoom=20`,"_blank")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(N),e.Y36(T),e.Y36(pt))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-informe-rutas"]],viewQuery:function(t,i){if(1&t&&(e.Gf(S.NW,5),e.Gf(_.YE,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.paginator=n.first),e.iGM(n=e.CRH())&&(i.sort=n.first)}},decls:26,vars:9,consts:[[1,"container"],[1,"example-spacer"],["mat-raised-button","","color","primary","routerLink","/dashboard/gestion-gestores"],["cols","2","rowHeight","70px"],[3,"colspan","rowspan"],["matInput","","placeholder","Choose a date",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["picker",""],[1,"ancho"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[2,"text-align","center"],["mat-raised-button","","color","primary",3,"click"],[4,"ngIf"],[3,"value"],["matInput","","placeholder","Nombre","autocomplete","off",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","gestor"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fecha"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","hora"],["matColumnDef","actividad"],["matColumnDef","acciones"],["mat-cell","","class","center-cell","style","text-align: center;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"center-cell",2,"text-align","center"],["matTooltip","Maps",1,"pointer",2,"color","cornflowerblue",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Rutas"),e.qZA(),e._UZ(4,"div",1),e.TgZ(5,"button",2),e._uU(6,"Administrar gestores"),e.qZA()(),e._UZ(7,"br"),e.TgZ(8,"mat-grid-list",3)(9,"mat-grid-tile",4)(10,"mat-form-field")(11,"input",5),e.NdJ("dateChange",function(s){return i.onDateChange(s)}),e.qZA(),e._UZ(12,"mat-datepicker-toggle",6)(13,"mat-datepicker",null,7),e.qZA()(),e.TgZ(15,"mat-grid-tile",4)(16,"mat-form-field",8)(17,"mat-label"),e._uU(18,"Gestor"),e.qZA(),e.TgZ(19,"mat-select",9),e.NdJ("ngModelChange",function(s){return i.valorSeleccionado=s}),e.YNc(20,dt,2,2,"mat-option",10),e.qZA()()()(),e.TgZ(21,"h2",11)(22,"button",12),e.NdJ("click",function(){return i.buscar()}),e._uU(23,"Buscar"),e.qZA()(),e._UZ(24,"br"),e.YNc(25,Ut,25,3,"div",13),e.qZA()),2&t){const n=e.MAs(14);e.xp6(9),e.Q6J("colspan",1)("rowspan",1),e.xp6(2),e.Q6J("matDatepicker",n),e.xp6(1),e.Q6J("for",n),e.xp6(3),e.Q6J("colspan",1)("rowspan",1),e.xp6(4),e.Q6J("ngModel",i.valorSeleccionado),e.xp6(1),e.Q6J("ngForOf",i.listaGestores),e.xp6(5),e.Q6J("ngIf",i.cargar)}},dependencies:[q.sg,q.O5,b.rH,p.KE,p.hX,p.R9,U.Nt,x.lW,r.JJ,A.Ye,E.Hw,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,ae.gM,_.YE,_.nU,C.Il,C.DX,F.gD,Q.ey,G.Mq,G.hl,G.nW,r.On],styles:["table[_ngcontent-%COMP%]{width:100%}.pointer[_ngcontent-%COMP%]{cursor:pointer}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.custom-cell[_ngcontent-%COMP%]{width:50px}.center-cell[_ngcontent-%COMP%]{text-align:center}"]}),o})();const W=P.N.url+"/api";let j=(()=>{class o{constructor(t){this.http=t}guardarPrestamo(t){return this.http.post(`${W}/prestamos/`,t)}getPrestamosCliente(t,i){return this.http.get(`${W}/prestamos/${t}/${i}`)}getPrestamosValidosFinanciera(t){return this.http.get(`${W}/prestamos/validos/${t}`)}getPrestamoEspecifico(t){return this.http.get(`${W}/prestamos/especifico/${t}`)}PutPrestamoFinanciera(t,i){return this.http.put(`${W}/prestamos/${t}`,i)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(k.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function St(o,a){1&o&&(e.TgZ(0,"th",17),e._uU(1," Nombre "),e.qZA())}function yt(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.nombre," ")}}function wt(o,a){1&o&&(e.TgZ(0,"th",17),e._uU(1," cantidad a Pagar "),e.qZA())}function Nt(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.cantidadPagar," ")}}function Jt(o,a){1&o&&(e.TgZ(0,"th",19),e._uU(1," Restante "),e.qZA())}function Pt(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.totalRestante," ")}}function kt(o,a){1&o&&(e.TgZ(0,"th",19),e._uU(1," Gestor "),e.qZA())}function Ft(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.gestor," ")}}function Qt(o,a){1&o&&e._UZ(0,"th",19)}const Dt=function(o){return["/dashboard/revisar-prestamo",o]};function Et(o,a){if(1&o&&(e.TgZ(0,"td",18)(1,"a",20),e._uU(2,"Revisar"),e.qZA()()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(1,Dt,t._id))}}function Rt(o,a){1&o&&e._UZ(0,"tr",21)}function Mt(o,a){1&o&&e._UZ(0,"tr",22)}function Yt(o,a){1&o&&(e.TgZ(0,"th",17),e._uU(1," Nombre "),e.qZA())}function Ot(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.nombre," ")}}function Gt(o,a){1&o&&(e.TgZ(0,"th",17),e._uU(1," cantidad a Pagar "),e.qZA())}function jt(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.cantidadPagar," ")}}function $t(o,a){1&o&&(e.TgZ(0,"th",19),e._uU(1," Restante "),e.qZA())}function Ht(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.totalRestante," ")}}function Vt(o,a){1&o&&(e.TgZ(0,"th",19),e._uU(1," Gestor "),e.qZA())}function zt(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.gestor," ")}}function Lt(o,a){1&o&&e._UZ(0,"th",19)}const Bt=function(o){return["/dashboard/registro-pago",o]};function Xt(o,a){if(1&o&&(e.TgZ(0,"td",18)(1,"a",20),e._uU(2,"Pago"),e.qZA()()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(1,Bt,t._id))}}function Kt(o,a){1&o&&e._UZ(0,"tr",21)}function Wt(o,a){1&o&&e._UZ(0,"tr",22)}let eo=(()=>{class o{constructor(t,i){this.prestamoSrvice=t,this.sharedService=i,this.listaClientes=[],this.lista=[],this.listaPrestamos=[],this.listaPrestamosActivos=[],this.listaPrestamosPendiente=[],this.displayedColumns=["nombre","cantidadPagar","totalRestante","gestor","acciones"],this.dataSource=new c.by(this.listaPrestamosActivos),this.dataSource2=new c.by(this.listaPrestamosPendiente)}ngOnInit(){this.obtenerPrestamosValidos()}obtenerPrestamosValidos(){this.prestamoSrvice.getPrestamosValidosFinanciera(this.sharedService.getFinanciera()).subscribe(t=>{console.log(t),this.lista=t,this.listaPrestamos=this.lista.prestamos,console.log(this.listaPrestamos),this.seleccionarPrestamos()})}seleccionarPrestamos(){for(let t=0;t<this.listaPrestamos.length;t++)"Activo"==this.listaPrestamos[t].estatus?this.listaPrestamosActivos.push(this.listaPrestamos[t]):"Pendiente"==this.listaPrestamos[t].estatus&&this.listaPrestamosPendiente.push(this.listaPrestamos[t]);console.log(this.listaPrestamosActivos),console.log(this.listaPrestamosPendiente),this.dataSource=new c.by(this.listaPrestamosActivos),this.dataSource2=new c.by(this.listaPrestamosPendiente)}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(j),e.Y36(T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-prestamos"]],viewQuery:function(t,i){if(1&t&&(e.Gf(S.NW,5),e.Gf(_.YE,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.paginator=n.first),e.iGM(n=e.CRH())&&(i.sort=n.first)}},decls:57,vars:6,consts:[[1,"container"],[1,"example-spacer"],["mat-raised-button","","color","primary","routerLink","/dashboard/historial-prestamo",1,"elemento-oculto"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","cantidadPagar"],["matColumnDef","totalRestante"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","gestor"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matInput","","placeholder","Nombre","autocomplete","off",3,"keyup"],["input",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Prestamos"),e.qZA(),e._UZ(4,"div",1),e.TgZ(5,"button",2),e._uU(6,"Historial"),e.qZA()(),e._UZ(7,"br"),e.TgZ(8,"h2"),e._uU(9,"Pendientes"),e.qZA(),e.TgZ(10,"div",3)(11,"table",4),e.ynx(12,5),e.YNc(13,St,2,0,"th",6),e.YNc(14,yt,2,1,"td",7),e.BQk(),e.ynx(15,8),e.YNc(16,wt,2,0,"th",6),e.YNc(17,Nt,2,1,"td",7),e.BQk(),e.ynx(18,9),e.YNc(19,Jt,2,0,"th",10),e.YNc(20,Pt,2,1,"td",7),e.BQk(),e.ynx(21,11),e.YNc(22,kt,2,0,"th",10),e.YNc(23,Ft,2,1,"td",7),e.BQk(),e.ynx(24,12),e.YNc(25,Qt,1,0,"th",10),e.YNc(26,Et,3,3,"td",7),e.BQk(),e.YNc(27,Rt,1,0,"tr",13),e.YNc(28,Mt,1,0,"tr",14),e.qZA()(),e._UZ(29,"br")(30,"br"),e.TgZ(31,"h2"),e._uU(32,"Activos"),e.qZA(),e.TgZ(33,"mat-form-field")(34,"mat-label"),e._uU(35,"Busqueda"),e.qZA(),e.TgZ(36,"input",15,16),e.NdJ("keyup",function(s){return i.applyFilter(s)}),e.qZA()(),e.TgZ(38,"div",3)(39,"table",4),e.ynx(40,5),e.YNc(41,Yt,2,0,"th",6),e.YNc(42,Ot,2,1,"td",7),e.BQk(),e.ynx(43,8),e.YNc(44,Gt,2,0,"th",6),e.YNc(45,jt,2,1,"td",7),e.BQk(),e.ynx(46,9),e.YNc(47,$t,2,0,"th",10),e.YNc(48,Ht,2,1,"td",7),e.BQk(),e.ynx(49,11),e.YNc(50,Vt,2,0,"th",10),e.YNc(51,zt,2,1,"td",7),e.BQk(),e.ynx(52,12),e.YNc(53,Lt,1,0,"th",10),e.YNc(54,Xt,3,3,"td",7),e.BQk(),e.YNc(55,Kt,1,0,"tr",13),e.YNc(56,Wt,1,0,"tr",14),e.qZA()()()),2&t&&(e.xp6(11),e.Q6J("dataSource",i.dataSource2),e.xp6(16),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(11),e.Q6J("dataSource",i.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[b.rH,p.KE,p.hX,U.Nt,x.lW,A.Ye,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,_.YE,_.nU],styles:["table[_ngcontent-%COMP%]{width:100%}.pointer[_ngcontent-%COMP%]{cursor:pointer}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.contenedor[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.elemento-oculto[_ngcontent-%COMP%]{display:none}"]}),o})(),to=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-registro-actividad"]],decls:4,vars:0,consts:[[1,"container"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Registro de Actividad"),e.qZA()()())},dependencies:[A.Ye]}),o})();const $=P.N.url+"/api";let Y=(()=>{class o{constructor(t){this.http=t}getSolicitudFinanciera(t){return this.http.get(`${$}/solicitudes/${t}`)}getSolicitudFinancieraValidos(t){return this.http.get(`${$}/solicitudes/validos/${t}`)}getSolicitudFinancieraTipos(t,i){return this.http.get(`${$}/solicitudes/tipo/${t}/${i}`)}getSolicitudEspecifico(t){return this.http.get(`${$}/solicitudes/especifico/${t}`)}guardarSolicitud(t){return this.http.post(`${$}/solicitudes/`,t)}PutSolicitudFinanciera(t,i){return this.http.put(`${$}/solicitudes/${t}`,i)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(k.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function oo(o,a){1&o&&(e.TgZ(0,"th",18),e._uU(1," Nombre "),e.qZA())}function io(o,a){if(1&o&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.nombre," ")}}function ao(o,a){1&o&&(e.TgZ(0,"th",18),e._uU(1," Monto Solicitado "),e.qZA())}function no(o,a){if(1&o&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" $",t.montoSolicitado," ")}}function ro(o,a){1&o&&(e.TgZ(0,"th",20),e._uU(1," celular "),e.qZA())}function so(o,a){if(1&o&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.celular," ")}}function lo(o,a){1&o&&(e.TgZ(0,"th",20),e._uU(1," Gestor "),e.qZA())}function co(o,a){if(1&o&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.gestorAsignado," ")}}function mo(o,a){1&o&&e._UZ(0,"th",20)}const uo=function(o){return["/dashboard/revisar-renovacion",o]};function po(o,a){if(1&o&&(e.TgZ(0,"td",19)(1,"a",21),e._uU(2,"Revisar"),e.qZA()()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(1,uo,t._id))}}function go(o,a){1&o&&e._UZ(0,"tr",22)}function fo(o,a){1&o&&e._UZ(0,"tr",23)}const ho=function(){return[5,10,25,100]};let _o=(()=>{class o{constructor(t,i){this.solicitudService=t,this.sharedService=i,this.listaSolicitudes=[],this.listaSolicitudesRenovaciones=[],this.lista=[],this.displayedColumns=["nombre","montoSolicitado","telefono","gestor","accion"],this.dataSource=new c.by(this.listaSolicitudes)}ngOnInit(){this.obtenerSolicitudesValidas()}obtenerSolicitudesValidas(){this.solicitudService.getSolicitudFinancieraValidos(this.sharedService.getFinanciera()).subscribe(t=>{console.log(t),this.lista=t,this.listaSolicitudes=this.lista.solicitudes,console.log(this.listaSolicitudes),this.seleccionarSolicitues()})}seleccionarSolicitues(){for(let t=0;t<this.listaSolicitudes.length;t++)"Renovacion"==this.listaSolicitudes[t].tipo&&this.listaSolicitudesRenovaciones.push(this.listaSolicitudes[t]);this.dataSource=new c.by(this.listaSolicitudesRenovaciones)}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Y),e.Y36(T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-renovaciones"]],viewQuery:function(t,i){if(1&t&&(e.Gf(S.NW,5),e.Gf(_.YE,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.paginator=n.first),e.iGM(n=e.CRH())&&(i.sort=n.first)}},decls:32,vars:5,consts:[[1,"container"],[1,"example-spacer"],["mat-raised-button","","color","primary","routerLink","/dashboard/historial-renovacion"],["matInput","","placeholder","Nombre","autocomplete","off",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","montoSolicitado"],["matColumnDef","telefono"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","gestor"],["matColumnDef","accion"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Renovaciones"),e.qZA(),e._UZ(4,"div",1),e.TgZ(5,"button",2),e._uU(6,"Historial"),e.qZA()(),e.TgZ(7,"mat-form-field")(8,"mat-label"),e._uU(9,"Busqueda"),e.qZA(),e.TgZ(10,"input",3,4),e.NdJ("keyup",function(s){return i.applyFilter(s)}),e.qZA()(),e.TgZ(12,"div",5)(13,"table",6),e.ynx(14,7),e.YNc(15,oo,2,0,"th",8),e.YNc(16,io,2,1,"td",9),e.BQk(),e.ynx(17,10),e.YNc(18,ao,2,0,"th",8),e.YNc(19,no,2,1,"td",9),e.BQk(),e.ynx(20,11),e.YNc(21,ro,2,0,"th",12),e.YNc(22,so,2,1,"td",9),e.BQk(),e.ynx(23,13),e.YNc(24,lo,2,0,"th",12),e.YNc(25,co,2,1,"td",9),e.BQk(),e.ynx(26,14),e.YNc(27,mo,1,0,"th",12),e.YNc(28,po,3,3,"td",9),e.BQk(),e.YNc(29,go,1,0,"tr",15),e.YNc(30,fo,1,0,"tr",16),e.qZA(),e._UZ(31,"mat-paginator",17),e.qZA()()),2&t&&(e.xp6(13),e.Q6J("dataSource",i.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,ho)))},dependencies:[b.rH,p.KE,p.hX,U.Nt,x.lW,A.Ye,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,S.NW,_.YE,_.nU],styles:["table[_ngcontent-%COMP%]{width:100%}.pointer[_ngcontent-%COMP%]{cursor:pointer}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.contenedor[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),o})();function Zo(o,a){1&o&&(e.TgZ(0,"th",19),e._uU(1," Nombre "),e.qZA())}function Co(o,a){if(1&o&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.nombre," ")}}function vo(o,a){1&o&&(e.TgZ(0,"th",19),e._uU(1," Monto Solicitado "),e.qZA())}function bo(o,a){if(1&o&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" $",t.montoSolicitado," ")}}function Ao(o,a){1&o&&(e.TgZ(0,"th",21),e._uU(1," celular "),e.qZA())}function To(o,a){if(1&o&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.celular," ")}}function qo(o,a){1&o&&(e.TgZ(0,"th",21),e._uU(1," Gestor "),e.qZA())}function xo(o,a){if(1&o&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.gestorAsignado," ")}}function Uo(o,a){1&o&&e._UZ(0,"th",21)}const Io=function(o){return["/dashboard/revisar-renovacion",o]};function So(o,a){if(1&o&&(e.TgZ(0,"td",20)(1,"a",22),e._uU(2,"Revisar"),e.qZA()()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(1,Io,t._id))}}function yo(o,a){1&o&&e._UZ(0,"tr",23)}function wo(o,a){1&o&&e._UZ(0,"tr",24)}const No=function(){return[5,10,25,100]};let Jo=(()=>{class o{constructor(t,i){this.solicitudService=t,this.sharedService=i,this.listaSolicitudes=[],this.listaSolicitudesEspecificas=[],this.lista=[],this.displayedColumns=["nombre","montoSolicitado","telefono","gestor","accion"],this.dataSource=new c.by(this.listaSolicitudes)}ngOnInit(){this.obtenerSolicitudesValidas()}obtenerSolicitudesValidas(){this.solicitudService.getSolicitudFinancieraValidos(this.sharedService.getFinanciera()).subscribe(t=>{console.log(t),this.lista=t,this.listaSolicitudes=this.lista.solicitudes,console.log(this.listaSolicitudes),this.seleccionarSolicitues()})}seleccionarSolicitues(){for(let t=0;t<this.listaSolicitudes.length;t++)"Nueva"==this.listaSolicitudes[t].tipo&&this.listaSolicitudesEspecificas.push(this.listaSolicitudes[t]);this.dataSource=new c.by(this.listaSolicitudesEspecificas)}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Y),e.Y36(T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-solicitudes"]],viewQuery:function(t,i){if(1&t&&(e.Gf(S.NW,5),e.Gf(_.YE,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.paginator=n.first),e.iGM(n=e.CRH())&&(i.sort=n.first)}},decls:35,vars:5,consts:[[1,"container"],[1,"example-spacer"],["mat-raised-button","","color","primary","routerLink","/dashboard/historial-solicitud"],["mat-raised-button","","color","primary","routerLink","/dashboard/nueva-solicitud",1,"separar"],["matInput","","placeholder","Nombre","autocomplete","off",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","montoSolicitado"],["matColumnDef","telefono"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","gestor"],["matColumnDef","accion"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Solicitudes"),e.qZA(),e._UZ(4,"div",1),e.TgZ(5,"button",2),e._uU(6,"Historial"),e.qZA(),e.TgZ(7,"button",3),e._uU(8,"Nueva"),e.qZA(),e._UZ(9,"br"),e.qZA(),e.TgZ(10,"mat-form-field")(11,"mat-label"),e._uU(12,"Busqueda"),e.qZA(),e.TgZ(13,"input",4,5),e.NdJ("keyup",function(s){return i.applyFilter(s)}),e.qZA()(),e.TgZ(15,"div",6)(16,"table",7),e.ynx(17,8),e.YNc(18,Zo,2,0,"th",9),e.YNc(19,Co,2,1,"td",10),e.BQk(),e.ynx(20,11),e.YNc(21,vo,2,0,"th",9),e.YNc(22,bo,2,1,"td",10),e.BQk(),e.ynx(23,12),e.YNc(24,Ao,2,0,"th",13),e.YNc(25,To,2,1,"td",10),e.BQk(),e.ynx(26,14),e.YNc(27,qo,2,0,"th",13),e.YNc(28,xo,2,1,"td",10),e.BQk(),e.ynx(29,15),e.YNc(30,Uo,1,0,"th",13),e.YNc(31,So,3,3,"td",10),e.BQk(),e.YNc(32,yo,1,0,"tr",16),e.YNc(33,wo,1,0,"tr",17),e.qZA(),e._UZ(34,"mat-paginator",18),e.qZA()()),2&t&&(e.xp6(16),e.Q6J("dataSource",i.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,No)))},dependencies:[b.rH,p.KE,p.hX,U.Nt,x.lW,A.Ye,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,S.NW,_.YE,_.nU],styles:["table[_ngcontent-%COMP%]{width:100%}.pointer[_ngcontent-%COMP%]{cursor:pointer}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.contenedor[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.separar[_ngcontent-%COMP%]{margin-left:20px}"]}),o})();const le=P.N.url+"/api";let ee=(()=>{class o{constructor(t){this.http=t}guardarInteres(t){return this.http.post(`${le}/interes/`,t)}getinteresFinanciera(t){return this.http.get(`${le}/interes/${t}`)}DeleteInteresFinanciera(t){return this.http.delete(`${le}/interes/${t}`)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(k.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var I=h(5195),Ze=h(4104);function Po(o,a){1&o&&(e.TgZ(0,"th",34),e._uU(1," Nombre "),e.qZA())}function ko(o,a){if(1&o&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.nombre," ")}}function Fo(o,a){1&o&&(e.TgZ(0,"th",34),e._uU(1," Direccion "),e.qZA())}function Qo(o,a){if(1&o&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.direccion," ")}}function Do(o,a){1&o&&(e.TgZ(0,"th",36),e._uU(1," Colonia "),e.qZA())}function Eo(o,a){if(1&o&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.colonia," ")}}function Ro(o,a){1&o&&(e.TgZ(0,"th",36),e._uU(1," Identificaci\xf3n "),e.qZA())}function Mo(o,a){if(1&o&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.numeroIdentificacion," ")}}function Yo(o,a){1&o&&(e.TgZ(0,"th",36),e._uU(1," Edad "),e.qZA())}function Oo(o,a){if(1&o&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.edad," ")}}function Go(o,a){1&o&&e._UZ(0,"tr",37)}function jo(o,a){1&o&&e._UZ(0,"tr",38)}function $o(o,a){if(1&o&&(e.TgZ(0,"mat-card",39)(1,"mat-card-header"),e._UZ(2,"div",40),e.TgZ(3,"mat-card-title"),e._uU(4),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e._uU(6,"Numero de identificacion"),e.qZA()(),e.TgZ(7,"mat-card-content")(8,"h3"),e._uU(9,"Este cliente no cuenta con prestamos activos en este momento"),e.qZA()()()),2&o){const t=e.oxw();e.xp6(4),e.Oqu(t.valorABuscar)}}function Ho(o,a){if(1&o&&(e.TgZ(0,"mat-card",41)(1,"mat-card-header"),e._UZ(2,"div",40),e.TgZ(3,"mat-card-title"),e._uU(4),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e._uU(6,"Numero de identificacion"),e.qZA()(),e.TgZ(7,"mat-card-content")(8,"h3"),e._uU(9,"Este cliente si cuenta con prestamos activos con una Financiera en este momento"),e.qZA()()()),2&o){const t=e.oxw();e.xp6(4),e.Oqu(t.valorABuscar)}}const Vo=function(){return[5,10,25,100]};let zo=(()=>{class o{constructor(t,i,n){this.interesService=t,this.sharedService=i,this.clienteService=n,this.loading=!1,this.loading2=!1,this.lista=[],this.listaDeInteres=[],this.listaClientes=[],this.clienteBuscado=[],this.displayedColumns=["nombre","direccion","gestorAsignado","clasificacion","acciones"],this.dataSource=new c.by(this.listaClientes)}ngOnInit(){this.obtenerListaDeInteres(),this.obtenerBuro()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}obtenerListaDeInteres(){console.log("Hola"),this.interesService.getinteresFinanciera(this.sharedService.getFinanciera()).subscribe(t=>{this.lista=t,this.listaDeInteres=this.lista.intereces,console.log(this.listaDeInteres)},t=>{console.error("Error al obtener la lista de precios:",t)})}obtenerBuro(){console.log("Buro"),this.clienteService.getBuroClientes().subscribe(t=>{this.lista2=t,this.listaClientes=this.lista2.clientes,console.log(this.listaClientes),this.dataSource=new c.by(this.listaClientes)},t=>{console.error("Error al obtener la lista de precios:",t)})}obtenerResultado(){console.log("Busqueda"),this.clienteService.busquedaCliente(this.valorABuscar).subscribe(t=>{if(this.lista3=t,this.clienteBuscado=this.lista3.clientes,console.log(this.clienteBuscado),this.clienteBuscado.length<=0)console.log("No hay creditos activos"),this.loading=!0,this.loading2=!1;else for(var i=0;i<this.clienteBuscado.length;i++)1==this.clienteBuscado[i].prestamosActivos&&(this.loading=!1,this.loading2=!0)},t=>{console.error("Error al obtener el cliente de la busqueda:",t)})}calcularMontos(){let t=this.plazo,i=this.prestado,n=0,s=0,l=0,m=0;console.log("plazo"+t),console.log("Monto"+i),this.listaDeInteres.forEach(u=>{i>u.limiteInferior&&i<=u.limiteSuperior&&(console.log("Tacos"),n=u.porcentaje,s=Math.round(i*n/100),l=i+s,this.apagar=l,m=Math.round((i+s)/t),this.pagoDiario=m,console.log(l),console.log(m))})}buscar(){console.log(this.valorABuscar),this.obtenerResultado()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ee),e.Y36(T),e.Y36(M))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-tabulador"]],viewQuery:function(t,i){if(1&t&&(e.Gf(S.NW,5),e.Gf(_.YE,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.paginator=n.first),e.iGM(n=e.CRH())&&(i.sort=n.first)}},decls:82,vars:16,consts:[[1,"container"],["dynamicHeight",""],["label","Buro"],[1,"body"],[1,"tarjeta2"],["matInput","","placeholder","Nombre","autocomplete","off",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","direccion"],["matColumnDef","gestorAsignado"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","clasificacion"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSizeOptions"],["label","Chequeo"],[1,"tarjeta"],["cols","3","rowHeight","70px"],[3,"colspan","rowspan"],[1,"example-full-width"],["matInput","","placeholder","Num. Cliente",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"],["class","example-card",4,"ngIf"],["class","example-card2",4,"ngIf"],["label","Tabulador"],["matInput","","type","number","placeholder","Ejem: $5000","name","prestado",3,"ngModel","ngModelChange"],["matInput","","type","number","placeholder","Ejem: 5","name","plazo",3,"ngModel","ngModelChange"],["matInput","","type","number","name","apagar","readonly","",3,"ngModel","ngModelChange"],["matInput","","type","number","name","pagoDiario","readonly","",3,"ngModel","ngModelChange"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-header-row",""],["mat-row",""],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],[1,"example-card2"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Herramientas"),e.qZA()(),e._UZ(4,"br"),e.TgZ(5,"mat-tab-group",1)(6,"mat-tab",2)(7,"div",3)(8,"mat-card",4),e._UZ(9,"br"),e.TgZ(10,"h2"),e._uU(11,"Buro de Credito"),e.qZA(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"Busqueda"),e.qZA(),e.TgZ(15,"input",5,6),e.NdJ("keyup",function(s){return i.applyFilter(s)}),e.qZA()(),e.TgZ(17,"div",7)(18,"table",8),e.ynx(19,9),e.YNc(20,Po,2,0,"th",10),e.YNc(21,ko,2,1,"td",11),e.BQk(),e.ynx(22,12),e.YNc(23,Fo,2,0,"th",10),e.YNc(24,Qo,2,1,"td",11),e.BQk(),e.ynx(25,13),e.YNc(26,Do,2,0,"th",14),e.YNc(27,Eo,2,1,"td",11),e.BQk(),e.ynx(28,15),e.YNc(29,Ro,2,0,"th",14),e.YNc(30,Mo,2,1,"td",11),e.BQk(),e.ynx(31,16),e.YNc(32,Yo,2,0,"th",14),e.YNc(33,Oo,2,1,"td",11),e.BQk(),e.YNc(34,Go,1,0,"tr",17),e.YNc(35,jo,1,0,"tr",18),e.qZA(),e._UZ(36,"mat-paginator",19),e.qZA()()()(),e.TgZ(37,"mat-tab",20)(38,"div",3)(39,"mat-card",21),e._UZ(40,"br"),e.TgZ(41,"h2"),e._uU(42,"Verificacion de cliente"),e.qZA(),e.TgZ(43,"mat-grid-list",22)(44,"mat-grid-tile",23)(45,"mat-form-field",24)(46,"mat-label"),e._uU(47,"Numero de identificacion"),e.qZA(),e.TgZ(48,"input",25),e.NdJ("ngModelChange",function(s){return i.valorABuscar=s}),e.qZA()()(),e.TgZ(49,"mat-grid-tile",23)(50,"button",26),e.NdJ("click",function(){return i.buscar()}),e._uU(51,"Buscar"),e.qZA()()(),e._UZ(52,"br"),e.YNc(53,$o,10,1,"mat-card",27),e.YNc(54,Ho,10,1,"mat-card",28),e.qZA()()(),e.TgZ(55,"mat-tab",29)(56,"div",3)(57,"mat-card",21),e._UZ(58,"br"),e.TgZ(59,"h2"),e._uU(60,"Tabulador de Prestamos"),e.qZA(),e.TgZ(61,"mat-form-field",24)(62,"mat-label"),e._uU(63,"Cantidad del prestamo (MX)"),e.qZA(),e.TgZ(64,"input",30),e.NdJ("ngModelChange",function(s){return i.prestado=s}),e.qZA()(),e.TgZ(65,"mat-form-field",24)(66,"mat-label"),e._uU(67,"Plazo del prestamo (en dias)"),e.qZA(),e.TgZ(68,"input",31),e.NdJ("ngModelChange",function(s){return i.plazo=s}),e.qZA()(),e.TgZ(69,"button",26),e.NdJ("click",function(){return i.calcularMontos()}),e._uU(70,"Calcular"),e.qZA(),e._UZ(71,"br")(72,"br")(73,"br"),e.TgZ(74,"mat-form-field",24)(75,"mat-label"),e._uU(76,"Total a Pagar:"),e.qZA(),e.TgZ(77,"input",32),e.NdJ("ngModelChange",function(s){return i.apagar=s}),e.qZA()(),e.TgZ(78,"mat-form-field",24)(79,"mat-label"),e._uU(80,"Pago Diario:"),e.qZA(),e.TgZ(81,"input",33),e.NdJ("ngModelChange",function(s){return i.pagoDiario=s}),e.qZA()()()()()()()),2&t&&(e.xp6(18),e.Q6J("dataSource",i.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(15,Vo)),e.xp6(8),e.Q6J("colspan",2)("rowspan",1),e.xp6(4),e.Q6J("ngModel",i.valorABuscar),e.xp6(1),e.Q6J("colspan",1)("rowspan",1),e.xp6(4),e.Q6J("ngIf",i.loading),e.xp6(1),e.Q6J("ngIf",i.loading2),e.xp6(10),e.Q6J("ngModel",i.prestado),e.xp6(4),e.Q6J("ngModel",i.plazo),e.xp6(9),e.Q6J("ngModel",i.apagar),e.xp6(4),e.Q6J("ngModel",i.pagoDiario))},dependencies:[q.O5,p.KE,p.hX,U.Nt,x.lW,r.Fj,r.wV,r.JJ,A.Ye,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,S.NW,_.YE,_.nU,I.a8,I.kc,I.dn,I.dk,I.$j,I.n5,C.Il,C.DX,Ze.uX,Ze.SP,r.On],styles:[".tarjeta[_ngcontent-%COMP%]{width:100%;max-width:500px;text-align:center}.tarjeta2[_ngcontent-%COMP%]{width:100%;text-align:center}.body[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%;align-items:center}.example-small-box[_ngcontent-%COMP%], .example-large-box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:16px;padding:16px;border-radius:8px}.example-small-box[_ngcontent-%COMP%]{height:100px;width:100px}.example-large-box[_ngcontent-%COMP%]{height:300px;width:300px}table[_ngcontent-%COMP%]{width:100%}.pointer[_ngcontent-%COMP%]{cursor:pointer}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.example-card[_ngcontent-%COMP%]{max-width:450px;background-color:#7fff00}.example-card2[_ngcontent-%COMP%]{max-width:450px;background-color:#ff7300}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}"]}),o})();function Ce(o,a,t,i,n,s,l){try{var m=o[s](l),u=m.value}catch(d){return void t(d)}m.done?a(u):Promise.resolve(u).then(i,n)}var g=(()=>((g=g||{})[g.Up=1]="Up",g[g.Down=3]="Down",g[g.Right=6]="Right",g[g.Left=8]="Left",g[g.UpMirrored=2]="UpMirrored",g[g.DownMirrored=4]="DownMirrored",g[g.LeftMirrored=5]="LeftMirrored",g[g.RightMirrored=7]="RightMirrored",g[g.Default=0]="Default",g[g.NotJpeg=-1]="NotJpeg",g[g.NotDefined=-2]="NotDefined",g))();class v{}v.getOrientation=o=>new Promise((a,t)=>{try{const i=new FileReader;i.onload=()=>{const n=new DataView(i.result);if(!n.byteLength||65496!==n.getUint16(0,!1))return a(g.NotDefined);const s=n.byteLength;let l=2;for(;l<s;){const m=n.getUint16(l,!1);if(l+=2,65505===m){if(1165519206!==n.getUint32(l+=2,!1))return a(g.NotJpeg);const u=18761===n.getUint16(l+=6,!1);l+=n.getUint32(l+4,u);const d=n.getUint16(l,u);l+=2;for(let f=0;f<d;f++)if(274===n.getUint16(l+12*f,u))return a(n.getUint16(l+12*f+8,u))}else{if(65280!=(65280&m))break;l+=n.getUint16(l,!1)}}return a(g.NotJpeg)},i.readAsArrayBuffer(o)}catch{return t(g.Default)}}),v.uploadFile=(o,a=!0,t=!1)=>new Promise(function(i,n){const s=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),l=/iPad|iPhone|iPod/i.test(navigator.userAgent);Promise.resolve(s||l).then(m=>m?v.generateUploadInputNative(window.document,a,t):v.generateUploadInputRenderer(o,a,t)).then(m=>{const u=m?Array.from(m):[],d=u.map(w=>v.getOrientation(w)),f=u.map(w=>v.fileToDataURL(w));let Z=[];Promise.all(d).then(w=>(Z=w,Promise.all(f))).then(w=>{const O=w.map((re,pe)=>({image:re.dataUrl,orientation:Z[pe],fileName:re.fileName}));i(a?O:O[0])})}).catch(m=>n(m))}),v.fileToDataURL=o=>new Promise((a,t)=>{const i=new FileReader;i.onload=n=>{a({dataUrl:n.target.result,fileName:o.name})};try{i.readAsDataURL(o)}catch(n){t(`ngx-image-compress - probably no file have been selected: ${n}`)}}),v.generateUploadInputRenderer=(o,a=!0,t=!1)=>{let i=!1;return new Promise((n,s)=>{const l=o.createElement("input");o.setStyle(l,"display","none"),o.setProperty(l,"type","file"),o.setProperty(l,"accept","image/*"),a&&o.setProperty(l,"multiple","true"),o.listen(l,"click",m=>{m.target.value=""}),o.listen(l,"change",m=>{i=!0,n(m.target.files)}),t&&window.addEventListener("focus",()=>{setTimeout(()=>{i||s(new Error("file upload on blur - no file selected"))},300)},{once:!0}),l.click()})},v.generateUploadInputNative=(o,a=!0,t=!1)=>{let i=!1;return new Promise((n,s)=>{const l=o.createElement("input");l.id="upload-input"+new Date,l.style.display="none",l.setAttribute("type","file"),l.setAttribute("accept","image/*"),a&&l.setAttribute("multiple","true"),o.body.appendChild(l),l.addEventListener("change",()=>{i=!0,n(l.files),o.body.removeChild(o.getElementById(l.id))},{once:!0}),t&&window.addEventListener("focus",()=>{setTimeout(()=>{!i&&o.getElementById(l.id)&&(s(new Error("file upload on blur - no file selected")),o.body.removeChild(o.getElementById(l.id)))},300)},{once:!0}),l.click()})},v.compress=(o,a,t,i=50,n=50,s=0,l=0)=>new Promise(function(m,u){n/=100,i/=100;const d=new Image;d.onload=()=>{const f=t.createElement("canvas"),Z=f.getContext("2d");if(!Z)return u("No canvas context available");let w=d.naturalWidth,O=d.naturalHeight;if(!CSS.supports("image-orientation","from-image")&&(a===g.Right||a===g.Left)){const sn=w;w=O,O=sn}i=Math.min(i,s?s/w:1,l?l/O:1),f.width=w*i,f.height=O*i;const de=Math.PI/180;CSS.supports("image-orientation","from-image")||a===g.Up?Z.drawImage(d,0,0,f.width,f.height):a===g.Right?(Z.save(),Z.rotate(90*de),Z.translate(0,-f.width),Z.drawImage(d,0,0,f.height,f.width),Z.restore()):a===g.Left?(Z.save(),Z.rotate(-90*de),Z.translate(-f.width,0),Z.drawImage(d,0,0,f.height,f.width),Z.restore()):a===g.Down?(Z.save(),Z.rotate(180*de),Z.translate(-f.width,-f.height),Z.drawImage(d,0,0,f.width,f.height),Z.restore()):Z.drawImage(d,0,0,f.width,f.height);const nn=o.substr(5,o.split(";")[0].length-5),rn=f.toDataURL(nn,n);m(rn)},d.onerror=f=>u(f),d.src=o}),v.byteCount=o=>encodeURI(o).split(/%..|./).length-1,v.getImageMaxSize=function(){var o=function Lo(o){return function(){var a=this,t=arguments;return new Promise(function(i,n){var s=o.apply(a,t);function l(u){Ce(s,i,n,l,m,"next",u)}function m(u){Ce(s,i,n,l,m,"throw",u)}l(void 0)})}}(function*(a,t,i,n=!1){const l=d=>(d/1024/1024).toFixed(2);t&&console.debug("NgxImageCompress - Opening upload window");const m=yield v.uploadFile(i,!1,n);let u;for(let d=0;d<10;d++){const f=v.byteCount(m.image);u=yield v.compress(m.image,m.orientation,i,50,100);const Z=v.byteCount(u);if(console.debug("NgxImageCompress -","Compression from",l(f),"MB to",l(Z),"MB"),Z>=f)throw 0===d?(t&&console.debug("NgxImageCompress -","File can't be reduced at all - returning the original",l(f),"MB large"),{...m,image:u}):(t&&console.debug("NgxImageCompress -","File can't be reduced more - returning the best we can, which is ",l(f),"MB large"),{...m,image:u});if(Z<1024*a*1024)return t&&console.debug("NgxImageCompress -","Here your file",l(Z),"MB large"),{...m,image:u};if(9===d)throw t&&console.debug("NgxImageCompress -","File can't reach the desired size after",10,"tries. Returning file ",l(f),"MB large"),{...m,image:u};t&&console.debug("NgxImageCompress -","Reached",l(Z),"MB large. Trying another time after",d+1,"times"),m.image=u}throw t&&console.debug("NgxImageCompress - Unexpected error"),{}});return function(a,t,i){return o.apply(this,arguments)}}();let te=(()=>{class o{constructor(t){this.DOC_ORIENTATION=g,this.render=t.createRenderer(null,null)}byteCount(t){return v.byteCount(t)}getOrientation(t){return v.getOrientation(t)}uploadFile(){return v.uploadFile(this.render,!1)}uploadMultipleFiles(){return v.uploadFile(this.render,!0)}uploadFileOrReject(){return v.uploadFile(this.render,!1,!0)}uploadMultipleFilesOrReject(){return v.uploadFile(this.render,!0,!0)}compressFile(t,i,n=50,s=50,l=0,m=0){return v.compress(t,i,this.render,n,s,l,m)}uploadAndGetImageWithMaxSize(t=1,i=!1,n=!1){return v.getImageMaxSize(t,i,this.render,n).then(s=>s.image).catch(s=>{throw s.image})}uploadAndGetImageWithMaxSizeAndMetas(t=1,i=!1,n=!1){return v.getImageMaxSize(t,i,this.render,n)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(e.FYo))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const ve=P.N.url+"/api";let oe=(()=>{class o{constructor(t){this.http=t}uploadFile(t){const i=new FormData;return i.append("archivo",t),console.log(i),console.log(t),this.http.post(`${ve}/uploads/ruta/subruta/prueba`,i).toPromise()}uploadUpdateFile(t,i,n,s,l,m,u){const d=new FormData;return d.append("archivo",t),console.log(d),console.log(t),this.http.put(`${ve}/uploads/${i}/${n}/${s}/${l}/${m}/${u}`,d).toPromise()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(k.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Xo(o,a){if(1&o&&(e.TgZ(0,"mat-option",39),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.viewValue," ")}}function Ko(o,a){if(1&o&&(e.TgZ(0,"mat-option",39),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.usuario),e.xp6(1),e.hij(" ",t.nombre," ")}}function Wo(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-card",2)(1,"form",3),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.EnviarDatos())}),e.TgZ(2,"mat-grid-list",4)(3,"mat-grid-tile",5)(4,"h3"),e._uU(5,"Datos de cliente"),e.qZA()(),e.TgZ(6,"mat-grid-tile",5)(7,"mat-form-field",6)(8,"mat-label"),e._uU(9,"Nombre"),e.qZA(),e._UZ(10,"input",7),e.qZA()(),e.TgZ(11,"mat-grid-tile",5)(12,"mat-form-field",6)(13,"mat-label"),e._uU(14,"Edad"),e.qZA(),e._UZ(15,"input",8),e.qZA()(),e.TgZ(16,"mat-grid-tile",5)(17,"mat-form-field",6)(18,"mat-label"),e._uU(19,"Direcci\xf3n"),e.qZA(),e._UZ(20,"input",9),e.qZA()(),e.TgZ(21,"mat-grid-tile",5)(22,"mat-form-field",6)(23,"mat-label"),e._uU(24,"Colonia"),e.qZA(),e._UZ(25,"input",10),e.qZA()(),e.TgZ(26,"mat-grid-tile",5)(27,"mat-form-field",6)(28,"mat-label"),e._uU(29,"Se\xf1as de domicilio"),e.qZA(),e._UZ(30,"input",11),e.qZA()(),e.TgZ(31,"mat-grid-tile",5)(32,"mat-form-field",6)(33,"mat-label"),e._uU(34,"Entre que calles se encuentra"),e.qZA(),e._UZ(35,"input",12),e.qZA()(),e.TgZ(36,"mat-grid-tile",5)(37,"mat-form-field",6)(38,"mat-label"),e._uU(39,"Ciudad"),e.qZA(),e._UZ(40,"input",13),e.qZA()(),e.TgZ(41,"mat-grid-tile",5)(42,"mat-form-field",6)(43,"mat-label"),e._uU(44,"Telefono Celular"),e.qZA(),e._UZ(45,"input",14),e.qZA()(),e.TgZ(46,"mat-grid-tile",5)(47,"mat-form-field",6)(48,"mat-label"),e._uU(49,"Telefono Fijo"),e.qZA(),e._UZ(50,"input",15),e.qZA()(),e.TgZ(51,"mat-grid-tile",5)(52,"mat-form-field",6)(53,"mat-label"),e._uU(54,"Tel. Adicional"),e.qZA(),e._UZ(55,"input",16),e.qZA()(),e.TgZ(56,"mat-grid-tile",5)(57,"mat-form-field",6)(58,"mat-label"),e._uU(59,"Estado Civil"),e.qZA(),e._UZ(60,"input",17),e.qZA()(),e.TgZ(61,"mat-grid-tile",5)(62,"mat-form-field",6)(63,"mat-label"),e._uU(64,"Tiempo de casado"),e.qZA(),e._UZ(65,"input",18),e.qZA()(),e.TgZ(66,"mat-grid-tile",5)(67,"mat-form-field",6)(68,"mat-label"),e._uU(69,"Personas dependientes"),e.qZA(),e._UZ(70,"input",19),e.qZA()(),e.TgZ(71,"mat-grid-tile",5)(72,"mat-form-field",6)(73,"mat-label"),e._uU(74,"Tipo Viviendo"),e.qZA(),e.TgZ(75,"mat-select",20),e.YNc(76,Xo,2,2,"mat-option",21),e.qZA()()(),e.TgZ(77,"mat-grid-tile",5)(78,"mat-form-field",6)(79,"mat-label"),e._uU(80,"Tiempo viviendo en el domicilio"),e.qZA(),e._UZ(81,"input",22),e.qZA()(),e.TgZ(82,"mat-grid-tile",5)(83,"mat-form-field",6)(84,"mat-label"),e._uU(85,"Pago de renta"),e.qZA(),e._UZ(86,"input",23),e.qZA()(),e.TgZ(87,"mat-grid-tile",5)(88,"mat-form-field",6)(89,"mat-label"),e._uU(90,"tipo de negocio"),e.qZA(),e._UZ(91,"input",24),e.qZA()(),e.TgZ(92,"mat-grid-tile",5)(93,"mat-form-field",6)(94,"mat-label"),e._uU(95,"Tiempo del negocio"),e.qZA(),e._UZ(96,"input",25),e.qZA()(),e.TgZ(97,"mat-grid-tile",5)(98,"mat-form-field",6)(99,"mat-label"),e._uU(100,"Numero de identificacion"),e.qZA(),e._UZ(101,"input",26),e.qZA()(),e.TgZ(102,"mat-grid-tile",5)(103,"mat-form-field",6)(104,"mat-label"),e._uU(105,"RFC"),e.qZA(),e._UZ(106,"input",27),e.qZA()(),e.TgZ(107,"mat-grid-tile",5)(108,"mat-form-field",6)(109,"mat-label"),e._uU(110,"Nombre del conyugue"),e.qZA(),e._UZ(111,"input",28),e.qZA()(),e.TgZ(112,"mat-grid-tile",5)(113,"mat-form-field",6)(114,"mat-label"),e._uU(115,"Trabajo del conyugue"),e.qZA(),e._UZ(116,"input",29),e.qZA()(),e.TgZ(117,"mat-grid-tile",5)(118,"mat-form-field",6)(119,"mat-label"),e._uU(120,"Domicilio del conyugue"),e.qZA(),e._UZ(121,"input",30),e.qZA()(),e.TgZ(122,"mat-grid-tile",5)(123,"mat-form-field",6)(124,"mat-label"),e._uU(125,"Antiguedad del conyugue"),e.qZA(),e._UZ(126,"input",31),e.qZA()(),e.TgZ(127,"mat-grid-tile",5)(128,"mat-form-field",6)(129,"mat-label"),e._uU(130,"Ingreso del solicitante"),e.qZA(),e._UZ(131,"input",32),e.qZA()(),e.TgZ(132,"mat-grid-tile",5)(133,"mat-form-field",6)(134,"mat-label"),e._uU(135,"Ingreso del conyugue"),e.qZA(),e._UZ(136,"input",33),e.qZA()(),e.TgZ(137,"mat-grid-tile",5)(138,"mat-form-field",6)(139,"mat-label"),e._uU(140,"Gastos totales"),e.qZA(),e._UZ(141,"input",34),e.qZA()(),e.TgZ(142,"mat-grid-tile",5)(143,"mat-form-field",6)(144,"mat-label"),e._uU(145,"Creditos Actuales"),e.qZA(),e._UZ(146,"input",35),e.qZA()(),e.TgZ(147,"mat-grid-tile",5)(148,"mat-form-field",6)(149,"mat-label"),e._uU(150,"Gestor"),e.qZA(),e.TgZ(151,"mat-select",36),e.YNc(152,Ko,2,2,"mat-option",21),e.qZA()()(),e.TgZ(153,"mat-grid-tile",5)(154,"button",37),e._uU(155,"Cancelar"),e.qZA()(),e.TgZ(156,"mat-grid-tile",5)(157,"button",38),e._uU(158,"Registrar"),e.qZA()()()()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(2),e.Q6J("colspan",2)("rowspan",1),e.xp6(3),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("ngForOf",t.viviendas),e.xp6(1),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("ngForOf",t.listaGestores),e.xp6(1),e.Q6J("colspan",1)("rowspan",1),e.xp6(3),e.Q6J("colspan",1)("rowspan",1),e.xp6(1),e.Q6J("disabled",t.form.invalid)}}function ei(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-card",2)(1,"h2",40),e._uU(2,"Subida de imagenes"),e.qZA(),e.TgZ(3,"p",40),e._uU(4,"Tu cliente fue registrado ahora debes subir las imagenes de la documentaci\xf3n necesario o podras realizarlo despues desde la edicion de clientes"),e.qZA(),e.TgZ(5,"mat-grid-list",4)(6,"mat-grid-tile",5)(7,"button",41),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openInput())}),e._uU(8,"INE Frente"),e.qZA(),e.TgZ(9,"input",42),e.NdJ("change",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onFileSelected(n,"frente"))}),e.qZA()(),e.TgZ(10,"mat-grid-tile",5)(11,"button",41),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openInput2())}),e._uU(12,"INE Reverso"),e.qZA(),e.TgZ(13,"input",43),e.NdJ("change",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onFileSelected(n,"reverso"))}),e.qZA()(),e.TgZ(14,"mat-grid-tile",5)(15,"button",41),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openInput3())}),e._uU(16,"Comprobante"),e.qZA(),e.TgZ(17,"input",44),e.NdJ("change",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onFileSelected(n,"comprobante"))}),e.qZA()(),e._UZ(18,"br")(19,"br"),e.TgZ(20,"mat-grid-tile",5)(21,"button",37),e._uU(22,"Finalizar"),e.qZA()()()()}2&o&&(e.xp6(6),e.Q6J("colspan",2)("rowspan",1),e.xp6(4),e.Q6J("colspan",2)("rowspan",1),e.xp6(4),e.Q6J("colspan",2)("rowspan",1),e.xp6(6),e.Q6J("colspan",2)("rowspan",1))}var H=new Date,be=H.getDate(),Ae=H.getMonth()+1,Te=H.getFullYear(),ti=H.getHours(),oi=H.getMinutes(),ii=H.getSeconds(),ai=`${be}-${Ae}-${Te}`;let ni=(()=>{class o{constructor(t,i,n,s,l,m){this.fb=t,this.gestorService=i,this.sharedService=n,this.clienteService=s,this.imageCompress=l,this.uploadService=m,this.fecha_Solicitud=ai,this.lista=[],this.listaGestores=[],this.activo=!1,this.lista2=[],this.listaDeInteres=[],this.viviendas=[{value:"Propia",viewValue:"Propia"},{value:"Rentada",viewValue:"Rentada"},{value:"Familiar",viewValue:"Familiar"}],this.form=this.fb.group({nombreSolicitante:["",r.kI.required],edad:["",r.kI.required],direccion:["",r.kI.required],colonia:["",r.kI.required],senasDomicilio:[""],entreCalles:[""],ciudad:["",r.kI.required],celular:["",r.kI.required],telefonoFijo:[""],telefonoAdicional:[""],estadoCivil:["",r.kI.required],tiempoCasados:["",r.kI.required],dependientes:["",r.kI.required],tipoVivienda:["",r.kI.required],tiempoVivienda:[""],pagoRenta:[""],tipoNegocio:["",r.kI.required],tiempoNegocio:[""],numeroINE:["",r.kI.required],RFC:["",r.kI.required],conyugue:["",r.kI.required],trabajoConyugue:[""],domicilioConyugue:[""],antiguedadConyugue:[""],ingresoSolicitante:["",r.kI.required],ingresosConyugue:[""],gastos:["",r.kI.required],creditosActuales:[""],gestor:["",r.kI.required]})}ngOnInit(){this.obtenerGestores()}obtenerGestores(){this.gestorService.getGestorFinanciera(this.sharedService.getFinanciera()).subscribe(t=>{console.log(t),this.lista=t,this.listaGestores=this.lista.gestores,console.log(this.listaGestores)})}EnviarDatos(){this.agregarUsuario()}agregarUsuario(){this.verificarCamposOpcionales(),this.numeroDeClienteID=this.eliminarAcentos2(this.form.value.nombreSolicitante).substring(0,2)+Te+Ae+be+ti+oi+ii;const t={numeroCliente:this.numeroDeClienteID,nombre:this.eliminarAcentos2(this.form.value.nombreSolicitante),edad:this.form.value.edad,direccion:this.form.value.direccion,colonia:this.form.value.colonia,senasDomicilio:this.form.value.senasDomicilio,entrecalles:this.form.value.entreCalles,ciudad:this.form.value.ciudad,celular:this.form.value.celular,telefonoFijo:this.form.value.telefonoFijo,telefonoAdicional:this.form.value.telefonoAdicional,estadoCivil:this.form.value.estadoCivil,tiempoCasados:this.form.value.tiempoCasados,dependientes:this.form.value.dependientes,tipoVivienda:this.form.value.tipoVivienda,tiempoViviendo:this.form.value.tiempoVivienda,pagoRenta:this.form.value.pagoRenta,tipoNegocio:this.form.value.tipoNegocio,tiempoNegocio:this.form.value.tiempoNegocio,numeroIdentificacion:this.form.value.numeroINE,RFC:this.form.value.RFC,nombreConyugue:this.form.value.conyugue,trabajoConyugue:this.form.value.trabajoConyugue,domicilioConyugue:this.form.value.domicilioConyugue,antiguedadConyugue:this.form.value.antiguedadConyugue,ingresoSolicitante:this.form.value.ingresoSolicitante,ingresoConyugue:this.form.value.ingresosConyugue,gastosTotales:this.form.value.gastos,gestorAsignado:this.form.value.gestor,fotoComprobante:"URL",fotoFachada:"URL",fotoIneFrente:"URL",fotoIneReverso:"URL",tipo:"SN",fechaRegistro:this.fecha_Solicitud,numeroPrestamos:this.form.value.creditosActuales,prestamosActivos:!1,clasificacion:"Pendiente",sucursal:this.sharedService.getFinanciera()};console.log(t),this.clienteService.guardarCliente(t).subscribe(i=>{console.log("Cliente registrado con \xe9xito:"),console.log(i);const n=i.cliente._id;console.log("El id del nuevo cliente es "+n),this.mongoIdCliente=n,this.activo=!0},i=>{console.error("Error al registrar cliente:",i)})}onFileSelected(t,i){const n=t.target.files[0];n&&(console.log("tipo en Seleccionar el archivo "+i),this.compressImage(n,i))}compressImage(t,i){const n=new FileReader;n.onload=s=>{this.imageCompress.compressFile(s.target.result,-1,50,50).then(m=>{const u=new File([m],"nombre_de_archivo.jpg",{type:"image/jpeg",lastModified:Date.now()});console.log("tipo en comprimir  "+i),this.subirArchivo(u,i)})},n.readAsDataURL(t)}subirArchivo(t,i){console.log("tipo en subir archivo "+i);const n=this.numeroDeClienteID+"_"+i,s=this.sharedService.getFinanciera()??"vacio";t&&this.uploadService.uploadUpdateFile(t,this.mongoIdCliente,"clientes",s,"clientes",n,i).then(l=>{console.log("Documento subido"),console.log(l),alert("Se subio el archivo correctamente")}).catch(l=>{console.error("Error al cargar el archivo:",l)})}verificarCamposOpcionales(){["senasDomicilio","entreCalles","telefonoFijo","telefonoAdicional","tiempoVivienda","pagoRenta","tiempoNegocio","trabajoConyugue","domicilioConyugue","antiguedadConyugue"].forEach(n=>{const s=this.form?.get(n);s&&!s.value&&s.setValue("SN")}),["ingresosConyugue","creditosActuales"].forEach(n=>{const s=this.form?.get(n);s&&!s.value&&s.setValue(0)})}openInput(){document.getElementById("fileInput").click()}openInput2(){document.getElementById("fileInput2").click()}openInput3(){document.getElementById("fileInput3").click()}eliminarAcentos2(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(N),e.Y36(T),e.Y36(M),e.Y36(te),e.Y36(oe))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-agregar-cliente"]],decls:6,vars:2,consts:[[1,"container"],["style","margin-top: 10px;",4,"ngIf"],[2,"margin-top","10px"],[3,"formGroup","ngSubmit"],["cols","2","rowHeight","70px"],[3,"colspan","rowspan"],[1,"ancho"],["matInput","","autocomplete","off","formControlName","nombreSolicitante"],["type","number","matInput","","autocomplete","off","formControlName","edad"],["matInput","","autocomplete","off","formControlName","direccion"],["matInput","","autocomplete","off","formControlName","colonia"],["matInput","","autocomplete","off","formControlName","senasDomicilio"],["matInput","","autocomplete","off","formControlName","entreCalles"],["matInput","","autocomplete","off","formControlName","ciudad"],["type","number","matInput","","autocomplete","off","formControlName","celular"],["type","number","matInput","","autocomplete","off","formControlName","telefonoFijo"],["type","number","matInput","","autocomplete","off","formControlName","telefonoAdicional"],["matInput","","autocomplete","off","formControlName","estadoCivil"],["matInput","","autocomplete","off","formControlName","tiempoCasados"],["matInput","","autocomplete","off","formControlName","dependientes"],["formControlName","tipoVivienda"],[3,"value",4,"ngFor","ngForOf"],["matInput","","autocomplete","off","formControlName","tiempoVivienda"],["type","number","matInput","","autocomplete","off","formControlName","pagoRenta"],["matInput","","autocomplete","off","formControlName","tipoNegocio"],["matInput","","autocomplete","off","formControlName","tiempoNegocio"],["matInput","","autocomplete","off","formControlName","numeroINE"],["matInput","","autocomplete","off","formControlName","RFC"],["matInput","","autocomplete","off","formControlName","conyugue"],["matInput","","autocomplete","off","formControlName","trabajoConyugue"],["matInput","","autocomplete","off","formControlName","domicilioConyugue"],["matInput","","autocomplete","off","formControlName","antiguedadConyugue"],["type","number","matInput","","autocomplete","off","formControlName","ingresoSolicitante"],["type","number","matInput","","autocomplete","off","formControlName","ingresosConyugue"],["type","number","matInput","","autocomplete","off","formControlName","gastos"],["type","number","matInput","","autocomplete","off","formControlName","creditosActuales"],["formControlName","gestor"],["type","button","mat-raised-button","","color","primary","routerLink","/dashboard/clientes",1,"ancho"],["type","submit","mat-raised-button","","color","primary",1,"ancho",3,"disabled"],[3,"value"],[2,"text-align","center"],["type","button","mat-raised-button","",1,"ancho",3,"click"],["id","fileInput","hidden","","type","file","accept",".pdf,.jpg,.png",3,"change"],["id","fileInput2","hidden","","type","file","accept",".pdf,.jpg,.png",3,"change"],["id","fileInput3","hidden","","type","file","accept",".pdf,.jpg,.png",3,"change"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Agregar Clientes"),e.qZA()(),e.YNc(4,Wo,159,68,"mat-card",1),e.YNc(5,ei,23,8,"mat-card",1),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngIf",!i.activo),e.xp6(1),e.Q6J("ngIf",i.activo))},dependencies:[q.sg,q.O5,b.rH,p.KE,p.hX,U.Nt,x.lW,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,A.Ye,I.a8,C.Il,C.DX,F.gD,Q.ey],styles:[".ancho[_ngcontent-%COMP%]{width:85%}"]}),o})();var D=h(7700);const ce=P.N.url+"/api";let qe=(()=>{class o{constructor(t){this.http=t}getPagosFinanciera(t,i){return this.http.get(`${ce}/pagos/${t}/${i}`)}getPagosPrestamo(t,i){return this.http.get(`${ce}/pagos/prestamo/${t}/${i}`)}postPago(t){return this.http.post(`${ce}/pagos/`,t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(k.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var J=h(3305),y=h(9038),me=h(6385);function ri(o,a){if(1&o&&(e.TgZ(0,"mat-list-item")(1,"mat-icon",7),e._uU(2,"folder"),e.qZA(),e.TgZ(3,"div",8),e._uU(4),e.qZA(),e.TgZ(5,"div",9),e._uU(6),e.qZA(),e.TgZ(7,"div",9),e._uU(8),e.qZA(),e.TgZ(9,"div",9),e._uU(10),e.qZA(),e.TgZ(11,"div",9),e._uU(12),e.qZA(),e.TgZ(13,"div",9),e._uU(14,"_____________________________________________________"),e.qZA(),e._UZ(15,"br"),e.qZA()),2&o){const t=a.$implicit;e.xp6(4),e.Oqu(t.fecha),e.xp6(2),e.hij("Abono: $",t.abono,""),e.xp6(2),e.hij("Hora de registro: ",t.horaPago,""),e.xp6(2),e.hij("El cobro fue por: ",t.personasCobrador,""),e.xp6(2),e.hij("El restante es: ",t.totalRestante,"")}}let si=(()=>{class o{constructor(t,i,n,s,l){this.data=t,this.gestorService=i,this.prestamoService=n,this.sharedService=s,this.pagoService=l,this.prestamoEspecifico=[],this.panelOpenState=!1,this.listaPagos=[],this.currentSlideIndex=0,this.variableURL="https://node-restserver-financiera-production.up.railway.app/"}ngOnInit(){console.log("El id es: "+this.data.parametro_id),this.prestamoMongoId=this.data.parametro_id,this.obtenerPrestamo()}obtenerPrestamo(){this.prestamoService.getPrestamoEspecifico(this.prestamoMongoId).subscribe(t=>{console.log(t),this.lista=t,this.prestamoEspecifico=this.lista.prestamo,console.log(this.prestamoEspecifico),this.obtenerPagos(),this.setCurrentImage()})}obtenerPagos(){this.pagoService.getPagosPrestamo(this.sharedService.getFinanciera(),this.prestamoEspecifico.folio).subscribe(t=>{console.log(t),this.lista3=t,this.listaPagos=this.lista3.pagos,console.log(this.listaPagos)})}setCurrentImage(){switch(this.currentSlideIndex){case 0:this.currentImage=this.variableURL+this.prestamoEspecifico.urlDinero;break;case 1:this.currentImage=this.variableURL+this.prestamoEspecifico.urlFachada;break;case 2:this.currentImage=this.variableURL+this.prestamoEspecifico.urlPagare;break;default:this.currentImage=""}}nextSlide(){this.currentSlideIndex<2&&(this.currentSlideIndex++,this.setCurrentImage())}prevSlide(){this.currentSlideIndex>0&&(this.currentSlideIndex--,this.setCurrentImage())}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(D.WI),e.Y36(N),e.Y36(j),e.Y36(T),e.Y36(qe))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-dialog-bod"]],decls:21,vars:5,consts:[[1,"example-spacer"],[3,"opened","closed"],[4,"ngFor","ngForOf"],[1,"slider-container"],[1,"slider"],[3,"src","alt"],[3,"disabled","click"],["matListItemIcon",""],["matListItemTitle",""],["matListItemLine",""]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Informacion Prestamos"),e.qZA(),e._UZ(3,"div",0),e.qZA(),e.TgZ(4,"div")(5,"mat-expansion-panel",1),e.NdJ("opened",function(){return i.panelOpenState=!0})("closed",function(){return i.panelOpenState=!1}),e.TgZ(6,"mat-expansion-panel-header")(7,"mat-panel-title"),e._uU(8," Lista pagos registrados "),e.qZA()(),e.TgZ(9,"mat-list"),e.YNc(10,ri,16,5,"mat-list-item",2),e._UZ(11,"mat-divider"),e.qZA()()(),e.TgZ(12,"h3"),e._uU(13,"Documentos"),e.qZA(),e.TgZ(14,"div",3)(15,"div",4),e._UZ(16,"img",5),e.qZA(),e.TgZ(17,"button",6),e.NdJ("click",function(){return i.prevSlide()}),e._uU(18,"Anterior"),e.qZA(),e.TgZ(19,"button",6),e.NdJ("click",function(){return i.nextSlide()}),e._uU(20,"Siguiente"),e.qZA()()),2&t&&(e.xp6(10),e.Q6J("ngForOf",i.listaPagos),e.xp6(6),e.MGl("alt","Slide ",i.currentSlideIndex+1,""),e.Q6J("src",i.currentImage,e.LSH),e.xp6(1),e.Q6J("disabled",0===i.currentSlideIndex),e.xp6(2),e.Q6J("disabled",2===i.currentSlideIndex))},dependencies:[q.sg,A.Ye,E.Hw,J.ib,J.yz,J.yK,y.i$,y.Tg,y.Yt,me.d,y.WW,y.sL],styles:[".example-card[_ngcontent-%COMP%]{width:100%}.ancho[_ngcontent-%COMP%]{width:85%}.img_Cliente[_ngcontent-%COMP%]{max-width:300px;width:100%;height:100%;max-height:300px}.carousel-container[_ngcontent-%COMP%]{max-width:100%;overflow:hidden;position:relative;margin-top:50px}.carousel-slides[_ngcontent-%COMP%]{display:flex;transition:transform .3s ease-in-out}.slide[_ngcontent-%COMP%]{flex:0 0 100%;text-align:center}.slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:auto;max-width:40%}.carousel-navigation[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%)}.carousel-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 5px}.mat-list-icon[_ngcontent-%COMP%]{color:#0000008a}table[_ngcontent-%COMP%]{width:100%}.informacion[_ngcontent-%COMP%]{margin-bottom:50px}.example-full-width[_ngcontent-%COMP%]{width:100%}.contenedor[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.slider-container[_ngcontent-%COMP%]{width:80%;margin:auto;padding-top:30px;text-align:center}.slider[_ngcontent-%COMP%]{overflow:hidden;width:300px;margin:0 auto}img[_ngcontent-%COMP%]{width:100%;height:auto;transition:transform .5s ease-in-out}.controls[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}button[_ngcontent-%COMP%]{margin:0 10px;padding:5px 10px;background-color:#007bff;color:#fff;border:none;cursor:pointer}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}@media (max-width: 768px){.slider-container[_ngcontent-%COMP%], .slider[_ngcontent-%COMP%]{width:100%}.controls[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{margin:10px auto}}"]}),o})();function li(o,a){1&o&&(e.TgZ(0,"th",21),e._uU(1," Folio "),e.qZA())}function ci(o,a){if(1&o&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.folio," ")}}function mi(o,a){1&o&&(e.TgZ(0,"th",21),e._uU(1," Fecha "),e.qZA())}function ui(o,a){if(1&o&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.fecha," ")}}function pi(o,a){1&o&&(e.TgZ(0,"th",21),e._uU(1," Cantidad "),e.qZA())}function di(o,a){if(1&o&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.cantidadPrestamo," ")}}function gi(o,a){1&o&&(e.TgZ(0,"th",21),e._uU(1," Estado "),e.qZA())}function fi(o,a){if(1&o&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.estatus," ")}}function hi(o,a){1&o&&e._UZ(0,"th",21)}function _i(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"td",23)(1,"a",24),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.openDialog(s._id))}),e.TgZ(2,"mat-icon"),e._uU(3,"search"),e.qZA()()()}}function Zi(o,a){1&o&&e._UZ(0,"tr",25)}function Ci(o,a){1&o&&e._UZ(0,"tr",26)}let vi=(()=>{class o{constructor(t,i,n,s,l){this.route=t,this.matDialog=i,this.clienteService=n,this.prestamoService=s,this.sharedService=l,this.clienteEspecifico=[],this.listaPrestamos=[],this.variableURL="https://node-restserver-financiera-production.up.railway.app/",this.currentSlideIndex=0,this.listaPrueba=[{folio:"Pre001",fecha:"24/04/2023",cantidad:"$5000",estado:"Finalizado"},{folio:"Pre002",fecha:"24/04/2023",cantidad:"$5000",estado:"Finalizado"},{folio:"Pre003",fecha:"24/04/2023",cantidad:"$5000",estado:"Finalizado"},{folio:"Pre004",fecha:"24/04/2023",cantidad:"$5000",estado:"Activo"}],this.displayedColumns=["folio","fecha","cantidad","estado","acciones"],this.dataSource=new c.by(this.listaPrestamos),this.currentImageIndex=0}setCurrentImage(){switch(this.currentSlideIndex){case 0:this.currentImage=this.variableURL+this.clienteEspecifico.fotoIneFrente;break;case 1:this.currentImage=this.variableURL+this.clienteEspecifico.fotoIneReverso;break;case 2:this.currentImage=this.variableURL+this.clienteEspecifico.fotoComprobante;break;default:this.currentImage=""}}ngOnInit(){this.mongoIdCliente=this.route.snapshot.paramMap.get("id"),console.log(this.mongoIdCliente),this.obtenerCliente()}obtenerCliente(){this.clienteService.getClienteEspecifico(this.mongoIdCliente).subscribe(t=>{console.log(t),this.lista=t,this.clienteEspecifico=this.lista.cliente,console.log(this.clienteEspecifico.numeroCliente),this.obtenerPrestamos(),this.setCurrentImage()})}obtenerPrestamos(){this.prestamoService.getPrestamosCliente(this.sharedService.getFinanciera(),this.clienteEspecifico.numeroCliente).subscribe(t=>{console.log(t),this.lista2=t,this.listaPrestamos=this.lista2.prestamos,console.log(this.listaPrestamos),this.dataSource=new c.by(this.listaPrestamos)})}nextSlide(){this.currentSlideIndex<2&&(this.currentSlideIndex++,this.setCurrentImage())}prevSlide(){this.currentSlideIndex>0&&(this.currentSlideIndex--,this.setCurrentImage())}openDialog(t){this.matDialog.open(si,{data:{parametro_id:t},width:"400px",height:"600px"})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b.gz),e.Y36(D.uw),e.Y36(M),e.Y36(j),e.Y36(T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-expediente"]],decls:47,vars:23,consts:[[1,"container"],[1,"example-spacer"],[1,"informacion"],["cols","3","rowHeight","70px"],[3,"colspan","rowspan"],["src","assets\\img\\user.png","alt","",1,"img_Cliente"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","folio"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fecha"],["matColumnDef","cantidad"],["matColumnDef","estado"],["matColumnDef","acciones"],["mat-cell","","style","text-align: right;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"slider-container"],[1,"slider"],[3,"src","alt"],[3,"disabled","click"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",2,"text-align","right"],["matTooltip","Informacion",1,"pointer",2,"color","cornflowerblue",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Expediente"),e.qZA(),e._UZ(4,"div",1),e.qZA(),e.TgZ(5,"mat-card",2)(6,"mat-grid-list",3)(7,"mat-grid-tile",4),e._uU(8),e.qZA(),e.TgZ(9,"mat-grid-tile",4)(10,"div"),e._UZ(11,"img",5),e.qZA()(),e.TgZ(12,"mat-grid-tile",4),e._uU(13),e.qZA(),e.TgZ(14,"mat-grid-tile",4),e._uU(15),e.qZA(),e.TgZ(16,"mat-grid-tile",4),e._uU(17),e.qZA()()(),e.TgZ(18,"mat-toolbar")(19,"span"),e._uU(20,"Lista de Prestamos"),e.qZA(),e._UZ(21,"div",1),e.qZA(),e.TgZ(22,"table",6),e.ynx(23,7),e.YNc(24,li,2,0,"th",8),e.YNc(25,ci,2,1,"td",9),e.BQk(),e.ynx(26,10),e.YNc(27,mi,2,0,"th",8),e.YNc(28,ui,2,1,"td",9),e.BQk(),e.ynx(29,11),e.YNc(30,pi,2,0,"th",8),e.YNc(31,di,2,1,"td",9),e.BQk(),e.ynx(32,12),e.YNc(33,gi,2,0,"th",8),e.YNc(34,fi,2,1,"td",9),e.BQk(),e.ynx(35,13),e.YNc(36,hi,1,0,"th",8),e.YNc(37,_i,4,0,"td",14),e.BQk(),e.YNc(38,Zi,1,0,"tr",15),e.YNc(39,Ci,1,0,"tr",16),e.qZA(),e.TgZ(40,"div",17)(41,"div",18),e._UZ(42,"img",19),e.qZA(),e.TgZ(43,"button",20),e.NdJ("click",function(){return i.prevSlide()}),e._uU(44,"Anterior"),e.qZA(),e.TgZ(45,"button",20),e.NdJ("click",function(){return i.nextSlide()}),e._uU(46,"Siguiente"),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("colspan",1)("rowspan",1),e.xp6(1),e.hij(" ",i.clienteEspecifico.nombre," "),e.xp6(1),e.Q6J("colspan",2)("rowspan",4),e.xp6(3),e.Q6J("colspan",1)("rowspan",1),e.xp6(1),e.lnq(" ",i.clienteEspecifico.direccion,", ",i.clienteEspecifico.colonia,", ",i.clienteEspecifico.ciudad," "),e.xp6(1),e.Q6J("colspan",1)("rowspan",1),e.xp6(1),e.hij(" ",i.clienteEspecifico.celular," "),e.xp6(1),e.Q6J("colspan",1)("rowspan",1),e.xp6(1),e.hij(" ",i.clienteEspecifico.gestorAsignado," "),e.xp6(5),e.Q6J("dataSource",i.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(3),e.MGl("alt","Slide ",i.currentSlideIndex+1,""),e.Q6J("src",i.currentImage,e.LSH),e.xp6(1),e.Q6J("disabled",0===i.currentSlideIndex),e.xp6(2),e.Q6J("disabled",2===i.currentSlideIndex))},dependencies:[A.Ye,E.Hw,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,ae.gM,I.a8,C.Il,C.DX],styles:[".example-card[_ngcontent-%COMP%]{width:100%}.ancho[_ngcontent-%COMP%]{width:85%}.img_Cliente[_ngcontent-%COMP%]{max-width:300px;width:100%;height:100%;max-height:300px}.slider-container[_ngcontent-%COMP%]{width:80%;margin:auto;padding-top:30px;text-align:center}.slider[_ngcontent-%COMP%]{overflow:hidden;width:450px;margin:0 auto}img[_ngcontent-%COMP%]{width:100%;height:auto;transition:transform .5s ease-in-out}.controls[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}button[_ngcontent-%COMP%]{margin:0 10px;padding:5px 10px;background-color:#007bff;color:#fff;border:none;cursor:pointer}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}@media (max-width: 768px){.slider-container[_ngcontent-%COMP%], .slider[_ngcontent-%COMP%]{width:100%}.controls[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{margin:10px auto}}table[_ngcontent-%COMP%]{width:100%}.informacion[_ngcontent-%COMP%]{margin-bottom:50px}"]}),o})(),xe=(()=>{class o{constructor(t,i,n){this.data=t,this.gestorService=i,this.dialogRef=n}ngOnInit(){console.log(this.data.parametro_id)}eliminarGestor(){this.dialogRef.close("confirmar")}cerrarMat(){this.dialogRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(D.WI),e.Y36(N),e.Y36(D.so))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-confirmacion"]],decls:10,vars:0,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"h1",0),e._uU(1,"\xbfEstas seguro?"),e.qZA(),e.TgZ(2,"div",1)(3,"p"),e._uU(4,"Porfavor confirma si deseas eliminar"),e.qZA()(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return i.cerrarMat()}),e._uU(7,"Cancelar"),e.qZA(),e.TgZ(8,"button",3),e.NdJ("click",function(){return i.eliminarGestor()}),e._uU(9,"Confirmar"),e.qZA()())},dependencies:[x.lW,D.uh,D.xY,D.H8]}),o})();function bi(o,a){if(1&o&&(e.TgZ(0,"mat-option",44),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.viewValue," ")}}function Ai(o,a){if(1&o&&(e.TgZ(0,"mat-option",44),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.usuario),e.xp6(1),e.hij(" ",t.nombre," ")}}var V=new Date,Ti=V.getDate(),qi=V.getMonth()+1,xi=V.getFullYear(),Ui=(V.getHours(),V.getMinutes(),V.getSeconds(),`${Ti}-${qi}-${xi}`);let Ii=(()=>{class o{constructor(t,i,n,s,l,m,u,d,f){this.fb=t,this.gestorService=i,this.sharedService=n,this.clienteService=s,this.route=l,this.imageCompress=m,this.uploadService=u,this.matDialog=d,this.router=f,this.fecha_Solicitud=Ui,this.lista=[],this.listaGestores=[],this.activo=!1,this.lista2=[],this.clienteEspecifico=[],this.viviendas=[{value:"Propia",viewValue:"Propia"},{value:"Rentada",viewValue:"Rentada"},{value:"Familiar",viewValue:"Familiar"}],this.form=this.fb.group({numeroCliente:["",r.kI.required],nombreSolicitante:["",r.kI.required],edad:["",r.kI.required],direccion:["",r.kI.required],colonia:["",r.kI.required],senasDomicilio:[""],entreCalles:[""],ciudad:["",r.kI.required],celular:["",r.kI.required],telefonoFijo:[""],telefonoAdicional:[""],estadoCivil:["",r.kI.required],tiempoCasados:["",r.kI.required],dependientes:["",r.kI.required],tipoVivienda:["",r.kI.required],tiempoVivienda:[""],pagoRenta:[""],tipoNegocio:["",r.kI.required],tiempoNegocio:[""],numeroINE:["",r.kI.required],RFC:["",r.kI.required],conyugue:["",r.kI.required],trabajoConyugue:[""],domicilioConyugue:[""],antiguedadConyugue:[""],ingresoSolicitante:["",r.kI.required],ingresosConyugue:[""],gastos:["",r.kI.required],creditosActuales:[""],gestor:["",r.kI.required]})}ngOnInit(){this.obtenerGestores(),this.mongoIdCliente=this.route.snapshot.paramMap.get("id"),console.log(this.mongoIdCliente),this.obtenerCliente()}obtenerGestores(){this.gestorService.getGestorFinanciera(this.sharedService.getFinanciera()).subscribe(t=>{console.log(t),this.lista=t,this.listaGestores=this.lista.gestores,console.log(this.listaGestores)})}obtenerCliente(){this.clienteService.getClienteEspecifico(this.mongoIdCliente).subscribe(t=>{console.log(t),this.lista2=t,this.clienteEspecifico=this.lista2.cliente,console.log(this.clienteEspecifico),this.llenarFormulario()})}llenarFormulario(){console.log(this.clienteEspecifico.nombre),this.form.patchValue({numeroCliente:this.clienteEspecifico.numeroCliente,nombreSolicitante:this.clienteEspecifico.nombre,edad:this.clienteEspecifico.edad,direccion:this.clienteEspecifico.direccion,colonia:this.clienteEspecifico.colonia,senasDomicilio:this.clienteEspecifico.senasDomicilio,ciudad:this.clienteEspecifico.ciudad,celular:this.clienteEspecifico.celular,telefonoFijo:this.clienteEspecifico.telefonoFijo,telefonoAdicional:this.clienteEspecifico.telefonoAdicional,estadoCivil:this.clienteEspecifico.estadoCivil,tiempoCasados:this.clienteEspecifico.tiempoCasados,dependientes:this.clienteEspecifico.dependientes,tipoVivienda:this.clienteEspecifico.tipoVivienda,tiempoVivienda:this.clienteEspecifico.tiempoViviendo,pagoRenta:this.clienteEspecifico.pagoRenta,tipoNegocio:this.clienteEspecifico.tipoNegocio,tiempoNegocio:this.clienteEspecifico.tiempoNegocio,numeroINE:this.clienteEspecifico.numeroIdentificacion,RFC:this.clienteEspecifico.RFC,conyugue:this.clienteEspecifico.nombreConyugue,trabajoConyugue:this.clienteEspecifico.trabajoConyugue,domicilioConyugue:this.clienteEspecifico.domicilioConyugue,antiguedadConyugue:this.clienteEspecifico.antiguedadConyugue,ingresoSolicitante:this.clienteEspecifico.ingresoSolicitante,ingresosConyugue:this.clienteEspecifico.ingresoConyugue,gastos:this.clienteEspecifico.gastosTotales,creditosActuales:this.clienteEspecifico.numeroPrestamos,gestor:this.clienteEspecifico.gestorAsignado})}EnviarDatos(){this.editarUsuario()}editarUsuario(){this.verificarCamposOpcionales();const t={nombre:this.eliminarAcentos2(this.form.value.nombreSolicitante),edad:this.form.value.edad,direccion:this.form.value.direccion,colonia:this.form.value.colonia,senasDomicilio:this.form.value.senasDomicilio,ciudad:this.form.value.ciudad,celular:this.form.value.celular,telefonoFijo:this.form.value.telefonoFijo,telefonoAdicional:this.form.value.telefonoAdicional,estadoCivil:this.form.value.estadoCivil,tiempoCasados:this.form.value.tiempoCasados,dependientes:this.form.value.dependientes,tipoVivienda:this.form.value.tipoVivienda,tiempoViviendo:this.form.value.tiempoVivienda,pagoRenta:this.form.value.pagoRenta,tipoNegocio:this.form.value.tipoNegocio,tiempoNegocio:this.form.value.tiempoNegocio,numeroIdentificacion:this.form.value.numeroINE,RFC:this.form.value.RFC,nombreConyugue:this.form.value.conyugue,trabajoConyugue:this.form.value.trabajoConyugue,domicilioConyugue:this.form.value.domicilioConyugue,antiguedadConyugue:this.form.value.antiguedadConyugue,ingresoSolicitante:this.form.value.ingresoSolicitante,ingresoConyugue:this.form.value.ingresosConyugue,gastosTotales:this.form.value.gastos,gestorAsignado:this.form.value.gestor};console.log(t),this.clienteService.PutClienteFinanciera(this.mongoIdCliente,t).subscribe(i=>{i&&(console.log(i),alert("Cliente Actualizado"))},i=>{console.log(i),alert("Problemas al actualizar, intente mas tarde")})}onFileSelected(t,i){const n=t.target.files[0];n&&(console.log("tipo en Seleccionar el archivo "+i),this.subirArchivo(n,i))}compressImage(t,i){const n=new FileReader;n.onload=s=>{this.imageCompress.compressFile(s.target.result,-1,50,50).then(m=>{const u=new File([m],"nombre_de_archivo.jpg",{type:"image/jpeg",lastModified:Date.now()});console.log("tipo en comprimir  "+i),this.subirArchivo(u,i)})},n.readAsDataURL(t)}subirArchivo(t,i){console.log("tipo en subir archivo "+this.numeroDeClienteID);const n=this.mongoIdCliente+"_"+i,s=this.sharedService.getFinanciera()??"vacio";t&&this.uploadService.uploadUpdateFile(t,this.mongoIdCliente,"clientes",s,"clientes",n,i).then(l=>{console.log("Documento subido"),console.log(l),alert("Se subio el archivo correctamente")}).catch(l=>{console.error("Error al cargar el archivo:",l)})}verificarCamposOpcionales(){["senasDomicilio","entreCalles","telefonoFijo","telefonoAdicional","tiempoVivienda","pagoRenta","tiempoNegocio","trabajoConyugue","domicilioConyugue","antiguedadConyugue"].forEach(n=>{const s=this.form?.get(n);s&&!s.value&&s.setValue("SN")}),["ingresosConyugue","creditosActuales"].forEach(n=>{const s=this.form?.get(n);s&&!s.value&&s.setValue(0)})}openInput(){document.getElementById("fileInput").click()}openInput2(){document.getElementById("fileInput2").click()}openInput3(){document.getElementById("fileInput3").click()}eliminarAcentos2(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}openDialog(){this.matDialog.open(xe,{data:{parametro_id:this.mongoIdCliente},width:"250px"}).afterClosed().subscribe(i=>{console.log("Si se ejecuto el despues de cerrar"),"confirmar"===i&&(console.log("Si devolvio el confirmar"),this.eliminarCliente(this.mongoIdCliente))})}eliminarCliente(t){this.clienteService.DeleteClienteFinanciera(t).subscribe(i=>{i&&(console.log(i),alert("Cliente Eliminado Satisfactoriamente"),this.router.navigate(["dashboard/clientes"]))},i=>{console.log(i)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(N),e.Y36(T),e.Y36(M),e.Y36(b.gz),e.Y36(te),e.Y36(oe),e.Y36(D.uw),e.Y36(b.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-editar-cliente"]],decls:184,vars:76,consts:[[1,"container"],[2,"margin-top","10px"],[3,"formGroup","ngSubmit"],["cols","2","rowHeight","70px"],[3,"colspan","rowspan"],[1,"ancho"],["matInput","","autocomplete","off","formControlName","numeroCliente","readonly",""],["matInput","","autocomplete","off","formControlName","nombreSolicitante"],["type","number","matInput","","autocomplete","off","formControlName","edad"],["matInput","","autocomplete","off","formControlName","direccion"],["matInput","","autocomplete","off","formControlName","colonia"],["matInput","","autocomplete","off","formControlName","senasDomicilio"],["matInput","","autocomplete","off","formControlName","ciudad"],["type","number","matInput","","autocomplete","off","formControlName","celular"],["type","number","matInput","","autocomplete","off","formControlName","telefonoFijo"],["type","number","matInput","","autocomplete","off","formControlName","telefonoAdicional"],["matInput","","autocomplete","off","formControlName","estadoCivil"],["matInput","","autocomplete","off","formControlName","tiempoCasados"],["matInput","","autocomplete","off","formControlName","dependientes"],["formControlName","tipoVivienda"],[3,"value",4,"ngFor","ngForOf"],["matInput","","autocomplete","off","formControlName","tiempoVivienda"],["type","number","matInput","","autocomplete","off","formControlName","pagoRenta"],["matInput","","autocomplete","off","formControlName","tipoNegocio"],["matInput","","autocomplete","off","formControlName","tiempoNegocio"],["matInput","","autocomplete","off","formControlName","numeroINE"],["matInput","","autocomplete","off","formControlName","RFC"],["matInput","","autocomplete","off","formControlName","conyugue"],["matInput","","autocomplete","off","formControlName","trabajoConyugue"],["matInput","","autocomplete","off","formControlName","domicilioConyugue"],["matInput","","autocomplete","off","formControlName","antiguedadConyugue"],["type","number","matInput","","autocomplete","off","formControlName","ingresoSolicitante"],["type","number","matInput","","autocomplete","off","formControlName","ingresosConyugue"],["type","number","matInput","","autocomplete","off","formControlName","gastos"],["type","number","matInput","","autocomplete","off","formControlName","creditosActuales","readonly",""],["formControlName","gestor"],["type","button","mat-raised-button","","color","danger",1,"ancho",3,"click"],["type","submit","mat-raised-button","","color","primary",1,"ancho",3,"disabled"],[2,"text-align","center"],["type","button","mat-raised-button","",1,"ancho",3,"click"],["id","fileInput","hidden","","type","file","accept",".pdf,.jpg,.png",3,"change"],["id","fileInput2","hidden","","type","file","accept",".pdf,.jpg,.png",3,"change"],["id","fileInput3","hidden","","type","file","accept",".pdf,.jpg,.png",3,"change"],["type","button","mat-raised-button","","color","primary","routerLink","/dashboard/clientes",1,"ancho"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Editar Informacion Cliente"),e.qZA()(),e.TgZ(4,"mat-card",1)(5,"form",2),e.NdJ("ngSubmit",function(){return i.EnviarDatos()}),e.TgZ(6,"mat-grid-list",3)(7,"mat-grid-tile",4)(8,"h3"),e._uU(9,"Datos de cliente"),e.qZA()(),e.TgZ(10,"mat-grid-tile",4)(11,"mat-form-field",5)(12,"mat-label"),e._uU(13,"Numero de Cliente"),e.qZA(),e._UZ(14,"input",6),e.qZA()(),e.TgZ(15,"mat-grid-tile",4)(16,"mat-form-field",5)(17,"mat-label"),e._uU(18,"Nombre"),e.qZA(),e._UZ(19,"input",7),e.qZA()(),e.TgZ(20,"mat-grid-tile",4)(21,"mat-form-field",5)(22,"mat-label"),e._uU(23,"Edad"),e.qZA(),e._UZ(24,"input",8),e.qZA()(),e.TgZ(25,"mat-grid-tile",4)(26,"mat-form-field",5)(27,"mat-label"),e._uU(28,"Direcci\xf3n"),e.qZA(),e._UZ(29,"input",9),e.qZA()(),e.TgZ(30,"mat-grid-tile",4)(31,"mat-form-field",5)(32,"mat-label"),e._uU(33,"Colonia"),e.qZA(),e._UZ(34,"input",10),e.qZA()(),e.TgZ(35,"mat-grid-tile",4)(36,"mat-form-field",5)(37,"mat-label"),e._uU(38,"Se\xf1as de domicilio"),e.qZA(),e._UZ(39,"input",11),e.qZA()(),e.TgZ(40,"mat-grid-tile",4)(41,"mat-form-field",5)(42,"mat-label"),e._uU(43,"Ciudad"),e.qZA(),e._UZ(44,"input",12),e.qZA()(),e.TgZ(45,"mat-grid-tile",4)(46,"mat-form-field",5)(47,"mat-label"),e._uU(48,"Telefono Celular"),e.qZA(),e._UZ(49,"input",13),e.qZA()(),e.TgZ(50,"mat-grid-tile",4)(51,"mat-form-field",5)(52,"mat-label"),e._uU(53,"Telefono Fijo"),e.qZA(),e._UZ(54,"input",14),e.qZA()(),e.TgZ(55,"mat-grid-tile",4)(56,"mat-form-field",5)(57,"mat-label"),e._uU(58,"Tel. Adicional"),e.qZA(),e._UZ(59,"input",15),e.qZA()(),e.TgZ(60,"mat-grid-tile",4)(61,"mat-form-field",5)(62,"mat-label"),e._uU(63,"Estado Civil"),e.qZA(),e._UZ(64,"input",16),e.qZA()(),e.TgZ(65,"mat-grid-tile",4)(66,"mat-form-field",5)(67,"mat-label"),e._uU(68,"Tiempo de casado"),e.qZA(),e._UZ(69,"input",17),e.qZA()(),e.TgZ(70,"mat-grid-tile",4)(71,"mat-form-field",5)(72,"mat-label"),e._uU(73,"Personas dependientes"),e.qZA(),e._UZ(74,"input",18),e.qZA()(),e.TgZ(75,"mat-grid-tile",4)(76,"mat-form-field",5)(77,"mat-label"),e._uU(78,"Tipo Viviendo"),e.qZA(),e.TgZ(79,"mat-select",19),e.YNc(80,bi,2,2,"mat-option",20),e.qZA()()(),e.TgZ(81,"mat-grid-tile",4)(82,"mat-form-field",5)(83,"mat-label"),e._uU(84,"Tiempo viviendo en el domicilio"),e.qZA(),e._UZ(85,"input",21),e.qZA()(),e.TgZ(86,"mat-grid-tile",4)(87,"mat-form-field",5)(88,"mat-label"),e._uU(89,"Pago de renta"),e.qZA(),e._UZ(90,"input",22),e.qZA()(),e.TgZ(91,"mat-grid-tile",4)(92,"mat-form-field",5)(93,"mat-label"),e._uU(94,"tipo de negocio"),e.qZA(),e._UZ(95,"input",23),e.qZA()(),e.TgZ(96,"mat-grid-tile",4)(97,"mat-form-field",5)(98,"mat-label"),e._uU(99,"Tiempo del negocio"),e.qZA(),e._UZ(100,"input",24),e.qZA()(),e.TgZ(101,"mat-grid-tile",4)(102,"mat-form-field",5)(103,"mat-label"),e._uU(104,"Numero de identificacion"),e.qZA(),e._UZ(105,"input",25),e.qZA()(),e.TgZ(106,"mat-grid-tile",4)(107,"mat-form-field",5)(108,"mat-label"),e._uU(109,"RFC"),e.qZA(),e._UZ(110,"input",26),e.qZA()(),e.TgZ(111,"mat-grid-tile",4)(112,"mat-form-field",5)(113,"mat-label"),e._uU(114,"Nombre del conyugue"),e.qZA(),e._UZ(115,"input",27),e.qZA()(),e.TgZ(116,"mat-grid-tile",4)(117,"mat-form-field",5)(118,"mat-label"),e._uU(119,"Trabajo del conyugue"),e.qZA(),e._UZ(120,"input",28),e.qZA()(),e.TgZ(121,"mat-grid-tile",4)(122,"mat-form-field",5)(123,"mat-label"),e._uU(124,"Domicilio del conyugue"),e.qZA(),e._UZ(125,"input",29),e.qZA()(),e.TgZ(126,"mat-grid-tile",4)(127,"mat-form-field",5)(128,"mat-label"),e._uU(129,"Antiguedad del conyugue"),e.qZA(),e._UZ(130,"input",30),e.qZA()(),e.TgZ(131,"mat-grid-tile",4)(132,"mat-form-field",5)(133,"mat-label"),e._uU(134,"Ingreso del solicitante"),e.qZA(),e._UZ(135,"input",31),e.qZA()(),e.TgZ(136,"mat-grid-tile",4)(137,"mat-form-field",5)(138,"mat-label"),e._uU(139,"Ingreso del conyugue"),e.qZA(),e._UZ(140,"input",32),e.qZA()(),e.TgZ(141,"mat-grid-tile",4)(142,"mat-form-field",5)(143,"mat-label"),e._uU(144,"Gastos totales"),e.qZA(),e._UZ(145,"input",33),e.qZA()(),e.TgZ(146,"mat-grid-tile",4)(147,"mat-form-field",5)(148,"mat-label"),e._uU(149,"Creditos Actuales"),e.qZA(),e._UZ(150,"input",34),e.qZA()(),e.TgZ(151,"mat-grid-tile",4)(152,"mat-form-field",5)(153,"mat-label"),e._uU(154,"Gestor"),e.qZA(),e.TgZ(155,"mat-select",35),e.YNc(156,Ai,2,2,"mat-option",20),e.qZA()()(),e.TgZ(157,"mat-grid-tile",4)(158,"button",36),e.NdJ("click",function(){return i.openDialog()}),e._uU(159,"Eliminar Cliente"),e.qZA()(),e.TgZ(160,"mat-grid-tile",4)(161,"button",37),e._uU(162,"Modificar"),e.qZA()()()()(),e.TgZ(163,"mat-card",1)(164,"h2",38),e._uU(165,"Subida de imagenes"),e.qZA(),e.TgZ(166,"mat-grid-list",3)(167,"mat-grid-tile",4)(168,"button",39),e.NdJ("click",function(){return i.openInput()}),e._uU(169,"INE Frente"),e.qZA(),e.TgZ(170,"input",40),e.NdJ("change",function(s){return i.onFileSelected(s,"frente")}),e.qZA()(),e.TgZ(171,"mat-grid-tile",4)(172,"button",39),e.NdJ("click",function(){return i.openInput2()}),e._uU(173,"INE Reverso"),e.qZA(),e.TgZ(174,"input",41),e.NdJ("change",function(s){return i.onFileSelected(s,"reverso")}),e.qZA()(),e.TgZ(175,"mat-grid-tile",4)(176,"button",39),e.NdJ("click",function(){return i.openInput3()}),e._uU(177,"Comprobante"),e.qZA(),e.TgZ(178,"input",42),e.NdJ("change",function(s){return i.onFileSelected(s,"comprobante")}),e.qZA()(),e._UZ(179,"br")(180,"br"),e.TgZ(181,"mat-grid-tile",4)(182,"button",43),e._uU(183,"Finalizar"),e.qZA()()()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",i.form),e.xp6(2),e.Q6J("colspan",2)("rowspan",1),e.xp6(3),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("ngForOf",i.viviendas),e.xp6(1),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("ngForOf",i.listaGestores),e.xp6(1),e.Q6J("colspan",1)("rowspan",1),e.xp6(3),e.Q6J("colspan",1)("rowspan",1),e.xp6(1),e.Q6J("disabled",i.form.invalid),e.xp6(6),e.Q6J("colspan",2)("rowspan",1),e.xp6(4),e.Q6J("colspan",2)("rowspan",1),e.xp6(4),e.Q6J("colspan",2)("rowspan",1),e.xp6(6),e.Q6J("colspan",2)("rowspan",1))},dependencies:[q.sg,b.rH,p.KE,p.hX,U.Nt,x.lW,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,A.Ye,I.a8,C.Il,C.DX,F.gD,Q.ey],styles:[".ancho[_ngcontent-%COMP%]{width:85%}"]}),o})();function Si(o,a){if(1&o&&(e.TgZ(0,"mat-option",45),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.viewValue," ")}}function yi(o,a){if(1&o&&(e.TgZ(0,"mat-option",45),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.usuario),e.xp6(1),e.hij(" ",t.nombre," ")}}var z=new Date,wi=z.getDate(),Ni=z.getMonth()+1,Ji=z.getFullYear(),Pi=(z.getHours(),z.getMinutes(),z.getSeconds(),`${wi}-${Ni}-${Ji}`);let ki=(()=>{class o{constructor(t,i,n,s,l,m,u,d){this.fb=t,this.gestorService=i,this.sharedService=n,this.route=s,this.clienteService=l,this.interesService=m,this.solicitudService=u,this.router=d,this.viviendas=[{value:"Propia",viewValue:"Propia"},{value:"Rentada",viewValue:"Rentada"},{value:"Familiar",viewValue:"Familiar"}],this.fecha_Solicitud=Pi,this.lista=[],this.listaGestores=[],this.lista2=[],this.clienteEspecifico=[],this.lista3=[],this.listaDeInteres=[],this.form=this.fb.group({numeroCliente:["",r.kI.required],fecha:[this.fecha_Solicitud,r.kI.required],montoSolicitado:["",r.kI.required],totalPagar:["",r.kI.required],pagoDiario:["",r.kI.required],plazo:["",r.kI.required],nombreSolicitante:["",r.kI.required],edad:["",r.kI.required],direccion:["",r.kI.required],colonia:["",r.kI.required],senasDomicilio:["",r.kI.required],ciudad:["",r.kI.required],celular:["",r.kI.required],telefonoFijo:["",r.kI.required],telefonoAdicional:["",r.kI.required],estadoCivil:["",r.kI.required],tiempoCasados:["",r.kI.required],dependientes:["",r.kI.required],tipoVivienda:["",r.kI.required],tiempoVivienda:["",r.kI.required],pagoRenta:["",r.kI.required],tipoNegocio:["",r.kI.required],tiempoNegocio:["",r.kI.required],numeroINE:["",r.kI.required],RFC:["",r.kI.required],conyugue:["",r.kI.required],trabajoConyugue:["",r.kI.required],domicilioConyugue:["",r.kI.required],antiguedadConyugue:["",r.kI.required],ingresoSolicitante:["",r.kI.required],ingresosConyugue:["",r.kI.required],gastos:["",r.kI.required],creditosActuales:["",r.kI.required],motivos:["",r.kI.required],gestor:["",r.kI.required]})}ngOnInit(){this.obtenerGestores(),this.mongoIdCliente=this.route.snapshot.paramMap.get("id"),console.log(this.mongoIdCliente),this.obtenerCliente(),this.obtenerListaDeInteres()}obtenerGestores(){this.gestorService.getGestorFinanciera(this.sharedService.getFinanciera()).subscribe(t=>{console.log(t),this.lista=t,this.listaGestores=this.lista.gestores,console.log(this.listaGestores)})}obtenerCliente(){this.clienteService.getClienteEspecifico(this.mongoIdCliente).subscribe(t=>{console.log(t),this.lista2=t,this.clienteEspecifico=this.lista2.cliente,console.log(this.clienteEspecifico),this.llenarFormulario()})}llenarFormulario(){console.log(this.clienteEspecifico.nombre),this.form.patchValue({numeroCliente:this.clienteEspecifico.numeroCliente,nombreSolicitante:this.clienteEspecifico.nombre,edad:this.clienteEspecifico.edad,direccion:this.clienteEspecifico.direccion,colonia:this.clienteEspecifico.colonia,senasDomicilio:this.clienteEspecifico.senasDomicilio,ciudad:this.clienteEspecifico.ciudad,celular:this.clienteEspecifico.celular,telefonoFijo:this.clienteEspecifico.telefonoFijo,telefonoAdicional:this.clienteEspecifico.telefonoAdicional,estadoCivil:this.clienteEspecifico.estadoCivil,tiempoCasados:this.clienteEspecifico.tiempoCasados,dependientes:this.clienteEspecifico.dependientes,tipoVivienda:this.clienteEspecifico.tipoVivienda,tiempoVivienda:this.clienteEspecifico.tiempoViviendo,pagoRenta:this.clienteEspecifico.pagoRenta,tipoNegocio:this.clienteEspecifico.tipoNegocio,tiempoNegocio:this.clienteEspecifico.tiempoNegocio,numeroINE:this.clienteEspecifico.numeroIdentificacion,RFC:this.clienteEspecifico.RFC,conyugue:this.clienteEspecifico.nombreConyugue,trabajoConyugue:this.clienteEspecifico.trabajoConyugue,domicilioConyugue:this.clienteEspecifico.domicilioConyugue,antiguedadConyugue:this.clienteEspecifico.antiguedadConyugue,ingresoSolicitante:this.clienteEspecifico.ingresoSolicitante,ingresosConyugue:this.clienteEspecifico.ingresoConyugue,gastos:this.clienteEspecifico.gastosTotales,creditosActuales:this.clienteEspecifico.numeroPrestamos,gestor:this.clienteEspecifico.gestorAsignado})}obtenerListaDeInteres(){console.log("Hola"),this.interesService.getinteresFinanciera(this.sharedService.getFinanciera()).subscribe(t=>{this.lista3=t,this.listaDeInteres=this.lista3.intereces,console.log(this.listaDeInteres)},t=>{console.error("Error al obtener la lista de precios:",t)})}calcularMontos(){let t=this.form.value.plazo,i=this.form.value.montoSolicitado,n=0,s=0,l=0,m=0;this.listaDeInteres.forEach(u=>{i>u.limiteInferior&&i<=u.limiteSuperior&&(n=u.porcentaje,s=Math.round(i*n/100),l=i+s,this.form.get("totalPagar")?.setValue(l),m=Math.round((i+s)/t),this.form.get("pagoDiario")?.setValue(m))})}generarSolicitud(){const t={fechaSolicitud:this.form.value.fecha,montoSolicitado:this.form.value.montoSolicitado,montoAutorizado:0,totalPagar:this.form.value.totalPagar,pagoDiario:this.form.value.pagoDiario,plazo:this.form.value.plazo,numeroCliente:this.form.value.numeroCliente,nombre:this.eliminarAcentos2(this.form.value.nombreSolicitante),edad:this.form.value.edad,direccion:this.form.value.direccion,colonia:this.form.value.colonia,senasDomicilio:this.form.value.senasDomicilio,entrecalles:"Generico",ciudad:this.form.value.ciudad,celular:this.form.value.celular,telefonoFijo:this.form.value.telefonoFijo,telefonoAdicional:this.form.value.telefonoAdicional,estadoCivil:this.form.value.estadoCivil,tiempoCasados:this.form.value.tiempoCasados,dependientes:this.form.value.dependientes,tipoVivienda:this.form.value.tipoVivienda,tiempoViviendo:this.form.value.tiempoVivienda,pagoRenta:this.form.value.pagoRenta,tipoNegocio:this.form.value.tipoNegocio,tiempoNegocio:this.form.value.tiempoNegocio,numeroIdentificacion:this.form.value.numeroINE,RFC:this.form.value.RFC,nombreConyugue:this.form.value.conyugue,trabajoConyugue:this.form.value.trabajoConyugue,domicilioConyugue:this.form.value.domicilioConyugue,antiguedadConyugue:this.form.value.antiguedadConyugue,ingresoSolicitante:this.form.value.ingresoSolicitante,ingresoConyugue:this.form.value.ingresosConyugue,gastosTotales:this.form.value.gastos,gestorAsignado:this.form.value.gestor,infoCredito:this.form.value.motivos,estatus:"Pendiente",tipo:"Renovacion",sucursal:this.sharedService.getFinanciera()};console.log(t),this.solicitudService.guardarSolicitud(t).subscribe(i=>{i&&(console.log("Registro de solicitud exitoso"),console.log(i),alert("Registro exitoso"),this.router.navigate(["dashboard/clientes"]))},i=>{console.log(i)})}eliminarAcentos2(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(N),e.Y36(T),e.Y36(b.gz),e.Y36(M),e.Y36(ee),e.Y36(Y),e.Y36(b.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-nueva-renovacion"]],decls:199,vars:84,consts:[[1,"container"],[2,"margin-top","10px"],[3,"formGroup","ngSubmit"],["cols","2","rowHeight","70px"],[3,"colspan","rowspan"],[1,"ancho"],["matInput","","autocomplete","off","formControlName","numeroCliente","readonly",""],["matInput","","autocomplete","off","formControlName","fecha"],["matInput","","type","number","autocomplete","off","formControlName","montoSolicitado"],["matInput","","type","number","autocomplete","off","formControlName","plazo"],["type","button","mat-button","","color","primary",3,"click"],["matInput","","type","number","autocomplete","off","formControlName","totalPagar"],["matInput","","type","number","autocomplete","off","formControlName","pagoDiario"],["matInput","","autocomplete","off","formControlName","nombreSolicitante"],["type","number","matInput","","autocomplete","off","formControlName","edad"],["matInput","","autocomplete","off","formControlName","direccion"],["matInput","","autocomplete","off","formControlName","colonia"],["matInput","","autocomplete","off","formControlName","senasDomicilio"],["matInput","","autocomplete","off","formControlName","ciudad"],["type","number","matInput","","autocomplete","off","formControlName","celular"],["type","number","matInput","","autocomplete","off","formControlName","telefonoFijo"],["type","number","matInput","","autocomplete","off","formControlName","telefonoAdicional"],["matInput","","autocomplete","off","formControlName","estadoCivil"],["matInput","","autocomplete","off","formControlName","tiempoCasados"],["matInput","","autocomplete","off","formControlName","dependientes"],["formControlName","tipoVivienda"],[3,"value",4,"ngFor","ngForOf"],["matInput","","autocomplete","off","formControlName","tiempoVivienda"],["type","number","matInput","","autocomplete","off","formControlName","pagoRenta"],["matInput","","autocomplete","off","formControlName","tipoNegocio"],["matInput","","autocomplete","off","formControlName","tiempoNegocio"],["matInput","","autocomplete","off","formControlName","numeroINE"],["matInput","","autocomplete","off","formControlName","RFC"],["matInput","","autocomplete","off","formControlName","conyugue"],["matInput","","autocomplete","off","formControlName","trabajoConyugue"],["matInput","","autocomplete","off","formControlName","domicilioConyugue"],["matInput","","autocomplete","off","formControlName","antiguedadConyugue"],["type","number","matInput","","autocomplete","off","formControlName","ingresoSolicitante"],["type","number","matInput","","autocomplete","off","formControlName","ingresosConyugue"],["type","number","matInput","","autocomplete","off","formControlName","gastos"],["type","number","matInput","","autocomplete","off","formControlName","creditosActuales","readonly",""],["matInput","","autocomplete","off","formControlName","motivos"],["formControlName","gestor"],["type","button","mat-raised-button","","color","primary","routerLink","/dashboard/clientes",1,"ancho"],["type","submit","mat-raised-button","","color","primary",1,"ancho",3,"disabled"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Generar una renovacion para Prestamo"),e.qZA()(),e.TgZ(4,"mat-card",1)(5,"form",2),e.NdJ("ngSubmit",function(){return i.generarSolicitud()}),e.TgZ(6,"mat-grid-list",3)(7,"mat-grid-tile",4)(8,"mat-form-field",5)(9,"mat-label"),e._uU(10,"Numero de Cliente"),e.qZA(),e._UZ(11,"input",6),e.qZA()(),e.TgZ(12,"mat-grid-tile",4)(13,"h3"),e._uU(14,"Datos de prestamo"),e.qZA()(),e.TgZ(15,"mat-grid-tile",4)(16,"mat-form-field",5)(17,"mat-label"),e._uU(18,"Fecha"),e.qZA(),e._UZ(19,"input",7),e.qZA()(),e.TgZ(20,"mat-grid-tile",4)(21,"mat-form-field",5)(22,"mat-label"),e._uU(23,"Monto Solicitado"),e.qZA(),e._UZ(24,"input",8),e.qZA()(),e.TgZ(25,"mat-grid-tile",4)(26,"mat-form-field",5)(27,"mat-label"),e._uU(28,"Plazo"),e.qZA(),e._UZ(29,"input",9),e.qZA()(),e.TgZ(30,"mat-grid-tile",4)(31,"button",10),e.NdJ("click",function(){return i.calcularMontos()}),e._uU(32,"Calcular"),e.qZA()(),e.TgZ(33,"mat-grid-tile",4)(34,"mat-form-field",5)(35,"mat-label"),e._uU(36,"Total a pagar"),e.qZA(),e._UZ(37,"input",11),e.qZA()(),e.TgZ(38,"mat-grid-tile",4)(39,"mat-form-field",5)(40,"mat-label"),e._uU(41,"Pago diario"),e.qZA(),e._UZ(42,"input",12),e.qZA()(),e.TgZ(43,"mat-grid-tile",4)(44,"h3"),e._uU(45,"Datos de cliente"),e.qZA()(),e.TgZ(46,"mat-grid-tile",4)(47,"mat-form-field",5)(48,"mat-label"),e._uU(49,"Nombre"),e.qZA(),e._UZ(50,"input",13),e.qZA()(),e.TgZ(51,"mat-grid-tile",4)(52,"mat-form-field",5)(53,"mat-label"),e._uU(54,"Edad"),e.qZA(),e._UZ(55,"input",14),e.qZA()(),e.TgZ(56,"mat-grid-tile",4)(57,"mat-form-field",5)(58,"mat-label"),e._uU(59,"Direcci\xf3n"),e.qZA(),e._UZ(60,"input",15),e.qZA()(),e.TgZ(61,"mat-grid-tile",4)(62,"mat-form-field",5)(63,"mat-label"),e._uU(64,"Colonia"),e.qZA(),e._UZ(65,"input",16),e.qZA()(),e.TgZ(66,"mat-grid-tile",4)(67,"mat-form-field",5)(68,"mat-label"),e._uU(69,"Se\xf1as de domicilio"),e.qZA(),e._UZ(70,"input",17),e.qZA()(),e.TgZ(71,"mat-grid-tile",4)(72,"mat-form-field",5)(73,"mat-label"),e._uU(74,"Ciudad"),e.qZA(),e._UZ(75,"input",18),e.qZA()(),e.TgZ(76,"mat-grid-tile",4)(77,"mat-form-field",5)(78,"mat-label"),e._uU(79,"Telefono Celular"),e.qZA(),e._UZ(80,"input",19),e.qZA()(),e.TgZ(81,"mat-grid-tile",4)(82,"mat-form-field",5)(83,"mat-label"),e._uU(84,"Telefono Fijo"),e.qZA(),e._UZ(85,"input",20),e.qZA()(),e.TgZ(86,"mat-grid-tile",4)(87,"mat-form-field",5)(88,"mat-label"),e._uU(89,"Tel. Adicional"),e.qZA(),e._UZ(90,"input",21),e.qZA()(),e.TgZ(91,"mat-grid-tile",4)(92,"mat-form-field",5)(93,"mat-label"),e._uU(94,"Estado Civil"),e.qZA(),e._UZ(95,"input",22),e.qZA()(),e.TgZ(96,"mat-grid-tile",4)(97,"mat-form-field",5)(98,"mat-label"),e._uU(99,"Tiempo de casado"),e.qZA(),e._UZ(100,"input",23),e.qZA()(),e.TgZ(101,"mat-grid-tile",4)(102,"mat-form-field",5)(103,"mat-label"),e._uU(104,"Personas dependientes"),e.qZA(),e._UZ(105,"input",24),e.qZA()(),e.TgZ(106,"mat-grid-tile",4)(107,"mat-form-field",5)(108,"mat-label"),e._uU(109,"Tipo Viviendo"),e.qZA(),e.TgZ(110,"mat-select",25),e.YNc(111,Si,2,2,"mat-option",26),e.qZA()()(),e.TgZ(112,"mat-grid-tile",4)(113,"mat-form-field",5)(114,"mat-label"),e._uU(115,"Tiempo viviendo en el domicilio"),e.qZA(),e._UZ(116,"input",27),e.qZA()(),e.TgZ(117,"mat-grid-tile",4)(118,"mat-form-field",5)(119,"mat-label"),e._uU(120,"Pago de renta"),e.qZA(),e._UZ(121,"input",28),e.qZA()(),e.TgZ(122,"mat-grid-tile",4)(123,"mat-form-field",5)(124,"mat-label"),e._uU(125,"tipo de negocio"),e.qZA(),e._UZ(126,"input",29),e.qZA()(),e.TgZ(127,"mat-grid-tile",4)(128,"mat-form-field",5)(129,"mat-label"),e._uU(130,"Tiempo del negocio"),e.qZA(),e._UZ(131,"input",30),e.qZA()(),e.TgZ(132,"mat-grid-tile",4)(133,"mat-form-field",5)(134,"mat-label"),e._uU(135,"Numero de identificacion"),e.qZA(),e._UZ(136,"input",31),e.qZA()(),e.TgZ(137,"mat-grid-tile",4)(138,"mat-form-field",5)(139,"mat-label"),e._uU(140,"RFC"),e.qZA(),e._UZ(141,"input",32),e.qZA()(),e.TgZ(142,"mat-grid-tile",4)(143,"mat-form-field",5)(144,"mat-label"),e._uU(145,"Nombre del conyugue"),e.qZA(),e._UZ(146,"input",33),e.qZA()(),e.TgZ(147,"mat-grid-tile",4)(148,"mat-form-field",5)(149,"mat-label"),e._uU(150,"Trabajo del conyugue"),e.qZA(),e._UZ(151,"input",34),e.qZA()(),e.TgZ(152,"mat-grid-tile",4)(153,"mat-form-field",5)(154,"mat-label"),e._uU(155,"Domicilio del conyugue"),e.qZA(),e._UZ(156,"input",35),e.qZA()(),e.TgZ(157,"mat-grid-tile",4)(158,"mat-form-field",5)(159,"mat-label"),e._uU(160,"Antiguedad del conyugue"),e.qZA(),e._UZ(161,"input",36),e.qZA()(),e.TgZ(162,"mat-grid-tile",4)(163,"mat-form-field",5)(164,"mat-label"),e._uU(165,"Ingreso del solicitante"),e.qZA(),e._UZ(166,"input",37),e.qZA()(),e.TgZ(167,"mat-grid-tile",4)(168,"mat-form-field",5)(169,"mat-label"),e._uU(170,"Ingreso del conyugue"),e.qZA(),e._UZ(171,"input",38),e.qZA()(),e.TgZ(172,"mat-grid-tile",4)(173,"mat-form-field",5)(174,"mat-label"),e._uU(175,"Gastos totales"),e.qZA(),e._UZ(176,"input",39),e.qZA()(),e.TgZ(177,"mat-grid-tile",4)(178,"mat-form-field",5)(179,"mat-label"),e._uU(180,"Creditos Actuales"),e.qZA(),e._UZ(181,"input",40),e.qZA()(),e.TgZ(182,"mat-grid-tile",4)(183,"mat-form-field",5)(184,"mat-label"),e._uU(185,"Motivos"),e.qZA(),e._UZ(186,"input",41),e.qZA()(),e.TgZ(187,"mat-grid-tile",4)(188,"mat-form-field",5)(189,"mat-label"),e._uU(190,"Gestor"),e.qZA(),e.TgZ(191,"mat-select",42),e.YNc(192,yi,2,2,"mat-option",26),e.qZA()()(),e.TgZ(193,"mat-grid-tile",4)(194,"button",43),e._uU(195,"Cancelar"),e.qZA()(),e.TgZ(196,"mat-grid-tile",4)(197,"button",44),e._uU(198,"Generar"),e.qZA()()()()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",i.form),e.xp6(2),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(3),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(3),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(3),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("ngForOf",i.viviendas),e.xp6(1),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("ngForOf",i.listaGestores),e.xp6(1),e.Q6J("colspan",1)("rowspan",1),e.xp6(3),e.Q6J("colspan",1)("rowspan",1),e.xp6(1),e.Q6J("disabled",i.form.invalid))},dependencies:[q.sg,b.rH,p.KE,p.hX,U.Nt,x.lW,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,A.Ye,I.a8,C.Il,C.DX,F.gD,Q.ey],styles:[".ancho[_ngcontent-%COMP%]{width:85%}"]}),o})();function Fi(o,a){if(1&o&&(e.TgZ(0,"mat-option",45),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.viewValue," ")}}function Qi(o,a){if(1&o&&(e.TgZ(0,"mat-option",45),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.usuario),e.xp6(1),e.hij(" ",t.nombre," ")}}var L=new Date,Ue=L.getDate(),Ie=L.getMonth()+1,Se=L.getFullYear(),Di=L.getHours(),Ei=L.getMinutes(),Ri=L.getSeconds(),Mi=`${Ue}-${Ie}-${Se}`;let Yi=(()=>{class o{constructor(t,i,n,s,l,m,u,d,f){this.fb=t,this.route=i,this.gestorService=n,this.solicitudService=s,this.sharedService=l,this.interesService=m,this.router=u,this.prestamoService=d,this.clienteService=f,this.fecha_Solicitud=Mi,this.lista=[],this.listaGestores=[],this.activo=!1,this.lista2=[],this.SolicitudEspecifica=[],this.lista3=[],this.listaDeInteres=[],this.lista4=[],this.listaClientes=[],this.viviendas=[{value:"Propia",viewValue:"Propia"},{value:"Rentada",viewValue:"Rentada"},{value:"Familiar",viewValue:"Familiar"}],this.form=this.fb.group({numeroCliente:["",r.kI.required],fecha:["",r.kI.required],montoSolicitado:["",r.kI.required],montoAutorizado:["",r.kI.required],totalPagar:["",r.kI.required],pagoDiario:["",r.kI.required],plazo:["",r.kI.required],nombreSolicitante:["",r.kI.required],edad:["",r.kI.required],direccion:["",r.kI.required],colonia:["",r.kI.required],senasDomicilio:["",r.kI.required],ciudad:["",r.kI.required],celular:["",r.kI.required],telefonoFijo:["",r.kI.required],telefonoAdicional:["",r.kI.required],estadoCivil:["",r.kI.required],tiempoCasados:["",r.kI.required],dependientes:["",r.kI.required],tipoVivienda:["",r.kI.required],tiempoVivienda:["",r.kI.required],pagoRenta:["",r.kI.required],tipoNegocio:["",r.kI.required],tiempoNegocio:["",r.kI.required],numeroINE:["",r.kI.required],RFC:["",r.kI.required],conyugue:["",r.kI.required],trabajoConyugue:["",r.kI.required],domicilioConyugue:["",r.kI.required],antiguedadConyugue:["",r.kI.required],ingresoSolicitante:["",r.kI.required],ingresosConyugue:["",r.kI.required],gastos:["",r.kI.required],motivos:["",r.kI.required],gestor:["",r.kI.required]})}ngOnInit(){this.mongoIdSolicitud=this.route.snapshot.paramMap.get("id"),console.log(this.mongoIdSolicitud),this.obtenerGestores(),this.obtenerSolicitud(),this.obtenerListaDeInteres()}obtenerGestores(){this.gestorService.getGestorFinanciera(this.sharedService.getFinanciera()).subscribe(t=>{console.log(t),this.lista=t,this.listaGestores=this.lista.gestores,console.log(this.listaGestores)})}obtenerSolicitud(){this.solicitudService.getSolicitudEspecifico(this.mongoIdSolicitud).subscribe(t=>{console.log(t),this.lista2=t,this.SolicitudEspecifica=this.lista2.solicitud,console.log(this.SolicitudEspecifica),this.llenarFormulario(),this.obtenerClientes()})}obtenerClientes(){this.clienteService.getClientesPorNumeroFinanciera(this.sharedService.getFinanciera(),this.SolicitudEspecifica.numeroCliente).subscribe(t=>{console.log(t),this.lista4=t,this.listaClientes=this.lista4.clientes,console.log(this.listaClientes[0])})}llenarFormulario(){console.log(this.SolicitudEspecifica.nombre),this.form.patchValue({plazo:this.SolicitudEspecifica.plazo,fecha:this.SolicitudEspecifica.fechaSolicitud,montoSolicitado:this.SolicitudEspecifica.montoSolicitado,totalPagar:this.SolicitudEspecifica.totalPagar,pagoDiario:this.SolicitudEspecifica.pagoDiario,numeroCliente:this.SolicitudEspecifica.numeroCliente,nombreSolicitante:this.SolicitudEspecifica.nombre,edad:this.SolicitudEspecifica.edad,direccion:this.SolicitudEspecifica.direccion,colonia:this.SolicitudEspecifica.colonia,senasDomicilio:this.SolicitudEspecifica.senasDomicilio,ciudad:this.SolicitudEspecifica.ciudad,celular:this.SolicitudEspecifica.celular,telefonoFijo:this.SolicitudEspecifica.telefonoFijo,telefonoAdicional:this.SolicitudEspecifica.telefonoAdicional,estadoCivil:this.SolicitudEspecifica.estadoCivil,tiempoCasados:this.SolicitudEspecifica.tiempoCasados,dependientes:this.SolicitudEspecifica.dependientes,tipoVivienda:this.SolicitudEspecifica.tipoVivienda,tiempoVivienda:this.SolicitudEspecifica.tiempoViviendo,pagoRenta:this.SolicitudEspecifica.pagoRenta,tipoNegocio:this.SolicitudEspecifica.tipoNegocio,tiempoNegocio:this.SolicitudEspecifica.tiempoNegocio,numeroINE:this.SolicitudEspecifica.numeroIdentificacion,RFC:this.SolicitudEspecifica.RFC,conyugue:this.SolicitudEspecifica.nombreConyugue,trabajoConyugue:this.SolicitudEspecifica.trabajoConyugue,domicilioConyugue:this.SolicitudEspecifica.domicilioConyugue,antiguedadConyugue:this.SolicitudEspecifica.antiguedadConyugue,ingresoSolicitante:this.SolicitudEspecifica.ingresoSolicitante,ingresosConyugue:this.SolicitudEspecifica.ingresoConyugue,gastos:this.SolicitudEspecifica.gastosTotales,motivos:this.SolicitudEspecifica.infoCredito,creditosActuales:this.SolicitudEspecifica.numeroPrestamos,gestor:this.SolicitudEspecifica.gestorAsignado})}obtenerListaDeInteres(){console.log("Hola"),this.interesService.getinteresFinanciera(this.sharedService.getFinanciera()).subscribe(t=>{this.lista3=t,this.listaDeInteres=this.lista3.intereces,console.log(this.listaDeInteres)},t=>{console.error("Error al obtener la lista de precios:",t)})}calcularMontos(){let t=this.form.value.plazo,i=this.form.value.montoAutorizado,n=0,s=0,l=0,m=0;this.listaDeInteres.forEach(u=>{i>u.limiteInferior&&i<=u.limiteSuperior&&(n=u.porcentaje,s=Math.round(i*n/100),l=i+s,this.form.get("totalPagar")?.setValue(l),m=Math.round((i+s)/t),this.form.get("pagoDiario")?.setValue(m))})}EnviarDatos(){this.GenerarPrestamo(),this.EditarSolicitud(),this.actualizarDatosCliente()}actualizarDatosCliente(){this.clienteService.PutClienteFinanciera(this.listaClientes[0]._id,{prestamosActivos:!0,numeroPrestamos:this.listaClientes[0].numeroPrestamos+1}).subscribe(i=>{i&&console.log(i)},i=>{console.log(i),alert("Problemas al actualizar, intente mas tarde")})}GenerarPrestamo(){let t="PR"+this.eliminarAcentos2(this.form.value.nombreSolicitante).substring(0,2)+Se+Ie+Ue+Di+Ei+Ri;const i={fecha:this.fecha_Solicitud,folio:t,nombre:this.eliminarAcentos2(this.form.value.nombreSolicitante),direccion:this.form.value.direccion,colonia:this.form.value.colonia,telefono:this.form.value.celular,cobranza:0,cantidadPrestamo:this.form.value.montoAutorizado,cantidadPagar:this.form.value.totalPagar,plazoPrestamo:this.form.value.plazo,totalRestante:this.form.value.totalPagar,pagoDiario:this.form.value.pagoDiario,fechaPago:"xxxx",gestor:this.form.value.gestor,estatus:"Pendiente",nota:"Aprobado",numeroCliente:this.form.value.numeroCliente,urlDinero:"URL",urlPagare:"URL",urlFachada:"URL",sucursal:this.sharedService.getFinanciera()};console.log(i),this.prestamoService.guardarPrestamo(i).subscribe(n=>{n&&(console.log("Registro de prestamo exitoso"),console.log(n),alert("Prestamo Generado"))},n=>{console.log(n)})}EditarSolicitud(){const t={montoSolicitado:this.form.value.montoSolicitado,montoAutorizado:this.form.value.montoAutorizado,totalPagar:this.form.value.totalPagar,pagoDiario:this.form.value.pagoDiario,plazo:this.form.value.plazo,nombre:this.eliminarAcentos2(this.form.value.nombreSolicitante),edad:this.form.value.edad,direccion:this.form.value.direccion,colonia:this.form.value.colonia,senasDomicilio:this.form.value.senasDomicilio,ciudad:this.form.value.ciudad,celular:this.form.value.celular,telefonoFijo:this.form.value.telefonoFijo,telefonoAdicional:this.form.value.telefonoAdicional,estadoCivil:this.form.value.estadoCivil,tiempoCasados:this.form.value.tiempoCasados,dependientes:this.form.value.dependientes,tipoVivienda:this.form.value.tipoVivienda,tiempoViviendo:this.form.value.tiempoVivienda,pagoRenta:this.form.value.pagoRenta,tipoNegocio:this.form.value.tipoNegocio,tiempoNegocio:this.form.value.tiempoNegocio,numeroIdentificacion:this.form.value.numeroINE,RFC:this.form.value.RFC,nombreConyugue:this.form.value.conyugue,trabajoConyugue:this.form.value.trabajoConyugue,domicilioConyugue:this.form.value.domicilioConyugue,antiguedadConyugue:this.form.value.antiguedadConyugue,ingresoSolicitante:this.form.value.ingresoSolicitante,ingresoConyugue:this.form.value.ingresosConyugue,gastosTotales:this.form.value.gastos,gestorAsignado:this.form.value.gestor,infoCredito:this.form.value.motivos,estatus:"Finalizada"};console.log(t),this.solicitudService.PutSolicitudFinanciera(this.mongoIdSolicitud,t).subscribe(i=>{i&&(console.log(i),this.router.navigate(["dashboard/prestamos"]))},i=>{console.log(i),alert("Problemas al actualizar, intente mas tarde")})}generarPrestamo(){}openInput(){document.getElementById("fileInput").click()}eliminarAcentos2(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(b.gz),e.Y36(N),e.Y36(Y),e.Y36(T),e.Y36(ee),e.Y36(b.F0),e.Y36(j),e.Y36(M))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-revisa-renovacion"]],decls:200,vars:84,consts:[[1,"container"],[2,"margin-top","10px"],[3,"formGroup","ngSubmit"],["cols","2","rowHeight","70px"],[3,"colspan","rowspan"],[1,"ancho"],["matInput","","autocomplete","off","formControlName","numeroCliente","readonly",""],["matInput","","autocomplete","off","formControlName","fecha"],["matInput","","type","number","autocomplete","off","formControlName","montoAutorizado"],["matInput","","type","number","autocomplete","off","formControlName","montoSolicitado"],["matInput","","type","number","autocomplete","off","formControlName","plazo"],["type","button","mat-button","","color","primary",3,"click"],["matInput","","type","number","autocomplete","off","formControlName","totalPagar"],["matInput","","type","number","autocomplete","off","formControlName","pagoDiario"],["matInput","","autocomplete","off","formControlName","nombreSolicitante"],["type","number","matInput","","autocomplete","off","formControlName","edad"],["matInput","","autocomplete","off","formControlName","direccion"],["matInput","","autocomplete","off","formControlName","colonia"],["matInput","","autocomplete","off","formControlName","senasDomicilio"],["matInput","","autocomplete","off","formControlName","ciudad"],["type","number","matInput","","autocomplete","off","formControlName","celular"],["type","number","matInput","","autocomplete","off","formControlName","telefonoFijo"],["type","number","matInput","","autocomplete","off","formControlName","telefonoAdicional"],["matInput","","autocomplete","off","formControlName","estadoCivil"],["matInput","","autocomplete","off","formControlName","tiempoCasados"],["matInput","","autocomplete","off","formControlName","dependientes"],["formControlName","tipoVivienda"],[3,"value",4,"ngFor","ngForOf"],["matInput","","autocomplete","off","formControlName","tiempoVivienda"],["type","number","matInput","","autocomplete","off","formControlName","pagoRenta"],["matInput","","autocomplete","off","formControlName","tipoNegocio"],["matInput","","autocomplete","off","formControlName","tiempoNegocio"],["matInput","","autocomplete","off","formControlName","numeroINE"],["matInput","","autocomplete","off","formControlName","RFC"],["matInput","","autocomplete","off","formControlName","conyugue"],["matInput","","autocomplete","off","formControlName","trabajoConyugue"],["matInput","","autocomplete","off","formControlName","domicilioConyugue"],["matInput","","autocomplete","off","formControlName","antiguedadConyugue"],["type","number","matInput","","autocomplete","off","formControlName","ingresoSolicitante"],["type","number","matInput","","autocomplete","off","formControlName","ingresosConyugue"],["type","number","matInput","","autocomplete","off","formControlName","gastos"],["matInput","","autocomplete","off","formControlName","motivos"],["formControlName","gestor"],["type","button","mat-raised-button","","color","warn",1,"ancho",3,"click"],["type","submit","mat-raised-button","",1,"my-custom-button",3,"disabled"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Revision de solicitud"),e.qZA()(),e.TgZ(4,"mat-card",1)(5,"form",2),e.NdJ("ngSubmit",function(){return i.EnviarDatos()}),e.TgZ(6,"mat-grid-list",3)(7,"mat-grid-tile",4)(8,"mat-form-field",5)(9,"mat-label"),e._uU(10,"Numero de Cliente"),e.qZA(),e._UZ(11,"input",6),e.qZA()(),e.TgZ(12,"mat-grid-tile",4)(13,"h3"),e._uU(14,"Datos de prestamo"),e.qZA()(),e.TgZ(15,"mat-grid-tile",4)(16,"mat-form-field",5)(17,"mat-label"),e._uU(18,"Fecha"),e.qZA(),e._UZ(19,"input",7),e.qZA()(),e.TgZ(20,"mat-grid-tile",4)(21,"mat-form-field",5)(22,"mat-label"),e._uU(23,"Monto Autorizado"),e.qZA(),e._UZ(24,"input",8),e.qZA()(),e.TgZ(25,"mat-grid-tile",4)(26,"mat-form-field",5)(27,"mat-label"),e._uU(28,"Monto Solicitado"),e.qZA(),e._UZ(29,"input",9),e.qZA()(),e.TgZ(30,"mat-grid-tile",4)(31,"mat-form-field",5)(32,"mat-label"),e._uU(33,"Plazo"),e.qZA(),e._UZ(34,"input",10),e.qZA()(),e.TgZ(35,"mat-grid-tile",4)(36,"button",11),e.NdJ("click",function(){return i.calcularMontos()}),e._uU(37,"Calcular"),e.qZA()(),e.TgZ(38,"mat-grid-tile",4)(39,"mat-form-field",5)(40,"mat-label"),e._uU(41,"Total a pagar"),e.qZA(),e._UZ(42,"input",12),e.qZA()(),e.TgZ(43,"mat-grid-tile",4)(44,"mat-form-field",5)(45,"mat-label"),e._uU(46,"Pago diario"),e.qZA(),e._UZ(47,"input",13),e.qZA()(),e.TgZ(48,"mat-grid-tile",4)(49,"h3"),e._uU(50,"Datos de cliente"),e.qZA()(),e.TgZ(51,"mat-grid-tile",4)(52,"mat-form-field",5)(53,"mat-label"),e._uU(54,"Nombre"),e.qZA(),e._UZ(55,"input",14),e.qZA()(),e.TgZ(56,"mat-grid-tile",4)(57,"mat-form-field",5)(58,"mat-label"),e._uU(59,"Edad"),e.qZA(),e._UZ(60,"input",15),e.qZA()(),e.TgZ(61,"mat-grid-tile",4)(62,"mat-form-field",5)(63,"mat-label"),e._uU(64,"Direcci\xf3n"),e.qZA(),e._UZ(65,"input",16),e.qZA()(),e.TgZ(66,"mat-grid-tile",4)(67,"mat-form-field",5)(68,"mat-label"),e._uU(69,"Colonia"),e.qZA(),e._UZ(70,"input",17),e.qZA()(),e.TgZ(71,"mat-grid-tile",4)(72,"mat-form-field",5)(73,"mat-label"),e._uU(74,"Se\xf1as de domicilio"),e.qZA(),e._UZ(75,"input",18),e.qZA()(),e.TgZ(76,"mat-grid-tile",4)(77,"mat-form-field",5)(78,"mat-label"),e._uU(79,"Ciudad"),e.qZA(),e._UZ(80,"input",19),e.qZA()(),e.TgZ(81,"mat-grid-tile",4)(82,"mat-form-field",5)(83,"mat-label"),e._uU(84,"Telefono Celular"),e.qZA(),e._UZ(85,"input",20),e.qZA()(),e.TgZ(86,"mat-grid-tile",4)(87,"mat-form-field",5)(88,"mat-label"),e._uU(89,"Telefono Fijo"),e.qZA(),e._UZ(90,"input",21),e.qZA()(),e.TgZ(91,"mat-grid-tile",4)(92,"mat-form-field",5)(93,"mat-label"),e._uU(94,"Tel. Adicional"),e.qZA(),e._UZ(95,"input",22),e.qZA()(),e.TgZ(96,"mat-grid-tile",4)(97,"mat-form-field",5)(98,"mat-label"),e._uU(99,"Estado Civil"),e.qZA(),e._UZ(100,"input",23),e.qZA()(),e.TgZ(101,"mat-grid-tile",4)(102,"mat-form-field",5)(103,"mat-label"),e._uU(104,"Tiempo de casado"),e.qZA(),e._UZ(105,"input",24),e.qZA()(),e.TgZ(106,"mat-grid-tile",4)(107,"mat-form-field",5)(108,"mat-label"),e._uU(109,"Personas dependientes"),e.qZA(),e._UZ(110,"input",25),e.qZA()(),e.TgZ(111,"mat-grid-tile",4)(112,"mat-form-field",5)(113,"mat-label"),e._uU(114,"Tipo Viviendo"),e.qZA(),e.TgZ(115,"mat-select",26),e.YNc(116,Fi,2,2,"mat-option",27),e.qZA()()(),e.TgZ(117,"mat-grid-tile",4)(118,"mat-form-field",5)(119,"mat-label"),e._uU(120,"Tiempo viviendo en el domicilio"),e.qZA(),e._UZ(121,"input",28),e.qZA()(),e.TgZ(122,"mat-grid-tile",4)(123,"mat-form-field",5)(124,"mat-label"),e._uU(125,"Pago de renta"),e.qZA(),e._UZ(126,"input",29),e.qZA()(),e.TgZ(127,"mat-grid-tile",4)(128,"mat-form-field",5)(129,"mat-label"),e._uU(130,"tipo de negocio"),e.qZA(),e._UZ(131,"input",30),e.qZA()(),e.TgZ(132,"mat-grid-tile",4)(133,"mat-form-field",5)(134,"mat-label"),e._uU(135,"Tiempo del negocio"),e.qZA(),e._UZ(136,"input",31),e.qZA()(),e.TgZ(137,"mat-grid-tile",4)(138,"mat-form-field",5)(139,"mat-label"),e._uU(140,"Numero de identificacion"),e.qZA(),e._UZ(141,"input",32),e.qZA()(),e.TgZ(142,"mat-grid-tile",4)(143,"mat-form-field",5)(144,"mat-label"),e._uU(145,"RFC"),e.qZA(),e._UZ(146,"input",33),e.qZA()(),e.TgZ(147,"mat-grid-tile",4)(148,"mat-form-field",5)(149,"mat-label"),e._uU(150,"Nombre del conyugue"),e.qZA(),e._UZ(151,"input",34),e.qZA()(),e.TgZ(152,"mat-grid-tile",4)(153,"mat-form-field",5)(154,"mat-label"),e._uU(155,"Trabajo del conyugue"),e.qZA(),e._UZ(156,"input",35),e.qZA()(),e.TgZ(157,"mat-grid-tile",4)(158,"mat-form-field",5)(159,"mat-label"),e._uU(160,"Domicilio del conyugue"),e.qZA(),e._UZ(161,"input",36),e.qZA()(),e.TgZ(162,"mat-grid-tile",4)(163,"mat-form-field",5)(164,"mat-label"),e._uU(165,"Antiguedad del conyugue"),e.qZA(),e._UZ(166,"input",37),e.qZA()(),e.TgZ(167,"mat-grid-tile",4)(168,"mat-form-field",5)(169,"mat-label"),e._uU(170,"Ingreso del solicitante"),e.qZA(),e._UZ(171,"input",38),e.qZA()(),e.TgZ(172,"mat-grid-tile",4)(173,"mat-form-field",5)(174,"mat-label"),e._uU(175,"Ingreso del conyugue"),e.qZA(),e._UZ(176,"input",39),e.qZA()(),e.TgZ(177,"mat-grid-tile",4)(178,"mat-form-field",5)(179,"mat-label"),e._uU(180,"Gastos totales"),e.qZA(),e._UZ(181,"input",40),e.qZA()(),e.TgZ(182,"mat-grid-tile",4)(183,"mat-form-field",5)(184,"mat-label"),e._uU(185,"Motivos"),e.qZA(),e._UZ(186,"input",41),e.qZA()(),e.TgZ(187,"mat-grid-tile",4)(188,"mat-form-field",5)(189,"mat-label"),e._uU(190,"Gestor"),e.qZA(),e.TgZ(191,"mat-select",42),e.YNc(192,Qi,2,2,"mat-option",27),e.qZA()()(),e._UZ(193,"br"),e.TgZ(194,"mat-grid-tile",4)(195,"button",43),e.NdJ("click",function(){return i.EditarSolicitud()}),e._uU(196,"Rechazar"),e.qZA()(),e.TgZ(197,"mat-grid-tile",4)(198,"button",44),e._uU(199,"Aprobar"),e.qZA()()()()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",i.form),e.xp6(2),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(3),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(3),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(3),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("ngForOf",i.viviendas),e.xp6(1),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("ngForOf",i.listaGestores),e.xp6(2),e.Q6J("colspan",1)("rowspan",1),e.xp6(3),e.Q6J("colspan",1)("rowspan",1),e.xp6(1),e.Q6J("disabled",i.form.invalid))},dependencies:[q.sg,p.KE,p.hX,U.Nt,x.lW,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,A.Ye,I.a8,C.Il,C.DX,F.gD,Q.ey],styles:[".ancho[_ngcontent-%COMP%]{width:85%}.my-custom-button[_ngcontent-%COMP%]{width:85%;background-color:#0aa404;color:#fff}"]}),o})();function Oi(o,a){if(1&o&&(e.TgZ(0,"mat-option",46),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.viewValue," ")}}function Gi(o,a){if(1&o&&(e.TgZ(0,"mat-option",46),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.usuario),e.xp6(1),e.hij(" ",t.nombre," ")}}function ji(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-card",2)(1,"form",3),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.EnviarDatos())}),e.TgZ(2,"mat-grid-list",4)(3,"mat-grid-tile",5)(4,"h3"),e._uU(5,"Datos de prestamo"),e.qZA()(),e.TgZ(6,"mat-grid-tile",5)(7,"mat-form-field",6)(8,"mat-label"),e._uU(9,"Fecha"),e.qZA(),e._UZ(10,"input",7),e.qZA()(),e.TgZ(11,"mat-grid-tile",5)(12,"mat-form-field",6)(13,"mat-label"),e._uU(14,"Monto Solicitado"),e.qZA(),e._UZ(15,"input",8),e.qZA()(),e.TgZ(16,"mat-grid-tile",5)(17,"mat-form-field",6)(18,"mat-label"),e._uU(19,"Plazo"),e.qZA(),e._UZ(20,"input",9),e.qZA()(),e.TgZ(21,"mat-grid-tile",5)(22,"button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.calcularMontos())}),e._uU(23,"Calcular"),e.qZA()(),e.TgZ(24,"mat-grid-tile",5)(25,"mat-form-field",6)(26,"mat-label"),e._uU(27,"Total a pagar"),e.qZA(),e._UZ(28,"input",11),e.qZA()(),e.TgZ(29,"mat-grid-tile",5)(30,"mat-form-field",6)(31,"mat-label"),e._uU(32,"Pago diario"),e.qZA(),e._UZ(33,"input",12),e.qZA()(),e.TgZ(34,"mat-grid-tile",5)(35,"h3"),e._uU(36,"Datos de cliente"),e.qZA()(),e.TgZ(37,"mat-grid-tile",5)(38,"mat-form-field",6)(39,"mat-label"),e._uU(40,"Nombre"),e.qZA(),e._UZ(41,"input",13),e.qZA()(),e.TgZ(42,"mat-grid-tile",5)(43,"mat-form-field",6)(44,"mat-label"),e._uU(45,"Edad"),e.qZA(),e._UZ(46,"input",14),e.qZA()(),e.TgZ(47,"mat-grid-tile",5)(48,"mat-form-field",6)(49,"mat-label"),e._uU(50,"Direcci\xf3n"),e.qZA(),e._UZ(51,"input",15),e.qZA()(),e.TgZ(52,"mat-grid-tile",5)(53,"mat-form-field",6)(54,"mat-label"),e._uU(55,"Colonia"),e.qZA(),e._UZ(56,"input",16),e.qZA()(),e.TgZ(57,"mat-grid-tile",5)(58,"mat-form-field",6)(59,"mat-label"),e._uU(60,"Se\xf1as de domicilio"),e.qZA(),e._UZ(61,"input",17),e.qZA()(),e.TgZ(62,"mat-grid-tile",5)(63,"mat-form-field",6)(64,"mat-label"),e._uU(65,"Entre que calles se encuentra"),e.qZA(),e._UZ(66,"input",18),e.qZA()(),e.TgZ(67,"mat-grid-tile",5)(68,"mat-form-field",6)(69,"mat-label"),e._uU(70,"Ciudad"),e.qZA(),e._UZ(71,"input",19),e.qZA()(),e.TgZ(72,"mat-grid-tile",5)(73,"mat-form-field",6)(74,"mat-label"),e._uU(75,"Telefono Celular"),e.qZA(),e._UZ(76,"input",20),e.qZA()(),e.TgZ(77,"mat-grid-tile",5)(78,"mat-form-field",6)(79,"mat-label"),e._uU(80,"Telefono Fijo"),e.qZA(),e._UZ(81,"input",21),e.qZA()(),e.TgZ(82,"mat-grid-tile",5)(83,"mat-form-field",6)(84,"mat-label"),e._uU(85,"Tel. Adicional"),e.qZA(),e._UZ(86,"input",22),e.qZA()(),e.TgZ(87,"mat-grid-tile",5)(88,"mat-form-field",6)(89,"mat-label"),e._uU(90,"Estado Civil"),e.qZA(),e._UZ(91,"input",23),e.qZA()(),e.TgZ(92,"mat-grid-tile",5)(93,"mat-form-field",6)(94,"mat-label"),e._uU(95,"Tiempo de casado"),e.qZA(),e._UZ(96,"input",24),e.qZA()(),e.TgZ(97,"mat-grid-tile",5)(98,"mat-form-field",6)(99,"mat-label"),e._uU(100,"Personas dependientes"),e.qZA(),e._UZ(101,"input",25),e.qZA()(),e.TgZ(102,"mat-grid-tile",5)(103,"mat-form-field",6)(104,"mat-label"),e._uU(105,"Tipo Viviendo"),e.qZA(),e.TgZ(106,"mat-select",26),e.YNc(107,Oi,2,2,"mat-option",27),e.qZA()()(),e.TgZ(108,"mat-grid-tile",5)(109,"mat-form-field",6)(110,"mat-label"),e._uU(111,"Tiempo viviendo en el domicilio"),e.qZA(),e._UZ(112,"input",28),e.qZA()(),e.TgZ(113,"mat-grid-tile",5)(114,"mat-form-field",6)(115,"mat-label"),e._uU(116,"Pago de renta"),e.qZA(),e._UZ(117,"input",29),e.qZA()(),e.TgZ(118,"mat-grid-tile",5)(119,"mat-form-field",6)(120,"mat-label"),e._uU(121,"tipo de negocio"),e.qZA(),e._UZ(122,"input",30),e.qZA()(),e.TgZ(123,"mat-grid-tile",5)(124,"mat-form-field",6)(125,"mat-label"),e._uU(126,"Tiempo del negocio"),e.qZA(),e._UZ(127,"input",31),e.qZA()(),e.TgZ(128,"mat-grid-tile",5)(129,"mat-form-field",6)(130,"mat-label"),e._uU(131,"Numero de identificacion"),e.qZA(),e._UZ(132,"input",32),e.qZA()(),e.TgZ(133,"mat-grid-tile",5)(134,"mat-form-field",6)(135,"mat-label"),e._uU(136,"RFC"),e.qZA(),e._UZ(137,"input",33),e.qZA()(),e.TgZ(138,"mat-grid-tile",5)(139,"mat-form-field",6)(140,"mat-label"),e._uU(141,"Nombre del conyugue"),e.qZA(),e._UZ(142,"input",34),e.qZA()(),e.TgZ(143,"mat-grid-tile",5)(144,"mat-form-field",6)(145,"mat-label"),e._uU(146,"Trabajo del conyugue"),e.qZA(),e._UZ(147,"input",35),e.qZA()(),e.TgZ(148,"mat-grid-tile",5)(149,"mat-form-field",6)(150,"mat-label"),e._uU(151,"Domicilio del conyugue"),e.qZA(),e._UZ(152,"input",36),e.qZA()(),e.TgZ(153,"mat-grid-tile",5)(154,"mat-form-field",6)(155,"mat-label"),e._uU(156,"Antiguedad del conyugue"),e.qZA(),e._UZ(157,"input",37),e.qZA()(),e.TgZ(158,"mat-grid-tile",5)(159,"mat-form-field",6)(160,"mat-label"),e._uU(161,"Ingreso del solicitante"),e.qZA(),e._UZ(162,"input",38),e.qZA()(),e.TgZ(163,"mat-grid-tile",5)(164,"mat-form-field",6)(165,"mat-label"),e._uU(166,"Ingreso del conyugue"),e.qZA(),e._UZ(167,"input",39),e.qZA()(),e.TgZ(168,"mat-grid-tile",5)(169,"mat-form-field",6)(170,"mat-label"),e._uU(171,"Gastos totales"),e.qZA(),e._UZ(172,"input",40),e.qZA()(),e.TgZ(173,"mat-grid-tile",5)(174,"mat-form-field",6)(175,"mat-label"),e._uU(176,"Creditos Actuales"),e.qZA(),e._UZ(177,"input",41),e.qZA()(),e.TgZ(178,"mat-grid-tile",5)(179,"mat-form-field",6)(180,"mat-label"),e._uU(181,"Motivos"),e.qZA(),e._UZ(182,"input",42),e.qZA()(),e.TgZ(183,"mat-grid-tile",5)(184,"mat-form-field",6)(185,"mat-label"),e._uU(186,"Gestor"),e.qZA(),e.TgZ(187,"mat-select",43),e.YNc(188,Gi,2,2,"mat-option",27),e.qZA()()(),e.TgZ(189,"mat-grid-tile",5)(190,"button",44),e._uU(191,"Cancelar"),e.qZA()(),e.TgZ(192,"mat-grid-tile",5)(193,"button",45),e._uU(194,"Registrar"),e.qZA()()()()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(2),e.Q6J("colspan",2)("rowspan",1),e.xp6(3),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(3),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(3),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("ngForOf",t.viviendas),e.xp6(1),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("ngForOf",t.listaGestores),e.xp6(1),e.Q6J("colspan",1)("rowspan",1),e.xp6(3),e.Q6J("colspan",1)("rowspan",1),e.xp6(1),e.Q6J("disabled",t.form.invalid)}}function $i(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-card",2)(1,"h2",47),e._uU(2,"Subida de imagenes"),e.qZA(),e.TgZ(3,"p",47),e._uU(4,"Tu cliente fue registrado ahora debes subir las imagenes de la documentaci\xf3n necesario o podras realizarlo despues desde la edicion de clientes"),e.qZA(),e.TgZ(5,"mat-grid-list",4)(6,"mat-grid-tile",5)(7,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openInput())}),e._uU(8,"INE Frente"),e.qZA(),e.TgZ(9,"input",49),e.NdJ("change",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onFileSelected(n,"frente"))}),e.qZA()(),e.TgZ(10,"mat-grid-tile",5)(11,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openInput2())}),e._uU(12,"INE Reverso"),e.qZA(),e.TgZ(13,"input",50),e.NdJ("change",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onFileSelected(n,"reverso"))}),e.qZA()(),e.TgZ(14,"mat-grid-tile",5)(15,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openInput3())}),e._uU(16,"Comprobante"),e.qZA(),e.TgZ(17,"input",51),e.NdJ("change",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onFileSelected(n,"comprobante"))}),e.qZA()(),e._UZ(18,"br")(19,"br"),e.TgZ(20,"mat-grid-tile",5)(21,"button",44),e._uU(22,"Finalizar"),e.qZA()()()()}2&o&&(e.xp6(6),e.Q6J("colspan",2)("rowspan",1),e.xp6(4),e.Q6J("colspan",2)("rowspan",1),e.xp6(4),e.Q6J("colspan",2)("rowspan",1),e.xp6(6),e.Q6J("colspan",2)("rowspan",1))}var B=new Date,ye=B.getDate(),we=B.getMonth()+1,Ne=B.getFullYear(),Hi=B.getHours(),Vi=B.getMinutes(),zi=B.getSeconds(),Li=`${ye}-${we}-${Ne}`;let Bi=(()=>{class o{constructor(t,i,n,s,l,m,u,d){this.fb=t,this.gestorService=i,this.sharedService=n,this.clienteService=s,this.solicitudService=l,this.imageCompress=m,this.uploadService=u,this.interesService=d,this.fecha_Solicitud=Li,this.lista=[],this.listaGestores=[],this.activo=!1,this.lista2=[],this.listaDeInteres=[],this.imgResultBeforeCompression="",this.sizeAntes=0,this.sizeDespues=0,this.imgResultAfterCompression="",this.imgResult="",this.viviendas=[{value:"Propia",viewValue:"Propia"},{value:"Rentada",viewValue:"Rentada"},{value:"Familiar",viewValue:"Familiar"}],this.gestores=[{value:"gestor1",viewValue:"gestor1"},{value:"gestor2",viewValue:"gestor2"},{value:"gestor3",viewValue:"gestor3"}],this.form=this.fb.group({fecha:[this.fecha_Solicitud,r.kI.required],montoSolicitado:["",r.kI.required],totalPagar:["",r.kI.required],pagoDiario:["",r.kI.required],plazo:["",r.kI.required],nombreSolicitante:["",r.kI.required],edad:["",r.kI.required],direccion:["",r.kI.required],colonia:["",r.kI.required],senasDomicilio:[""],entreCalles:[""],ciudad:["",r.kI.required],celular:["",r.kI.required],telefonoFijo:[""],telefonoAdicional:[""],estadoCivil:["",r.kI.required],tiempoCasados:["",r.kI.required],dependientes:["",r.kI.required],tipoVivienda:["",r.kI.required],tiempoVivienda:[""],pagoRenta:[""],tipoNegocio:["",r.kI.required],tiempoNegocio:[""],numeroINE:["",r.kI.required],RFC:["",r.kI.required],conyugue:["",r.kI.required],trabajoConyugue:[""],domicilioConyugue:[""],antiguedadConyugue:[""],ingresoSolicitante:["",r.kI.required],ingresosConyugue:[""],gastos:["",r.kI.required],creditosActuales:[""],motivos:["",r.kI.required],gestor:["",r.kI.required]})}ngOnInit(){this.obtenerGestores(),this.obtenerListaDeInteres()}onFileSelected(t,i){const n=t.target.files[0];n&&(console.log("tipo en Seleccionar el archivo "+i),this.subirArchivo(n,i))}compressImage(t,i){const n=new FileReader;n.onload=s=>{this.imageCompress.compressFile(s.target.result,-1,50,50).then(m=>{const u=new File([m],"nombre_de_archivo.jpg",{type:"image/jpeg",lastModified:Date.now()});console.log("tipo en comprimir  "+i),this.subirArchivo(u,i)})},n.readAsDataURL(t)}subirArchivo(t,i){console.log("tipo en subir archivo "+i);const n=this.numeroDeClienteID+"_"+i,s=this.sharedService.getFinanciera()??"vacio";t&&this.uploadService.uploadUpdateFile(t,this.mongoIdCliente,"clientes",s,"clientes",n,i).then(l=>{console.log("Documento subido"),console.log(l),alert("Se subio el archivo correctamente")}).catch(l=>{console.error("Error al cargar el archivo:",l)})}verificarCamposOpcionales(){["senasDomicilio","entreCalles","telefonoFijo","telefonoAdicional","tiempoVivienda","pagoRenta","tiempoNegocio","trabajoConyugue","domicilioConyugue","antiguedadConyugue"].forEach(n=>{const s=this.form?.get(n);s&&!s.value&&s.setValue("SN")}),["ingresosConyugue","creditosActuales"].forEach(n=>{const s=this.form?.get(n);s&&!s.value&&s.setValue(0)})}obtenerGestores(){this.gestorService.getGestorFinanciera(this.sharedService.getFinanciera()).subscribe(t=>{console.log(t),this.lista=t,this.listaGestores=this.lista.gestores,console.log(this.listaGestores)})}EnviarDatos(){this.agregarUsuario(),this.registrarSolicitud()}obtenerListaDeInteres(){console.log("Hola"),this.interesService.getinteresFinanciera(this.sharedService.getFinanciera()).subscribe(t=>{this.lista2=t,this.listaDeInteres=this.lista2.intereces,console.log()},t=>{console.error("Error al obtener la lista de precios:",t)})}calcularMontos(){let t=this.form.value.plazo,i=this.form.value.montoSolicitado,n=0,s=0,l=0,m=0;this.listaDeInteres.forEach(u=>{i>u.limiteInferior&&i<=u.limiteSuperior&&(n=u.porcentaje,s=Math.round(i*n/100),l=i+s,this.form.get("totalPagar")?.setValue(l),m=Math.round((i+s)/t),this.form.get("pagoDiario")?.setValue(m))})}agregarUsuario(){this.verificarCamposOpcionales(),this.numeroDeClienteID=this.eliminarAcentos2(this.form.value.nombreSolicitante).substring(0,2)+Ne+we+ye+Hi+Vi+zi;const t={numeroCliente:this.numeroDeClienteID,nombre:this.eliminarAcentos2(this.form.value.nombreSolicitante),edad:this.form.value.edad,direccion:this.form.value.direccion,colonia:this.form.value.colonia,senasDomicilio:this.form.value.senasDomicilio,entrecalles:this.form.value.entreCalles,ciudad:this.form.value.ciudad,celular:this.form.value.celular,telefonoFijo:this.form.value.telefonoFijo,telefonoAdicional:this.form.value.telefonoAdicional,estadoCivil:this.form.value.estadoCivil,tiempoCasados:this.form.value.tiempoCasados,dependientes:this.form.value.dependientes,tipoVivienda:this.form.value.tipoVivienda,tiempoViviendo:this.form.value.tiempoVivienda,pagoRenta:this.form.value.pagoRenta,tipoNegocio:this.form.value.tipoNegocio,tiempoNegocio:this.form.value.tiempoNegocio,numeroIdentificacion:this.form.value.numeroINE,RFC:this.form.value.RFC,nombreConyugue:this.form.value.conyugue,trabajoConyugue:this.form.value.trabajoConyugue,domicilioConyugue:this.form.value.domicilioConyugue,antiguedadConyugue:this.form.value.antiguedadConyugue,ingresoSolicitante:this.form.value.ingresoSolicitante,ingresoConyugue:this.form.value.ingresosConyugue,gastosTotales:this.form.value.gastos,gestorAsignado:this.form.value.gestor,fotoComprobante:"URL",fotoFachada:"URL",fotoIneFrente:"URL",fotoIneReverso:"URL",tipo:"SN",fechaRegistro:this.form.value.fecha,numeroPrestamos:this.form.value.creditosActuales,prestamosActivos:!1,clasificacion:"Pendiente",sucursal:this.sharedService.getFinanciera()};console.log(t),this.clienteService.guardarCliente(t).subscribe(i=>{console.log("Cliente registrado con \xe9xito:"),console.log(i);const n=i.cliente._id;console.log("El id del nuevo cliente es "+n),this.mongoIdCliente=n,this.activo=!0},i=>{console.error("Error al registrar cliente:",i)})}registrarSolicitud(){this.verificarCamposOpcionales();const t={fechaSolicitud:this.form.value.fecha,montoSolicitado:this.form.value.montoSolicitado,montoAutorizado:0,totalPagar:this.form.value.totalPagar,pagoDiario:this.form.value.pagoDiario,plazo:this.form.value.plazo,numeroCliente:this.numeroDeClienteID,nombre:this.eliminarAcentos2(this.form.value.nombreSolicitante),edad:this.form.value.edad,direccion:this.form.value.direccion,colonia:this.form.value.colonia,senasDomicilio:this.form.value.senasDomicilio,entrecalles:this.form.value.entreCalles,ciudad:this.form.value.ciudad,celular:this.form.value.celular,telefonoFijo:this.form.value.telefonoFijo,telefonoAdicional:this.form.value.telefonoAdicional,estadoCivil:this.form.value.estadoCivil,tiempoCasados:this.form.value.tiempoCasados,dependientes:this.form.value.dependientes,tipoVivienda:this.form.value.tipoVivienda,tiempoViviendo:this.form.value.tiempoVivienda,pagoRenta:this.form.value.pagoRenta,tipoNegocio:this.form.value.tipoNegocio,tiempoNegocio:this.form.value.tiempoNegocio,numeroIdentificacion:this.form.value.numeroINE,RFC:this.form.value.RFC,nombreConyugue:this.form.value.conyugue,trabajoConyugue:this.form.value.trabajoConyugue,domicilioConyugue:this.form.value.domicilioConyugue,antiguedadConyugue:this.form.value.antiguedadConyugue,ingresoSolicitante:this.form.value.ingresoSolicitante,ingresoConyugue:this.form.value.ingresosConyugue,gastosTotales:this.form.value.gastos,gestorAsignado:this.form.value.gestor,infoCredito:this.form.value.motivos,estatus:"Pendiente",tipo:"Nueva",sucursal:this.sharedService.getFinanciera()};console.log(t),this.solicitudService.guardarSolicitud(t).subscribe(i=>{i&&(console.log("Registro de solicitud exitoso"),console.log(i),alert("Registro exitoso"))},i=>{console.log(i)})}openInput(){document.getElementById("fileInput").click()}openInput2(){document.getElementById("fileInput2").click()}openInput3(){document.getElementById("fileInput3").click()}eliminarAcentos2(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(N),e.Y36(T),e.Y36(M),e.Y36(Y),e.Y36(te),e.Y36(oe),e.Y36(ee))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-nueva-solicitud"]],decls:6,vars:2,consts:[[1,"container"],["style","margin-top: 10px;",4,"ngIf"],[2,"margin-top","10px"],[3,"formGroup","ngSubmit"],["cols","2","rowHeight","70px"],[3,"colspan","rowspan"],[1,"ancho"],["matInput","","autocomplete","off","formControlName","fecha"],["matInput","","type","number","autocomplete","off","formControlName","montoSolicitado"],["matInput","","type","number","autocomplete","off","formControlName","plazo"],["type","button","mat-button","","color","primary",3,"click"],["matInput","","type","number","autocomplete","off","formControlName","totalPagar"],["matInput","","type","number","autocomplete","off","formControlName","pagoDiario"],["matInput","","autocomplete","off","formControlName","nombreSolicitante"],["type","number","matInput","","autocomplete","off","formControlName","edad"],["matInput","","autocomplete","off","formControlName","direccion"],["matInput","","autocomplete","off","formControlName","colonia"],["matInput","","autocomplete","off","formControlName","senasDomicilio"],["matInput","","autocomplete","off","formControlName","entreCalles"],["matInput","","autocomplete","off","formControlName","ciudad"],["type","number","matInput","","autocomplete","off","formControlName","celular"],["type","number","matInput","","autocomplete","off","formControlName","telefonoFijo"],["type","number","matInput","","autocomplete","off","formControlName","telefonoAdicional"],["matInput","","autocomplete","off","formControlName","estadoCivil"],["matInput","","autocomplete","off","formControlName","tiempoCasados"],["matInput","","autocomplete","off","formControlName","dependientes"],["formControlName","tipoVivienda"],[3,"value",4,"ngFor","ngForOf"],["matInput","","autocomplete","off","formControlName","tiempoVivienda"],["type","number","matInput","","autocomplete","off","formControlName","pagoRenta"],["matInput","","autocomplete","off","formControlName","tipoNegocio"],["matInput","","autocomplete","off","formControlName","tiempoNegocio"],["matInput","","autocomplete","off","formControlName","numeroINE"],["matInput","","autocomplete","off","formControlName","RFC"],["matInput","","autocomplete","off","formControlName","conyugue"],["matInput","","autocomplete","off","formControlName","trabajoConyugue"],["matInput","","autocomplete","off","formControlName","domicilioConyugue"],["matInput","","autocomplete","off","formControlName","antiguedadConyugue"],["type","number","matInput","","autocomplete","off","formControlName","ingresoSolicitante"],["type","number","matInput","","autocomplete","off","formControlName","ingresosConyugue"],["type","number","matInput","","autocomplete","off","formControlName","gastos"],["type","number","matInput","","autocomplete","off","formControlName","creditosActuales"],["matInput","","autocomplete","off","formControlName","motivos"],["formControlName","gestor"],["type","button","mat-raised-button","","color","primary","routerLink","/dashboard/clientes",1,"ancho"],["type","submit","mat-raised-button","","color","primary",1,"ancho",3,"disabled"],[3,"value"],[2,"text-align","center"],["type","button","mat-raised-button","",1,"ancho",3,"click"],["id","fileInput","hidden","","type","file","accept",".pdf,.jpg,.png",3,"change"],["id","fileInput2","hidden","","type","file","accept",".pdf,.jpg,.png",3,"change"],["id","fileInput3","hidden","","type","file","accept",".pdf,.jpg,.png",3,"change"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Nueva solicitud para Prestamo"),e.qZA()(),e.YNc(4,ji,195,84,"mat-card",1),e.YNc(5,$i,23,8,"mat-card",1),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngIf",!i.activo),e.xp6(1),e.Q6J("ngIf",i.activo))},dependencies:[q.sg,q.O5,b.rH,p.KE,p.hX,U.Nt,x.lW,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,A.Ye,I.a8,C.Il,C.DX,F.gD,Q.ey],styles:[".ancho[_ngcontent-%COMP%]{width:85%}"]}),o})();function Xi(o,a){1&o&&(e.TgZ(0,"th",17),e._uU(1," Nombre "),e.qZA())}function Ki(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.nombre," ")}}function Wi(o,a){1&o&&(e.TgZ(0,"th",17),e._uU(1," Monto Solicitado "),e.qZA())}function ea(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" $",t.montoSolicitado," ")}}function ta(o,a){1&o&&(e.TgZ(0,"th",19),e._uU(1," celular "),e.qZA())}function oa(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.celular," ")}}function ia(o,a){1&o&&(e.TgZ(0,"th",19),e._uU(1," Gestor "),e.qZA())}function aa(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.gestorAsignado," ")}}function na(o,a){1&o&&e._UZ(0,"th",19)}function ra(o,a){1&o&&(e.TgZ(0,"td",18)(1,"a"),e._uU(2,"Bajar PDF"),e.qZA()())}function sa(o,a){1&o&&e._UZ(0,"tr",20)}function la(o,a){1&o&&e._UZ(0,"tr",21)}const ca=function(){return[5,10,25,100]};let ma=(()=>{class o{constructor(t,i){this.solicitudService=t,this.sharedService=i,this.listaSolicitudes=[],this.listaSolicitudesEspecificas=[],this.lista=[],this.displayedColumns=["nombre","montoSolicitado","telefono","gestor","accion"],this.dataSource=new c.by(this.listaSolicitudes)}ngOnInit(){this.obtenerSolicitudesValidas()}obtenerSolicitudesValidas(){this.solicitudService.getSolicitudFinancieraTipos(this.sharedService.getFinanciera(),"Renovacion").subscribe(t=>{console.log(t),this.lista=t,this.listaSolicitudes=this.lista.solicitudes,console.log(this.listaSolicitudes),this.dataSource=new c.by(this.listaSolicitudes)})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Y),e.Y36(T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-historial-renovaciones"]],viewQuery:function(t,i){if(1&t&&(e.Gf(S.NW,5),e.Gf(_.YE,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.paginator=n.first),e.iGM(n=e.CRH())&&(i.sort=n.first)}},decls:32,vars:5,consts:[[1,"container"],[1,"example-spacer"],["matInput","","placeholder","Nombre","autocomplete","off",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","montoSolicitado"],["matColumnDef","telefono"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","gestor"],["matColumnDef","accion"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Historial de Renovaciones"),e.qZA(),e._UZ(4,"div",1),e.qZA(),e.TgZ(5,"p"),e._uU(6,"En este apartado aparecera un historial de todas las renovaciones generadas ya finalizadas o no aprobadas para poder ser descargadas "),e.qZA(),e.TgZ(7,"mat-form-field")(8,"mat-label"),e._uU(9,"Busqueda"),e.qZA(),e.TgZ(10,"input",2,3),e.NdJ("keyup",function(s){return i.applyFilter(s)}),e.qZA()(),e.TgZ(12,"div",4)(13,"table",5),e.ynx(14,6),e.YNc(15,Xi,2,0,"th",7),e.YNc(16,Ki,2,1,"td",8),e.BQk(),e.ynx(17,9),e.YNc(18,Wi,2,0,"th",7),e.YNc(19,ea,2,1,"td",8),e.BQk(),e.ynx(20,10),e.YNc(21,ta,2,0,"th",11),e.YNc(22,oa,2,1,"td",8),e.BQk(),e.ynx(23,12),e.YNc(24,ia,2,0,"th",11),e.YNc(25,aa,2,1,"td",8),e.BQk(),e.ynx(26,13),e.YNc(27,na,1,0,"th",11),e.YNc(28,ra,3,0,"td",8),e.BQk(),e.YNc(29,sa,1,0,"tr",14),e.YNc(30,la,1,0,"tr",15),e.qZA(),e._UZ(31,"mat-paginator",16),e.qZA()()),2&t&&(e.xp6(13),e.Q6J("dataSource",i.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,ca)))},dependencies:[p.KE,p.hX,U.Nt,A.Ye,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,S.NW,_.YE,_.nU],styles:["table[_ngcontent-%COMP%]{width:100%}.pointer[_ngcontent-%COMP%]{cursor:pointer}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.contenedor[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),o})();function ua(o,a){1&o&&(e.TgZ(0,"th",17),e._uU(1," Nombre "),e.qZA())}function pa(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.nombre," ")}}function da(o,a){1&o&&(e.TgZ(0,"th",17),e._uU(1," Monto Solicitado "),e.qZA())}function ga(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" $",t.montoSolicitado," ")}}function fa(o,a){1&o&&(e.TgZ(0,"th",19),e._uU(1," celular "),e.qZA())}function ha(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.celular," ")}}function _a(o,a){1&o&&(e.TgZ(0,"th",19),e._uU(1," Gestor "),e.qZA())}function Za(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.gestorAsignado," ")}}function Ca(o,a){1&o&&e._UZ(0,"th",19)}function va(o,a){1&o&&(e.TgZ(0,"td",18)(1,"a"),e._uU(2,"Bajar PDF"),e.qZA()())}function ba(o,a){1&o&&e._UZ(0,"tr",20)}function Aa(o,a){1&o&&e._UZ(0,"tr",21)}const Ta=function(){return[5,10,25,100]};let qa=(()=>{class o{constructor(t,i){this.solicitudService=t,this.sharedService=i,this.listaSolicitudes=[],this.listaSolicitudesEspecificas=[],this.lista=[],this.displayedColumns=["nombre","montoSolicitado","telefono","gestor","accion"],this.dataSource=new c.by(this.listaSolicitudes)}ngOnInit(){this.obtenerSolicitudesValidas()}obtenerSolicitudesValidas(){this.solicitudService.getSolicitudFinancieraTipos(this.sharedService.getFinanciera(),"Nueva").subscribe(t=>{console.log(t),this.lista=t,this.listaSolicitudes=this.lista.solicitudes,console.log(this.listaSolicitudes),this.dataSource=new c.by(this.listaSolicitudes)})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Y),e.Y36(T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-historial-solicitudes"]],viewQuery:function(t,i){if(1&t&&(e.Gf(S.NW,5),e.Gf(_.YE,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.paginator=n.first),e.iGM(n=e.CRH())&&(i.sort=n.first)}},decls:32,vars:5,consts:[[1,"container"],[1,"example-spacer"],["matInput","","placeholder","Nombre","autocomplete","off",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","montoSolicitado"],["matColumnDef","telefono"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","gestor"],["matColumnDef","accion"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Historial de Solicitudes"),e.qZA(),e._UZ(4,"div",1),e.qZA(),e.TgZ(5,"p"),e._uU(6,"En este apartado aparecera un historial de todas las Solicitudesgeneradas ya finalizadas o no aprobadas para poder ser descargadas "),e.qZA(),e.TgZ(7,"mat-form-field")(8,"mat-label"),e._uU(9,"Busqueda"),e.qZA(),e.TgZ(10,"input",2,3),e.NdJ("keyup",function(s){return i.applyFilter(s)}),e.qZA()(),e.TgZ(12,"div",4)(13,"table",5),e.ynx(14,6),e.YNc(15,ua,2,0,"th",7),e.YNc(16,pa,2,1,"td",8),e.BQk(),e.ynx(17,9),e.YNc(18,da,2,0,"th",7),e.YNc(19,ga,2,1,"td",8),e.BQk(),e.ynx(20,10),e.YNc(21,fa,2,0,"th",11),e.YNc(22,ha,2,1,"td",8),e.BQk(),e.ynx(23,12),e.YNc(24,_a,2,0,"th",11),e.YNc(25,Za,2,1,"td",8),e.BQk(),e.ynx(26,13),e.YNc(27,Ca,1,0,"th",11),e.YNc(28,va,3,0,"td",8),e.BQk(),e.YNc(29,ba,1,0,"tr",14),e.YNc(30,Aa,1,0,"tr",15),e.qZA(),e._UZ(31,"mat-paginator",16),e.qZA()()),2&t&&(e.xp6(13),e.Q6J("dataSource",i.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,Ta)))},dependencies:[p.KE,p.hX,U.Nt,A.Ye,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,S.NW,_.YE,_.nU],styles:["table[_ngcontent-%COMP%]{width:100%}.pointer[_ngcontent-%COMP%]{cursor:pointer}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.contenedor[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),o})(),xa=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-historial-prestamo"]],decls:2,vars:0,template:function(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"historial-prestamo works!"),e.qZA())}}),o})();function Ua(o,a){if(1&o&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.usuario),e.xp6(1),e.hij(" ",t.nombre," ")}}var X=new Date,Ia=X.getDate(),Sa=X.getMonth()+1,ya=X.getFullYear(),wa=(X.getHours(),X.getMinutes(),X.getSeconds(),`${Ia}-${Sa}-${ya}`);let Na=(()=>{class o{constructor(t,i,n,s,l,m,u,d){this.fb=t,this.route=i,this.gestorService=n,this.prestamoService=s,this.sharedService=l,this.imageCompress=m,this.uploadService=u,this.router=d,this.fecha_Solicitud=wa,this.lista=[],this.listaGestores=[],this.lista2=[],this.prestamoEspecifico=[],this.viviendas=[{value:"Propia",viewValue:"Propia"},{value:"Rentada",viewValue:"Rentada"},{value:"Familiar",viewValue:"Familiar"}],this.gestores=[{value:"gestor1",viewValue:"gestor1"},{value:"gestor2",viewValue:"gestor2"},{value:"gestor3",viewValue:"gestor3"}],this.form=this.fb.group({numeroCliente:["",r.kI.required],fecha:["",r.kI.required],montoAutorizado:["",r.kI.required],totalPagar:["",r.kI.required],pagoDiario:["",r.kI.required],plazo:["",r.kI.required],nombreSolicitante:["",r.kI.required],direccion:["",r.kI.required],colonia:["",r.kI.required],celular:["",r.kI.required],gestor:["",r.kI.required]})}ngOnInit(){this.mongoIdPrestamo=this.route.snapshot.paramMap.get("id"),console.log(this.mongoIdPrestamo),this.obtenerGestores(),this.obtenerPrestamo()}obtenerGestores(){this.gestorService.getGestorFinanciera(this.sharedService.getFinanciera()).subscribe(t=>{console.log(t),this.lista=t,this.listaGestores=this.lista.gestores,console.log(this.listaGestores)})}obtenerPrestamo(){this.prestamoService.getPrestamoEspecifico(this.mongoIdPrestamo).subscribe(t=>{console.log(t),this.lista2=t,this.prestamoEspecifico=this.lista2.prestamo,console.log(this.prestamoEspecifico),this.llenarFormulario()})}llenarFormulario(){console.log(this.prestamoEspecifico.nombre),this.form.patchValue({numeroCliente:this.prestamoEspecifico.numeroCliente,fecha:this.prestamoEspecifico.fecha,montoAutorizado:this.prestamoEspecifico.cantidadPrestamo,totalPagar:this.prestamoEspecifico.cantidadPagar,pagoDiario:this.prestamoEspecifico.pagoDiario,plazo:this.prestamoEspecifico.plazoPrestamo,nombreSolicitante:this.prestamoEspecifico.nombre,direccion:this.prestamoEspecifico.direccion,colonia:this.prestamoEspecifico.colonia,celular:this.prestamoEspecifico.telefono,gestor:this.prestamoEspecifico.gestor})}editarPrestamo(){const t={fechaPago:this.fecha_Solicitud,gestor:this.form.value.gestor,estatus:"Activo"};console.log(t),this.prestamoService.PutPrestamoFinanciera(this.mongoIdPrestamo,t).subscribe(i=>{i&&(console.log(i),alert("Prestamo Activo"),this.router.navigate(["dashboard/prestamos"]))},i=>{console.log(i),alert("Problemas al actualizar, intente mas tarde")})}onFileSelected(t,i){const n=t.target.files[0];n&&(console.log("tipo en Seleccionar el archivo "+i),this.subirArchivo(n,i))}compressImage(t,i){const n=new FileReader;n.onload=s=>{this.imageCompress.compressFile(s.target.result,-1,50,50).then(m=>{const u=new File([m],"nombre_de_archivo.jpg",{type:"image/jpeg",lastModified:Date.now()});console.log("tipo en comprimir  "+i),this.subirArchivo(u,i)})},n.readAsDataURL(t)}subirArchivo(t,i){console.log("tipo en subir archivo "+i);const n=this.mongoIdPrestamo+"_"+i,s=this.sharedService.getFinanciera()??"vacio";t&&this.uploadService.uploadUpdateFile(t,this.mongoIdPrestamo,"prestamos",s,"prestamos",n,i).then(l=>{console.log("Documento subido"),console.log(l),alert("Se subio el archivo correctamente")}).catch(l=>{console.error("Error al cargar el archivo:",l)})}openInput(){document.getElementById("fileInput").click()}openInput2(){document.getElementById("fileInput2").click()}openInput3(){document.getElementById("fileInput3").click()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(b.gz),e.Y36(N),e.Y36(j),e.Y36(T),e.Y36(te),e.Y36(oe),e.Y36(b.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-revisar-prestamo"]],decls:93,vars:38,consts:[[1,"container"],[2,"margin-top","10px"],[3,"formGroup","ngSubmit"],["cols","2","rowHeight","70px"],[3,"colspan","rowspan"],[1,"ancho"],["matInput","","autocomplete","off","formControlName","fecha"],["matInput","","type","number","autocomplete","off","formControlName","montoAutorizado"],["matInput","","type","number","autocomplete","off","formControlName","plazo"],["matInput","","type","number","autocomplete","off","formControlName","totalPagar"],["matInput","","type","number","autocomplete","off","formControlName","pagoDiario"],["matInput","","autocomplete","off","formControlName","numeroCliente"],["matInput","","autocomplete","off","formControlName","nombreSolicitante"],["matInput","","autocomplete","off","formControlName","direccion"],["matInput","","autocomplete","off","formControlName","colonia"],["type","number","matInput","","autocomplete","off","formControlName","celular"],["formControlName","gestor"],[3,"value",4,"ngFor","ngForOf"],["type","submit","mat-raised-button","","color","warn","routerLink","/dashboard/prestamos",1,"ancho"],["type","submit","mat-raised-button","",1,"my-custom-button"],[2,"text-align","center"],["type","button","mat-raised-button","",1,"ancho",3,"click"],["id","fileInput","hidden","","type","file","accept",".pdf,.jpg,.png",3,"change"],["id","fileInput2","hidden","","type","file","accept",".pdf,.jpg,.png",3,"change"],["id","fileInput3","hidden","","type","file","accept",".pdf,.jpg,.png",3,"change"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Revision de Prestamo"),e.qZA()(),e.TgZ(4,"mat-card",1)(5,"form",2),e.NdJ("ngSubmit",function(){return i.editarPrestamo()}),e.TgZ(6,"mat-grid-list",3)(7,"mat-grid-tile",4)(8,"h3"),e._uU(9,"Datos de prestamo"),e.qZA()(),e.TgZ(10,"mat-grid-tile",4)(11,"mat-form-field",5)(12,"mat-label"),e._uU(13,"Fecha"),e.qZA(),e._UZ(14,"input",6),e.qZA()(),e.TgZ(15,"mat-grid-tile",4)(16,"mat-form-field",5)(17,"mat-label"),e._uU(18,"Monto Aprobado"),e.qZA(),e._UZ(19,"input",7),e.qZA()(),e.TgZ(20,"mat-grid-tile",4)(21,"mat-form-field",5)(22,"mat-label"),e._uU(23,"Plazo"),e.qZA(),e._UZ(24,"input",8),e.qZA()(),e.TgZ(25,"mat-grid-tile",4)(26,"mat-form-field",5)(27,"mat-label"),e._uU(28,"Total a pagar"),e.qZA(),e._UZ(29,"input",9),e.qZA()(),e.TgZ(30,"mat-grid-tile",4)(31,"mat-form-field",5)(32,"mat-label"),e._uU(33,"Pago diario"),e.qZA(),e._UZ(34,"input",10),e.qZA()(),e.TgZ(35,"mat-grid-tile",4)(36,"h3"),e._uU(37,"Datos de cliente"),e.qZA()(),e.TgZ(38,"mat-grid-tile",4)(39,"mat-form-field",5)(40,"mat-label"),e._uU(41,"Numero de Cliente"),e.qZA(),e._UZ(42,"input",11),e.qZA()(),e.TgZ(43,"mat-grid-tile",4)(44,"mat-form-field",5)(45,"mat-label"),e._uU(46,"Nombre"),e.qZA(),e._UZ(47,"input",12),e.qZA()(),e.TgZ(48,"mat-grid-tile",4)(49,"mat-form-field",5)(50,"mat-label"),e._uU(51,"Direcci\xf3n"),e.qZA(),e._UZ(52,"input",13),e.qZA()(),e.TgZ(53,"mat-grid-tile",4)(54,"mat-form-field",5)(55,"mat-label"),e._uU(56,"Colonia"),e.qZA(),e._UZ(57,"input",14),e.qZA()(),e.TgZ(58,"mat-grid-tile",4)(59,"mat-form-field",5)(60,"mat-label"),e._uU(61,"Telefono Celular"),e.qZA(),e._UZ(62,"input",15),e.qZA()(),e.TgZ(63,"mat-grid-tile",4)(64,"mat-form-field",5)(65,"mat-label"),e._uU(66,"Gestor"),e.qZA(),e.TgZ(67,"mat-select",16),e.YNc(68,Ua,2,2,"mat-option",17),e.qZA()()(),e.TgZ(69,"mat-grid-tile",4)(70,"button",18),e._uU(71,"Cancelar"),e.qZA()(),e.TgZ(72,"mat-grid-tile",4)(73,"button",19),e._uU(74,"Iniciar"),e.qZA()()()()(),e.TgZ(75,"mat-card",1)(76,"h2",20),e._uU(77,"Documentos"),e.qZA(),e.TgZ(78,"mat-grid-list",3)(79,"mat-grid-tile",4)(80,"button",21),e.NdJ("click",function(){return i.openInput()}),e._uU(81,"Foto con Dinero"),e.qZA(),e.TgZ(82,"input",22),e.NdJ("change",function(s){return i.onFileSelected(s,"dinero")}),e.qZA()(),e.TgZ(83,"mat-grid-tile",4)(84,"button",21),e.NdJ("click",function(){return i.openInput2()}),e._uU(85,"Foto del Pagare"),e.qZA(),e.TgZ(86,"input",23),e.NdJ("change",function(s){return i.onFileSelected(s,"pagare")}),e.qZA()(),e.TgZ(87,"mat-grid-tile",4)(88,"button",21),e.NdJ("click",function(){return i.openInput3()}),e._uU(89,"Foto de la Fachada"),e.qZA(),e.TgZ(90,"input",24),e.NdJ("change",function(s){return i.onFileSelected(s,"fachada")}),e.qZA()(),e._UZ(91,"br")(92,"br"),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",i.form),e.xp6(2),e.Q6J("colspan",2)("rowspan",1),e.xp6(3),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(3),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("ngForOf",i.listaGestores),e.xp6(1),e.Q6J("colspan",1)("rowspan",1),e.xp6(3),e.Q6J("colspan",1)("rowspan",1),e.xp6(7),e.Q6J("colspan",2)("rowspan",1),e.xp6(4),e.Q6J("colspan",2)("rowspan",1),e.xp6(4),e.Q6J("colspan",2)("rowspan",1))},dependencies:[q.sg,b.rH,p.KE,p.hX,U.Nt,x.lW,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,A.Ye,I.a8,C.Il,C.DX,F.gD,Q.ey],styles:[".ancho[_ngcontent-%COMP%]{width:85%}.my-custom-button[_ngcontent-%COMP%]{width:85%;background-color:#0aa404;color:#fff}"]}),o})();function Ja(o,a){if(1&o&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.usuario),e.xp6(1),e.hij(" ",t.nombre," ")}}function Pa(o,a){if(1&o&&(e.TgZ(0,"mat-list-item")(1,"mat-icon",24),e._uU(2,"folder"),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.TgZ(5,"div",26),e._uU(6),e.qZA(),e.TgZ(7,"div",26),e._uU(8),e.qZA(),e.TgZ(9,"div",26),e._uU(10),e.qZA(),e.TgZ(11,"div",26),e._uU(12),e.qZA(),e.TgZ(13,"div",26),e._uU(14,"_____________________________________________________"),e.qZA(),e._UZ(15,"br"),e.qZA()),2&o){const t=a.$implicit;e.xp6(4),e.Oqu(t.fecha),e.xp6(2),e.hij("Abono: $",t.abono,""),e.xp6(2),e.hij("Hora de registro: ",t.horaPago,""),e.xp6(2),e.hij("El cobro fue por: ",t.personasCobrador,""),e.xp6(2),e.hij("El restante es: ",t.totalRestante,"")}}var K=new Date,Je=K.getDate(),Pe=K.getMonth()+1,ke=K.getFullYear(),Fe=K.getHours(),Qe=K.getMinutes(),ka=K.getSeconds(),Fa=`${Je}-${Pe}-${ke}`;let Qa=(()=>{class o{constructor(t,i,n,s,l,m,u){this.fb=t,this.route=i,this.gestorService=n,this.prestamoService=s,this.sharedService=l,this.pagoService=m,this.router=u,this.fecha_Solicitud=Fa,this.panelOpenState=!1,this.lista=[],this.listaGestores=[],this.lista2=[],this.prestamoEspecifico=[],this.lista3=[],this.listaPagos=[],this.viviendas=[{value:"Propia",viewValue:"Propia"},{value:"Rentada",viewValue:"Rentada"},{value:"Familiar",viewValue:"Familiar"}],this.form=this.fb.group({totalRestante:["",r.kI.required],montoPagado:["",r.kI.required],numeroCliente:["",r.kI.required],fecha:["",r.kI.required],montoAutorizado:["",r.kI.required],totalPagar:["",r.kI.required],pagoDiario:["",r.kI.required],plazo:["",r.kI.required],nombreSolicitante:["",r.kI.required],direccion:["",r.kI.required],colonia:["",r.kI.required],celular:["",r.kI.required],gestor:["",r.kI.required]})}ngOnInit(){this.mongoIdPrestamo=this.route.snapshot.paramMap.get("id"),console.log(this.mongoIdPrestamo),this.obtenerGestores(),this.obtenerPrestamo()}registrarPagos(){let t="PAG-"+ke+Pe+Je+Fe+Qe+ka,i=`${Fe}:${Qe}`;this.totalRestante=this.prestamoEspecifico.totalRestante-this.form.value.montoPagado;const n={fecha:this.fecha_Solicitud,folio:t,nombreCliente:this.prestamoEspecifico.nombre,numCliente:this.prestamoEspecifico.numeroCliente,cobranza:0,cantidadPrestamo:this.prestamoEspecifico.cantidadPrestamo,plazo:this.prestamoEspecifico.plazoPrestamo,totalPagar:this.prestamoEspecifico.cantidadPagar,totalRestante:this.totalRestante,pagoDiario:this.prestamoEspecifico.pagoDiario,folioPrestamo:this.prestamoEspecifico.folio,fechaPago:this.fecha_Solicitud,horaPago:i,gestor:this.form.value.gestor,tipo:"Pago",abono:this.form.value.montoPagado,personasCobrador:"Oficina",sucursal:this.sharedService.getFinanciera()};console.log(n),this.pagoService.postPago(n).subscribe(s=>{this.actualizarPrestamo(),console.log("Pago registrado con \xe9xito:"),console.log(s),alert("Pago registrado con exito"),this.router.navigate(["dashboard/prestamos"])},s=>{console.error("Error al registrar Pago:",s),alert("Hay problemas al registrar el pago")})}actualizarPrestamo(){let t="Activo";this.totalRestante<=0&&(t="Finalizado");const i={fechaPago:this.fecha_Solicitud,totalRestante:this.totalRestante,gestor:this.form.value.gestor,estatus:t};console.log(i),this.prestamoService.PutPrestamoFinanciera(this.mongoIdPrestamo,i).subscribe(n=>{n&&(console.log(n),this.router.navigate(["dashboard/prestamos"]))},n=>{console.log(n),alert("Problemas al actualizar el prestamo, intente mas tarde")})}obtenerPagos(){this.pagoService.getPagosPrestamo(this.sharedService.getFinanciera(),this.prestamoEspecifico.folio).subscribe(t=>{console.log(t),this.lista3=t,this.listaPagos=this.lista3.pagos,console.log(this.listaPagos)})}obtenerGestores(){this.gestorService.getGestorFinanciera(this.sharedService.getFinanciera()).subscribe(t=>{console.log(t),this.lista=t,this.listaGestores=this.lista.gestores,console.log(this.listaGestores)})}obtenerPrestamo(){this.prestamoService.getPrestamoEspecifico(this.mongoIdPrestamo).subscribe(t=>{console.log(t),this.lista2=t,this.prestamoEspecifico=this.lista2.prestamo,console.log(this.prestamoEspecifico),this.llenarFormulario(),this.obtenerPagos()})}llenarFormulario(){console.log(this.prestamoEspecifico.nombre),this.form.patchValue({totalRestante:this.prestamoEspecifico.totalRestante,numeroCliente:this.prestamoEspecifico.numeroCliente,fecha:this.prestamoEspecifico.fecha,montoAutorizado:this.prestamoEspecifico.cantidadPrestamo,totalPagar:this.prestamoEspecifico.cantidadPagar,pagoDiario:this.prestamoEspecifico.pagoDiario,plazo:this.prestamoEspecifico.plazoPrestamo,nombreSolicitante:this.prestamoEspecifico.nombre,direccion:this.prestamoEspecifico.direccion,colonia:this.prestamoEspecifico.colonia,celular:this.prestamoEspecifico.telefono,gestor:this.prestamoEspecifico.gestor})}agregarUsuario(){console.log(this.form)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(b.gz),e.Y36(N),e.Y36(j),e.Y36(T),e.Y36(qe),e.Y36(b.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-registro-pago"]],decls:94,vars:38,consts:[[1,"container"],[2,"margin-top","10px"],[3,"formGroup","ngSubmit"],["cols","2","rowHeight","70px"],[3,"colspan","rowspan"],[1,"ancho"],["matInput","","autocomplete","off","formControlName","fecha"],["matInput","","autocomplete","off","formControlName","totalRestante"],["matInput","","type","number","autocomplete","off","formControlName","montoAutorizado"],["matInput","","type","number","autocomplete","off","formControlName","plazo"],["matInput","","type","number","autocomplete","off","formControlName","totalPagar"],["matInput","","type","number","autocomplete","off","formControlName","pagoDiario"],["matInput","","autocomplete","off","formControlName","montoPagado"],["type","submit","mat-raised-button","",1,"my-custom-button",3,"disabled"],["matInput","","autocomplete","off","formControlName","numeroCliente"],["matInput","","autocomplete","off","formControlName","nombreSolicitante"],["matInput","","autocomplete","off","formControlName","direccion"],["matInput","","autocomplete","off","formControlName","colonia"],["type","number","matInput","","autocomplete","off","formControlName","celular"],["formControlName","gestor"],[3,"value",4,"ngFor","ngForOf"],[3,"opened","closed"],[4,"ngFor","ngForOf"],[3,"value"],["matListItemIcon",""],["matListItemTitle",""],["matListItemLine",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Registro de Pago"),e.qZA()(),e.TgZ(4,"mat-card",1)(5,"form",2),e.NdJ("ngSubmit",function(){return i.registrarPagos()}),e.TgZ(6,"mat-grid-list",3)(7,"mat-grid-tile",4)(8,"h3"),e._uU(9,"Datos de prestamo"),e.qZA()(),e.TgZ(10,"mat-grid-tile",4)(11,"mat-form-field",5)(12,"mat-label"),e._uU(13,"Fecha"),e.qZA(),e._UZ(14,"input",6),e.qZA()(),e.TgZ(15,"mat-grid-tile",4)(16,"mat-form-field",5)(17,"mat-label"),e._uU(18,"Total Restante"),e.qZA(),e._UZ(19,"input",7),e.qZA()(),e.TgZ(20,"mat-grid-tile",4)(21,"mat-form-field",5)(22,"mat-label"),e._uU(23,"Monto Aprobado"),e.qZA(),e._UZ(24,"input",8),e.qZA()(),e.TgZ(25,"mat-grid-tile",4)(26,"mat-form-field",5)(27,"mat-label"),e._uU(28,"Plazo"),e.qZA(),e._UZ(29,"input",9),e.qZA()(),e.TgZ(30,"mat-grid-tile",4)(31,"mat-form-field",5)(32,"mat-label"),e._uU(33,"Total a pagar"),e.qZA(),e._UZ(34,"input",10),e.qZA()(),e.TgZ(35,"mat-grid-tile",4)(36,"mat-form-field",5)(37,"mat-label"),e._uU(38,"Pago diario"),e.qZA(),e._UZ(39,"input",11),e.qZA()(),e.TgZ(40,"mat-grid-tile",4)(41,"mat-form-field",5)(42,"mat-label"),e._uU(43,"Monto"),e.qZA(),e._UZ(44,"input",12),e.qZA()(),e.TgZ(45,"mat-grid-tile",4)(46,"button",13),e._uU(47,"Registrar"),e.qZA()(),e.TgZ(48,"mat-grid-tile",4)(49,"h3"),e._uU(50,"Datos de cliente"),e.qZA()(),e.TgZ(51,"mat-grid-tile",4)(52,"mat-form-field",5)(53,"mat-label"),e._uU(54,"Numero de Cliente"),e.qZA(),e._UZ(55,"input",14),e.qZA()(),e.TgZ(56,"mat-grid-tile",4)(57,"mat-form-field",5)(58,"mat-label"),e._uU(59,"Nombre"),e.qZA(),e._UZ(60,"input",15),e.qZA()(),e.TgZ(61,"mat-grid-tile",4)(62,"mat-form-field",5)(63,"mat-label"),e._uU(64,"Direcci\xf3n"),e.qZA(),e._UZ(65,"input",16),e.qZA()(),e.TgZ(66,"mat-grid-tile",4)(67,"mat-form-field",5)(68,"mat-label"),e._uU(69,"Colonia"),e.qZA(),e._UZ(70,"input",17),e.qZA()(),e.TgZ(71,"mat-grid-tile",4)(72,"mat-form-field",5)(73,"mat-label"),e._uU(74,"Telefono Celular"),e.qZA(),e._UZ(75,"input",18),e.qZA()(),e.TgZ(76,"mat-grid-tile",4)(77,"mat-form-field",5)(78,"mat-label"),e._uU(79,"Gestor"),e.qZA(),e.TgZ(80,"mat-select",19),e.YNc(81,Ja,2,2,"mat-option",20),e.qZA()()(),e.TgZ(82,"mat-grid-tile",4)(83,"h3"),e._uU(84,"Historial"),e.qZA()()()(),e.TgZ(85,"mat-expansion-panel",21),e.NdJ("opened",function(){return i.panelOpenState=!0})("closed",function(){return i.panelOpenState=!1}),e.TgZ(86,"mat-expansion-panel-header")(87,"mat-panel-title"),e._uU(88," Lista pagos registrados "),e.qZA(),e.TgZ(89,"mat-panel-description"),e._uU(90," Aqui estan todas las pagos y moras registradas a este prestamo "),e.qZA()(),e.TgZ(91,"mat-list"),e.YNc(92,Pa,16,5,"mat-list-item",22),e._UZ(93,"mat-divider"),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",i.form),e.xp6(2),e.Q6J("colspan",2)("rowspan",1),e.xp6(3),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(1),e.Q6J("disabled",i.form.invalid),e.xp6(2),e.Q6J("colspan",2)("rowspan",1),e.xp6(3),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("ngForOf",i.listaGestores),e.xp6(1),e.Q6J("colspan",2)("rowspan",1),e.xp6(10),e.Q6J("ngForOf",i.listaPagos))},dependencies:[q.sg,p.KE,p.hX,U.Nt,x.lW,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,A.Ye,E.Hw,I.a8,C.Il,C.DX,F.gD,Q.ey,J.ib,J.yz,J.yK,J.u4,y.i$,y.Tg,y.Yt,me.d,y.WW,y.sL],styles:[".ancho[_ngcontent-%COMP%]{width:85%}.my-custom-button[_ngcontent-%COMP%]{width:85%;background-color:#0aa404;color:#fff}"]}),o})();var Da=h(6306),Ea=h(2939);function Ra(o,a){if(1&o&&(e.TgZ(0,"button",25),e._uU(1,"Agregar"),e.qZA()),2&o){const t=e.oxw();e.Q6J("disabled",t.form.invalid)}}function Ma(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.editarGestor(n.elementoEditar))}),e._uU(1,"Editar"),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.form.invalid)}}function Ya(o,a){1&o&&(e.TgZ(0,"th",27),e._uU(1," Nombre "),e.qZA())}function Oa(o,a){if(1&o&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.nombre," ")}}function Ga(o,a){1&o&&(e.TgZ(0,"th",27),e._uU(1," Usuario "),e.qZA())}function ja(o,a){if(1&o&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.usuario," ")}}function $a(o,a){1&o&&(e.TgZ(0,"th",29),e._uU(1," Contrase\xf1a "),e.qZA())}function Ha(o,a){1&o&&(e.TgZ(0,"td",28),e._uU(1," *********** "),e.qZA())}function Va(o,a){1&o&&e._UZ(0,"th",29)}function za(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"td",30)(1,"a",31),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.verDetalles(s))}),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()(),e.TgZ(4,"a",32),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.openDialog(s._id))}),e.TgZ(5,"mat-icon"),e._uU(6,"delete"),e.qZA()()()}}function La(o,a){1&o&&e._UZ(0,"tr",33)}function Ba(o,a){1&o&&e._UZ(0,"tr",34)}let Xa=(()=>{class o{constructor(t,i,n,s,l){this.fb=t,this.matDialog=i,this.gestorService=n,this._snackBar=s,this.sharedService=l,this.lista=[],this.editarActivo=!1,this.guardarActivo=!0,this.listaGestores=[],this.displayedColumns=["nombre","usuario","password","acciones"],this.dataSource=new c.by(this.listaGestores),this.form=this.fb.group({nombre:["",r.kI.required],usuario:["",r.kI.required],password:["",r.kI.required]})}ngOnInit(){this.obtenerGestores()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}verDetalles(t){this.form.patchValue({nombre:t.nombre,usuario:t.usuario,password:t.password}),this.editarActivo=!0,this.guardarActivo=!1,this.elementoEditar=t._id}obtenerGestores(){this.gestorService.getGestorFinanciera(this.sharedService.getFinanciera()).subscribe(t=>{console.log(t),this.lista=t,this.listaGestores=this.lista.gestores,console.log(this.listaGestores),this.dataSource=new c.by(this.listaGestores),console.log(this.dataSource)})}editarGestor(t){this.gestorService.PutGestorFinanciera(t,{nombre:this.form.value.nombre,usuario:this.form.value.usuario,password:this.form.value.password}).subscribe(n=>{n&&(this.obtenerGestores(),console.log(n),alert("Gestor Actualizado"))},n=>{console.log(n),alert("Problemas al actualizar, intente mas tarde")}),this.editarActivo=!1,this.guardarActivo=!0,this.form.reset()}eliminarGestor(t){this.gestorService.DeleteGestorFinanciera(t).subscribe(i=>{i&&(console.log(i),this.obtenerGestores())},i=>{console.log(i)})}registrarGestor(){const t={nombre:this.form.value.nombre,usuario:this.form.value.usuario,password:this.form.value.password,sucursal:this.sharedService.getFinanciera()};console.log(t),this.gestorService.guardarGestor(t).pipe((0,Da.K)(i=>{throw console.error("Error en el registro:",i),i.error&&i.error.errors&&i.error.errors.length>0?(this.errorMessage=i.error.errors[0].msg,console.log(this.errorMessage),this.error(this.errorMessage)):(this.errorMessage="Error desconocido",console.log(this.errorMessage),this.error(this.errorMessage)),i})).subscribe(i=>{i&&(console.log("Se registro al gestor correctamente"),console.log(i),this.obtenerGestores())}),this.form.reset()}openDialog(t){this.matDialog.open(xe,{data:{parametro_id:t},width:"250px"}).afterClosed().subscribe(n=>{console.log("Si se ejecuto el despues de cerrar"),"confirmar"===n&&(console.log("Si devolvio el confirmar"),this.eliminarGestor(t))})}error(t){this._snackBar.open(t,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"bottom"})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(D.uw),e.Y36(N),e.Y36(Ea.ux),e.Y36(T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-gestion-gestores"]],viewQuery:function(t,i){if(1&t&&(e.Gf(S.NW,5),e.Gf(_.YE,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.paginator=n.first),e.iGM(n=e.CRH())&&(i.sort=n.first)}},decls:54,vars:14,consts:[[1,"container"],[1,"example-spacer"],[2,"margin-top","10px"],[3,"formGroup","ngSubmit"],["cols","2","rowHeight","70px"],[3,"colspan","rowspan"],[1,"ancho"],["matInput","","autocomplete","off","formControlName","nombre"],["matInput","","autocomplete","off","formControlName","usuario"],["matInput","","autocomplete","off","formControlName","password"],[2,"text-align","right"],["type","submit","mat-raised-button","","color","primary",3,"disabled",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","usuario"],["matColumnDef","password"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","acciones"],["mat-cell","","style","text-align: right;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",2,"text-align","right"],["matTooltip","Editar Gestor",1,"pointer",2,"color","cornflowerblue",3,"click"],["matTooltip","Eliminar Gestor",1,"pointer",2,"color","cornflowerblue",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Registro de gestores"),e.qZA(),e._UZ(4,"div",1),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"mat-card",2)(7,"form",3),e.NdJ("ngSubmit",function(){return i.registrarGestor()}),e.TgZ(8,"mat-grid-list",4)(9,"mat-grid-tile",5)(10,"h3"),e._uU(11,"Datos del Gestor"),e.qZA()(),e.TgZ(12,"mat-grid-tile",5)(13,"mat-form-field",6)(14,"mat-label"),e._uU(15,"Nombre del gestor"),e.qZA(),e._UZ(16,"input",7),e.qZA()(),e.TgZ(17,"mat-grid-tile",5)(18,"mat-form-field",6)(19,"mat-label"),e._uU(20,"Correo/Usurio"),e.qZA(),e._UZ(21,"input",8),e.qZA()(),e.TgZ(22,"mat-grid-tile",5)(23,"mat-form-field",6)(24,"mat-label"),e._uU(25,"Contrase\xf1a"),e.qZA(),e._UZ(26,"input",9),e.qZA()()(),e.TgZ(27,"h2",10),e.YNc(28,Ra,2,1,"button",11),e.qZA()()(),e._UZ(29,"br"),e.TgZ(30,"h2",10),e.YNc(31,Ma,2,1,"button",12),e.qZA(),e._UZ(32,"br"),e.TgZ(33,"mat-toolbar")(34,"span"),e._uU(35,"Administracion de gestores"),e.qZA(),e._UZ(36,"div",1),e.qZA(),e.TgZ(37,"div")(38,"div",13)(39,"table",14),e.ynx(40,15),e.YNc(41,Ya,2,0,"th",16),e.YNc(42,Oa,2,1,"td",17),e.BQk(),e.ynx(43,18),e.YNc(44,Ga,2,0,"th",16),e.YNc(45,ja,2,1,"td",17),e.BQk(),e.ynx(46,19),e.YNc(47,$a,2,0,"th",20),e.YNc(48,Ha,2,0,"td",17),e.BQk(),e.ynx(49,21),e.YNc(50,Va,1,0,"th",20),e.YNc(51,za,7,0,"td",22),e.BQk(),e.YNc(52,La,1,0,"tr",23),e.YNc(53,Ba,1,0,"tr",24),e.qZA()()()()),2&t&&(e.xp6(7),e.Q6J("formGroup",i.form),e.xp6(2),e.Q6J("colspan",2)("rowspan",1),e.xp6(3),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(6),e.Q6J("ngIf",i.guardarActivo),e.xp6(3),e.Q6J("ngIf",i.editarActivo),e.xp6(8),e.Q6J("dataSource",i.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[q.O5,p.KE,p.hX,U.Nt,x.lW,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,A.Ye,E.Hw,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,ae.gM,_.YE,_.nU,I.a8,C.Il,C.DX],styles:["table[_ngcontent-%COMP%]{width:100%}.pointer[_ngcontent-%COMP%]{cursor:pointer}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.ancho[_ngcontent-%COMP%]{width:85%}"]}),o})();const ue=P.N.url+"/api";let Ka=(()=>{class o{constructor(t){this.http=t}guardarParametros(t){return this.http.post(`${ue}/parametros/`,t)}getParametrosFinanciera(t){return this.http.get(`${ue}/parametros/${t}`)}PutParametrosFinanciera(t,i){return this.http.put(`${ue}/parametros/${t}`,i)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(k.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Wa(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-list-item")(1,"mat-icon",20),e._uU(2,"folder"),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA(),e.TgZ(5,"div",22),e._uU(6),e.qZA(),e.TgZ(7,"div",22)(8,"p",23),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.eliminarInteres(s._id))}),e._uU(9,"Eliminar"),e.qZA()(),e._UZ(10,"div",22),e.qZA()}if(2&o){const t=a.$implicit;e.xp6(4),e.Oqu(t.porcentaje),e.xp6(2),e.AsE("Limite Inferior: ",t.limiteInferior," --- Limite Superior: ",t.limiteSuperior,"")}}const en=[{path:"",component:Ge,children:[{path:"",component:je},{path:"clientes",component:st},{path:"informe-general",component:ut},{path:"informe-rutas",component:It},{path:"prestamos",component:eo},{path:"registro-actividad",component:to},{path:"renovaciones",component:_o},{path:"solicitudes",component:Jo},{path:"tabulador",component:zo},{path:"agregar-cliente",component:ni},{path:"expediente/:id",component:vi},{path:"editar-cliente/:id",component:Ii},{path:"nueva-renovacion/:id",component:ki},{path:"revisar-renovacion/:id",component:Yi},{path:"nueva-solicitud",component:Bi},{path:"historial-renovacion",component:ma},{path:"historial-solicitud",component:qa},{path:"historial-prestamo",component:xa},{path:"revisar-prestamo/:id",component:Na},{path:"registro-pago/:id",component:Qa},{path:"gestion-gestores",component:Xa},{path:"ajustes",component:(()=>{class o{constructor(t,i,n,s,l,m){this.fb=t,this.sharedService=i,this.interesService=n,this.imageCompress=s,this.parametroService=l,this.uploadService=m,this.panelOpenState=!1,this.listaParametros=[],this.form=this.fb.group({lSuperior:["",r.kI.required],lInferior:["",r.kI.required],porcentaje:["",r.kI.required]}),this.form2=this.fb.group({mora:["",r.kI.required],hora:["",r.kI.required]})}ngOnInit(){this.obtenerListaDeInteres(),this.obtenerParametos()}obtenerListaDeInteres(){this.interesService.getinteresFinanciera(this.sharedService.getFinanciera()).subscribe(t=>{this.lista=t,this.listaDeInteres=this.lista.intereces,console.log(this.listaDeInteres)},t=>{console.error("Error al obtener la lista de precios:",t)})}obtenerParametos(){this.parametroService.getParametrosFinanciera(this.sharedService.getFinanciera()).subscribe(t=>{this.lista2=t,this.listaParametros=this.lista2.parametros,console.log(this.listaParametros)},t=>{console.error("Error al obtener la lista de los parametros:",t)})}agregarInteres(){console.log(this.form);const t={sucursal:this.sharedService.getFinanciera(),limiteInferior:this.form.value.lInferior,limiteSuperior:this.form.value.lSuperior,porcentaje:this.form.value.porcentaje};this.interesService.guardarInteres(t).subscribe(i=>{i&&(console.log("Registro de interes exitoso"),console.log(i),alert("Registro exitoso"),this.form.reset(),this.obtenerListaDeInteres())},i=>{console.log(i)})}registrarParametros(){this.listaParametros.length>0?this.editarParametros():this.guardarParametro()}editarParametros(){console.log("Editar parametro"+this.listaParametros[0]._id),this.parametroService.PutParametrosFinanciera(this.listaParametros[0]._id,{montoMora:this.form2.value.mora,horaLimite:this.form2.value.hora}).subscribe(i=>{i&&(console.log(i),alert("Datos Almacenados"),this.form2.reset(),this.obtenerParametos())},i=>{console.log(i),alert("No se pudieron Guardar los datos")})}guardarParametro(){const t={urlLogo:"URL",montoMora:this.form2.value.mora,horaLimite:this.form2.value.hora,tipoCobro:"Diario",idAdministrador:this.sharedService.getID(),sucursal:this.sharedService.getFinanciera()};this.parametroService.guardarParametros(t).subscribe(i=>{i&&(console.log(i),alert("Datos Almacenados"),this.form2.reset(),this.obtenerParametos())},i=>{console.log(i),alert("No se pudieron Guardar los datos")})}eliminarInteres(t){this.interesService.DeleteInteresFinanciera(t).subscribe(i=>{i&&(console.log(i),alert("Se elimino correctamente"),this.obtenerListaDeInteres())},i=>{console.log(i),alert("No se pudo eliminar")})}openInput(){document.getElementById("fileInput").click()}onFileSelected(t,i){const n=t.target.files[0];this.listaParametros.length>0?n&&(console.log("tipo en Seleccionar el archivo "+i),this.subirArchivo(n,i)):alert("primero registra la informacion y despues sube tu logo")}compressImage(t,i){const n=new FileReader;n.onload=s=>{console.log("Comprimiendo ......."),this.imageCompress.compressFile(s.target.result,-1,50,50).then(m=>{const u=new File([m],"nombre_de_archivo.jpg",{type:"image/jpeg",lastModified:Date.now()});console.log("tipo en comprimir  "+i),this.subirArchivo(u,i)})},n.readAsDataURL(t)}subirArchivo(t,i){console.log("tipo en subir archivo "+i);const n=this.sharedService.getFinanciera()??"vacio";t&&this.uploadService.uploadUpdateFile(t,this.listaParametros[0]._id,"parametros",n,"parametros",i+"_"+n,i).then(l=>{console.log("Documento subido"),console.log(l),alert("Se subio el archivo correctamente")}).catch(l=>{console.error("Error al cargar el archivo:",l)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(T),e.Y36(ee),e.Y36(te),e.Y36(Ka),e.Y36(oe))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ajustes"]],decls:70,vars:34,consts:[[1,"container"],["cols","3","rowHeight","75px"],[1,"izquierdo",3,"colspan","rowspan"],[3,"colspan","rowspan"],["src","assets\\img\\config.png","alt","",1,"img_Cliente"],[2,"margin-top","10px"],["cols","2","rowHeight","70px"],["type","button","mat-raised-button","",1,"ancho",3,"click"],["id","fileInput","hidden","","type","file","accept",".pdf,.jpg,.png",3,"change"],[3,"formGroup","ngSubmit"],[1,"ancho"],["type","Number","matInput","","autocomplete","off","formControlName","mora"],["matInput","","autocomplete","off","formControlName","hora","placeholder","19:30"],["type","submit","mat-raised-button","","color","primary",1,"ancho"],["type","number","matInput","","autocomplete","off","formControlName","lInferior"],["type","number","matInput","","autocomplete","off","formControlName","lSuperior"],["type","number","matInput","","autocomplete","off","formControlName","porcentaje"],["type","submit","mat-raised-button","","color","primary",1,"ancho",3,"disabled"],[3,"opened","closed"],[4,"ngFor","ngForOf"],["matListItemIcon",""],["matListItemTitle",""],["matListItemLine",""],[2,"text-align","right",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar")(2,"span"),e._uU(3,"Configuracion de Parametros"),e.qZA()(),e.TgZ(4,"div")(5,"mat-grid-list",1)(6,"mat-grid-tile",2),e._uU(7," Bienvenido al apartado de configuracion de la plataforma, aqui pagina seras capaz de modificar parametros para personalizar tu experiencia como tu logo, slos montos de las moras, entre otras opciones asi como las tasas de interes. "),e.qZA(),e.TgZ(8,"mat-grid-tile",3)(9,"div"),e._UZ(10,"img",4),e.qZA()()(),e.TgZ(11,"mat-card",5)(12,"mat-grid-list",6)(13,"mat-grid-tile",3)(14,"h2"),e._uU(15,"Configuracion General"),e.qZA()(),e.TgZ(16,"mat-grid-tile",3)(17,"button",7),e.NdJ("click",function(){return i.openInput()}),e._uU(18,"INE Frente"),e.qZA(),e.TgZ(19,"input",8),e.NdJ("change",function(s){return i.onFileSelected(s,"logotipo")}),e.qZA()(),e.TgZ(20,"form",9),e.NdJ("ngSubmit",function(){return i.registrarParametros()}),e.TgZ(21,"mat-grid-tile",3)(22,"mat-form-field",10)(23,"mat-label"),e._uU(24,"Monto Correpondiente a mora"),e.qZA(),e._UZ(25,"input",11),e.qZA()(),e.TgZ(26,"mat-grid-tile",3)(27,"mat-form-field",10)(28,"mat-label"),e._uU(29,"Hora Limite"),e.qZA(),e._UZ(30,"input",12),e.qZA()(),e._UZ(31,"mat-grid-tile",3),e.TgZ(32,"mat-grid-tile",3)(33,"button",13),e._uU(34,"Aplicar"),e.qZA()()(),e._UZ(35,"br")(36,"br")(37,"mat-grid-tile",3),e.TgZ(38,"mat-grid-tile",3)(39,"h2"),e._uU(40,"Tasas de interes"),e.qZA()(),e.TgZ(41,"form",9),e.NdJ("ngSubmit",function(){return i.agregarInteres()}),e.TgZ(42,"mat-grid-tile",3)(43,"mat-form-field",10)(44,"mat-label"),e._uU(45,"Limite Inferior"),e.qZA(),e._UZ(46,"input",14),e.qZA()(),e.TgZ(47,"mat-grid-tile",3)(48,"mat-form-field",10)(49,"mat-label"),e._uU(50,"Limite Superior"),e.qZA(),e._UZ(51,"input",15),e.qZA()(),e.TgZ(52,"mat-grid-tile",3)(53,"mat-form-field",10)(54,"mat-label"),e._uU(55,"Porcentaje"),e.qZA(),e._UZ(56,"input",16),e.qZA()(),e._UZ(57,"mat-grid-tile",3),e.TgZ(58,"mat-grid-tile",3)(59,"button",17),e._uU(60,"Guardar"),e.qZA()()()(),e.TgZ(61,"mat-expansion-panel",18),e.NdJ("opened",function(){return i.panelOpenState=!0})("closed",function(){return i.panelOpenState=!1}),e.TgZ(62,"mat-expansion-panel-header")(63,"mat-panel-title"),e._uU(64," Lista de tasas de interes "),e.qZA(),e.TgZ(65,"mat-panel-description"),e._uU(66," Aqui estan todas las tasas que has generado "),e.qZA()(),e.TgZ(67,"mat-list"),e.YNc(68,Wa,11,3,"mat-list-item",19),e._UZ(69,"mat-divider"),e.qZA()()()()()),2&t&&(e.xp6(6),e.Q6J("colspan",2)("rowspan",2),e.xp6(2),e.Q6J("colspan",1)("rowspan",2),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(3),e.Q6J("colspan",2)("rowspan",1),e.xp6(4),e.Q6J("formGroup",i.form2),e.xp6(1),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(1),e.Q6J("colspan",1)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(1),e.Q6J("colspan",2)("rowspan",1),e.xp6(3),e.Q6J("formGroup",i.form),e.xp6(1),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",2)("rowspan",1),e.xp6(5),e.Q6J("colspan",1)("rowspan",1),e.xp6(1),e.Q6J("colspan",1)("rowspan",1),e.xp6(1),e.Q6J("disabled",i.form.invalid),e.xp6(9),e.Q6J("ngForOf",i.listaDeInteres))},dependencies:[q.sg,p.KE,p.hX,U.Nt,x.lW,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,A.Ye,E.Hw,I.a8,C.Il,C.DX,J.ib,J.yz,J.yK,J.u4,y.i$,y.Tg,y.Yt,me.d,y.WW,y.sL],styles:[".ancho[_ngcontent-%COMP%]{width:85%}.my-custom-button[_ngcontent-%COMP%]{width:85%;background-color:#0aa404;color:#fff}.img_Cliente[_ngcontent-%COMP%]{max-width:120px;width:100%;height:100%;max-height:120px}.izquierdo[_ngcontent-%COMP%]{margin-left:10px}"]}),o})()}]},{path:"login",component:De.G}];let tn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[b.Bz.forChild(en),b.Bz]}),o})();var on=h(2404);let an=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[q.ez,tn,on.m]}),o})()}}]);